/*==================================================
 Copyright (c) 2013-2015 司徒正美 and other contributors
 http://www.cnblogs.com/rubylouvre/
 https://github.com/RubyLouvre
 http://weibo.com/jslouvre/
 
 Released under the MIT license
 avalon.shim.js(无加载器版本) 1.45 built in 2015.7.13
 support IE6+ and other browsers
 ==================================================*/

/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */

/**
 * @license RequireJS text 2.0.13+ Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

(function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("Avalon requires a window with a document");return t(e)}:t(e)})(typeof window!="undefined"?window:this,function(e,t){function u(){e.console&&avalon.config.debug&&Function.apply.call(console.log,console,arguments)}function L(){}function A(e,t){typeof e=="string"&&(e=e.match(p)||[]);var n={},r=t!==void 0?t:1;for(var i=0,s=e.length;i<s;i++)n[e[i]]=r;return n}function M(){if(e.VBArray){var t=document.documentMode;return t?t:e.XMLHttpRequest?7:6}return NaN}function P(e){return m.test(b.call(e))}function j(e,t){return e=Math.floor(e)||0,e<0?Math.max(t+e,0):Math.min(e,t)}function q(e){if(!e)return!1;var t=e.length;if(t===t>>>0){var n=b.call(e).slice(8,-1);if(/(?:regexp|string|function|window|global)$/i.test(n))return!1;if(n==="Array")return!0;try{return{}.propertyIsEnumerable.call(e,"length")===!1?/^\s?function/.test(e.item||e.callee):!0}catch(r){return!e.window}}return!1}function $(e,t,n){var r="for(var "+e+"i=0,n = this.length; i < n; i++){"+t.replace("_","((i in this) && fn.call(scope,this[i],i,this))")+"}"+n;return Function("fn,scope",r)}function J(e,t){try{while(t=t.parentNode)if(t===e)return!0;return!1}catch(n){return!1}}function K(){return(new XMLSerializer).serializeToString(this)}function et(e){var t={};for(var n in e)t[n]=e[n];var i=t.target=e.srcElement;if(e.type.indexOf("key")===0)t.which=e.charCode!=null?e.charCode:e.keyCode;else if(Z.test(e.type)){var s=i.ownerDocument||r,o=s.compatMode==="BackCompat"?s.body:s.documentElement;t.pageX=e.clientX+(o.scrollLeft>>0)-(o.clientLeft>>0),t.pageY=e.clientY+(o.scrollTop>>0)-(o.clientTop>>0),t.wheelDeltaY=t.wheelDelta,t.wheelDeltaX=0}return t.timeStamp=new Date-0,t.originalEvent=e,t.preventDefault=function(){e.returnValue=!1},t.stopPropagation=function(){e.cancelBubble=!0},t}function it(e){for(var t in e){if(!y.call(e,t))continue;var n=e[t];typeof it.plugins[t]=="function"?it.plugins[t](n):typeof it[t]=="object"?avalon.mix(it[t],n):it[t]=n}return this}function ct(e){return(e+"").replace(lt,"\\$&")}function St(e,t,n){if(Array.isArray(e)){var r=e.concat();e.length=0;var i=Ht(e);return i.pushArray(r),i}if(!e||e.nodeType>0||e.$id&&e.$events)return e;var s=Array.isArray(e.$skipArray)?e.$skipArray:[];s.$special=t||{};var o={};n=n||{};var u={},a={},f=[];gt.forEach(function(t){delete e[t]});var l=Object.keys(e);l.forEach(function(t,r){var i=e[t];n[t]=i;if(Mt(t,i,s)){u[t]=[];var o=avalon.type(i);o==="object"&&D(i.get)&&Object.keys(i).length<=2?(r=Nt(t,i),f.push(r)):d.test(o)?r=Ct(t,i,o,u[t]):r=Tt(t,i),a[t]=r}}),o=wt(o,_t(a),e);for(var c=0;c<l.length;c++){var h=l[c];a[h]||(o[h]=e[h])}o.$propertyNames=l.sort().join("&shy;"),o.$id=O(),o.$model=n,o.$events=u;for(c in vt){var p=vt[c];x||(p=p.bind(o)),o[c]=p}return bt?Object.defineProperty(o,"hasOwnProperty",xt):o.hasOwnProperty=function(e){return e in o.$model},o.$reinitialize=function(){f.forEach(function(e){delete e._value,delete e.oldArgs,e.digest=function(){e.call(o)},Rt.begin({callback:function(t,n){var r=n._name;if(n!==e){var i=t.$events[r];zt(i,e.digest)}}});try{e.get.call(o)}finally{Rt.end()}})},o.$reinitialize(),o}function Tt(e,t){function n(e){var t=n._value;return arguments.length>0?(!h&&!Ot(e,t)&&(n.updateValue(this,e),n.notify(this,e,t)),this):(Rt.collectDependency(this,n),t)}return At(n,e),n._value=t,n}function Nt(e,t){function n(t){var r=n._value,i="_value"in n;if(arguments.length>0){if(h)return this;if(typeof n.set=="function"&&n.oldArgs!==t){n.oldArgs=t;var s=this.$events,o=s[e];s[e]=[],n.set.call(this,t),s[e]=o,t=n.get.call(this),t!==r&&(n.updateValue(this,t),n.notify(this,t,r))}return this}return t=n.get.call(this),n.updateValue(this,t),i&&r!==t&&n.notify(this,t,r),t}return n.set=t.set,n.get=t.get,At(n,e),n}function Ct(e,t,n,r){function i(t){var r=i._value,s=i._vmodel;if(arguments.length>0){if(h)return this;if(n==="array"){var o=s,u=t,f=o.length,l=u.length;o.$lock=!0,f>l?o.splice(l,f-l):l>f&&o.push.apply(o,u.slice(f));var c=Math.min(f,l);for(var p=0;p<c;p++)o.set(p,u[p]);delete o.$lock,o._fire("set")}else if(n==="object"){var d=Object.keys(t).sort().join("&shy;");if(s.$propertyNames===d)for(p in t)s[p]=t[p];else if(x){var o=i._vmodel=St(t);o.$events=s.$events}else{var v=s.$proxy;s=i._vmodel=St(t);var m=s.$events[a]=this.$events[e]||[],g=m.concat();m.length=0,s.$proxy=v;while(o=g.shift()){var y=F[o.type];y&&(o.rollback&&o.rollback(),y(o,o.vmodels))}}}return i.updateValue(this,s.$model),i.notify(this,this._value,r),this}return Rt.collectDependency(this,i),s}At(i,e);var s=i._vmodel=St(t);return s.$events[a]=r,i}function kt(e,t){e.$model[this._name]=this._value=t}function Lt(e,t,n){var r=this._name,i=e.$events[r];i&&(Wt(i),vt.$fire.call(e,r,t,n))}function At(e,t){e._name=t,e.updateValue=kt,e.notify=Lt}function Mt(e,t,n){if(D(t)||t&&t.nodeType)return!1;if(n.indexOf(e)!==-1)return!1;var r=n.$special;return e&&e.charAt(0)==="$"&&!r[e]?!1:!0}function Ht(e){var t=[];t.$id=O(),t.$model=e,t.$events={},t.$events[a]=[],t._=St({length:e.length}),t._.$watch("length",function(e,n){t.$fire("length",e,n)});for(var n in vt)t[n]=vt[n];return avalon.mix(t,Ft),t}function Bt(e,t,n,r,i,s,o){var u=this.length,a=2;while(--a){switch(e){case"add":var f=this.$model.slice(t,t+n).map(function(e){return d.test(avalon.type(e))?e.$id?e:St(e,0,e):e});jt.apply(this,[t,0].concat(f)),this._fire("add",t,n);break;case"del":var l=this._splice(t,n);this._fire("del",t,n)}i&&(e=i,t=s,n=o,a=2,i=0)}return this._fire("index",r),this.length!==u&&(this._.length=this.length),l}function It(e,t){var n=e.length-1;for(var r;r=e[t];t++)r.$index=t,r.$first=t===0,r.$last=t===n}function qt(e,t){var n={};for(var r=0,i=t.length;r<i;r++){n[r]=e[r];var s=t[r];s in n?(e[r]=n[s],delete n[s]):e[r]=e[s]}}function zt(e,t){if(t.oneTime)return;e&&avalon.Array.ensure(e,t)&&t.element&&Yt(t,e)}function Wt(e){if(e&&e.length){new Date-$t>444&&typeof e[0]=="object"&&Zt();var t=E.call(arguments,1);for(var n=e.length,r;r=e[--n];){var i=r.element;if(i&&i.parentNode)try{if(r.$repeat)r.handler.apply(r,t);else if(r.type!=="on"){var s=r.evaluator||L;r.handler(s.apply(0,r.args||[]),i,r)}}catch(o){}}}}function Qt(e,t){return!e.uuid&&!t&&(e.uuid=++Xt,Kt[e.uuid]=e),e.uuid}function Gt(e){return Kt[e]}function Yt(e,t){var n=e.element;e.uuid||(n.nodeType!==1?e.uuid=e.type+(e.pos||0)+"-"+Qt(n.parentNode):e.uuid=e.name+"-"+Qt(n));var r=e.lists||(e.lists=[]);avalon.Array.ensure(r,t),t.$uuid=t.$uuid||O(),Vt[e.uuid]||(Vt[e.uuid]=1,Vt.push(e))}function Zt(e){if(avalon.optimize)return;var t=Vt.length,n=t,r=[],i={},s={};while(e=Vt[--t]){var o=e.type;s[o]?s[o]++:(s[o]=1,r.push(o))}var u=!1;r.forEach(function(e){Jt[e]!==s[e]&&(i[e]=1,u=!0)}),t=n;if(u)while(e=Vt[--t]){if(!e.element)continue;if(i[e.type]&&tn(e.element)){Vt.splice(t,1),delete Vt[e.uuid],delete Kt[e.element.uuid];var a=e.lists;for(var f=0,l;l=a[f++];)avalon.Array.remove(a,l),avalon.Array.remove(l,e);en(e)}}Jt=s,$t=new Date}function en(e){e.element=null,e.rollback&&e.rollback();for(var t in e)e[t]=null}function tn(e){try{if(!e.parentNode)return!0}catch(t){return!0}return e.msRetain?0:e.nodeType===1?!T.contains(e):!avalon.contains(T,e)}function cn(e){var t=e.nodeName;return t.toLowerCase()===t&&e.scopeName&&e.outerText===""}function hn(e){e.currentStyle.behavior!=="url(#default#VML)"&&(e.style.behavior="url(#default#VML)",e.style.display="inline-block",e.style.zoom=1)}function pn(e){return e.replace(/([a-z\d])([A-Z]+)/g,"$1-$2").toLowerCase()}function dn(e){return!e||e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(/[-_][^-_]/g,function(e){return e.charAt(1).toUpperCase()})}function mn(e){if(!("classList"in e)){e.classList={node:e};for(var t in vn)e.classList[t.slice(1)]=vn[t]}return e.classList}function gn(e){try{if(typeof e=="object")return e;e=e==="true"?!0:e==="false"?!1:e==="null"?null:+e+""===e?+e:yn.test(e)?avalon.parseJSON(e):e}catch(t){}return e}function xn(e){return e.window&&e.document?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}function Hn(e,t){if(e.offsetWidth<=0){if(Pn.test(Tn["@:get"](e,"display"))){var n={node:e};for(var r in Dn)n[r]=e.style[r],e.style[r]=Dn[r];t.push(n)}var i=e.parentNode;i&&i.nodeType===1&&Hn(i,t)}}function Bn(e){var t=e.tagName.toLowerCase();return t==="input"&&/checkbox|radio/.test(e.type)?"checked":t}function Kn(e,t,n,r){var i=[],s=" = "+n+".";for(var o=e.length,u;u=e[--o];)t.hasOwnProperty(u)&&(i.push(u+s+u),r.vars.push(u),r.type==="duplex"&&(e.get=n+"."+u),e.splice(o,1));return i}function Qn(e){var t=[],n={};for(var r=0;r<e.length;r++){var i=e[r],s=i&&typeof i.$id=="string"?i.$id:i;n[s]||(n[s]=t.push(i))}return t}function sr(e,t){return t=t.replace(er,"").replace(tr,function(){return"],|"}).replace(nr,function(e,t){return"["+qn(t)}).replace(rr,function(){return'"],["'}).replace(ir,function(){return'",'})+"]","return avalon.filters.$filter("+e+", "+t+")"}function or(e,t,r){var i=r.type,s=r.filters||"",o=t.map(function(e){return String(e.$id).replace(Zn,"$1")})+e+i+s,a=Jn(e).concat(),f=[],l=[],c=[],h="";t=Qn(t),r.vars=[];for(var p=0,d=t.length;p<d;p++)if(a.length){var v="vm"+n+"_"+p;l.push(v),c.push(t[p]),f.push.apply(f,Kn(a,t[p],v,r))}if(!f.length&&i==="duplex")return;i!=="duplex"&&(e.indexOf("||")>-1||e.indexOf("&&")>-1)&&r.vars.forEach(function(t){var n=new RegExp("\\b"+t+"(?:\\.\\w+|\\[\\w+\\])+","ig");e=e.replace(n,function(n){var r=n.charAt(t.length),i=_?e.slice(arguments[1]+n.length):RegExp.rightContext,s=/^\s*\(/.test(i);if(r==="."||r==="["||s){var o="var"+String(Math.random()).replace(/^0\./,"");if(s){var u=n.split(".");if(u.length>2){var a=u.pop();return f.push(o+" = "+u.join(".")),o+"."+a}return n}return f.push(o+" = "+n),o}return n})}),r.args=c,delete r.vars;var m=Gn.get(o);if(m){r.evaluator=m;return}h=f.join(", "),h&&(h="var "+h);if(/\S/.test(s)){if(!/text|html/.test(r.type))throw Error("ms-"+r.type+"不支持过滤器");e="\nvar ret"+n+" = "+e+";\r\n",e+=sr("ret"+n,s)}else{if(i==="duplex"){var g="\nreturn function(vvv){\n	"+h+";\n	if(!arguments.length){\n		return "+e+"\n	}\n	"+(Yn.test(e)?e:a.get)+"= vvv;\n} ";try{m=Function.apply(L,l.concat(g)),r.evaluator=Gn.put(o,m)}catch(y){u("debug: parse error,"+y.message)}return}if(i==="on"){e.indexOf("(")===-1?e+=".call(this, $event)":e=e.replace("(",".call(this,"),l.push("$event"),e="\nreturn "+e+";";var b=e.lastIndexOf("\nreturn"),w=e.slice(0,b),E=e.slice(b);e=w+"\n"+E}else e="\nreturn "+e+";"}try{m=Function.apply(L,l.concat("\n"+h+e)),r.evaluator=Gn.put(o,m)}catch(y){u("debug: parse error,"+y.message)}finally{a=f=l=null}}function ur(e,t,n,r,i){Array.isArray(r)&&(e=r.map(function(e){return e.expr?"("+e.value+")":qn(e.value)}).join(" + ")),or(e,t,n),n.evaluator&&!i&&(n.handler=I[n.handlerName||n.type],avalon.injectBinding(n))}function fr(e,t,n){var r=setTimeout(function(){var i=e.innerHTML;clearTimeout(r),i===n?t():fr(e,t,i)})}function lr(e,t){var n=e.getAttribute("avalonctrl")||t.$id;e.setAttribute("avalonctrl",n),t.$events.expr=e.tagName+'[avalonctrl="'+n+'"]'}function hr(e,t){for(var n=0,r;r=e[n++];)r.vmodels=t,F[r.type](r,t),r.evaluator&&r.element&&r.element.nodeType===1&&r.element.removeAttribute(r.name);e.length=0}function br(e,t){return e.priority-t.priority}function wr(e,t,n){var r=!0;if(t.length){var i=Lr?Lr(e):e.attributes,s=[],o=[],a={};for(var f=0,l;l=i[f++];)if(l.specified)if(n=l.name.match(vr)){var c=n[1],h=n[2]||"",p=l.value,d=l.name;gr[c]?(h=c,c="on"):yr[c]&&(c==="enabled"&&(u("warning!ms-enabled或ms-attr-enabled已经被废弃"),c="disabled",p="!("+p+")"),h=c,c="attr",d="ms-"+c+"-"+h,o.push([l.name,d,p])),a[d]=p;if(typeof F[c]=="function"){var v=p.replace(dr,""),m=p!==v,g={type:c,param:h,element:e,name:d,value:v,oneTime:m,uuid:d+"-"+Qt(e),priority:(mr[c]||c.charCodeAt(0)*10)+(Number(h.replace(/\D/g,""))||0)};if(c==="html"||c==="text"){var y=jr(p);avalon.mix(g,y),g.filters=g.filters.replace(_r,function(){return g.type="html",g.group=1,""})}else if(c==="duplex")var b=d;else d==="ms-if-loop"&&(g.priority+=100);s.push(g),c==="widget"&&(e.msData=e.msData||a)}}if(s.length){s.sort(br),o.forEach(function(t){u("warning!请改用"+t[1]+"代替"+t[0]+"!"),e.removeAttribute(t[0]),e.setAttribute(t[1],t[2])}),b&&(a["ms-attr-checked"]&&u("warning!一个控件不能同时定义ms-attr-checked与"+b),a["ms-attr-value"]&&u("warning!一个控件不能同时定义ms-attr-value与"+b));for(f=0;g=s[f];f++){c=g.type;if(Er.test(c))return hr(s.slice(0,f+1),t);r&&(r=!Sr.test(c))}hr(s,t)}}r&&!ar[e.tagName]&&ft.test(e.innerHTML.replace(Pr,"<").replace(Hr,">"))&&(pr&&pr(e),Ar(e,t))}function Ar(e,t){var n=avalon.slice(e.childNodes);Or(n,t)}function Or(e,t){for(var n=0,r;r=e[n++];)switch(r.nodeType){case 1:Mr(r,t),r.msCallback&&(r.msCallback(),r.msCallback=void 0);break;case 3:ut.test(r.nodeValue)&&Ir(r,t,n)}}function Mr(e,t,n){var r=e.getAttribute("ms-skip");if(!e.getAttributeNode)return u("warning "+e.tagName+" no getAttributeNode method");var i=e.getAttributeNode("ms-important"),s=e.getAttributeNode("ms-controller");if(typeof r=="string")return;if(n=i||s){var o=avalon.vmodels[n.value];if(!o)return;t=n===i?[o]:[o].concat(t);var a=n.name;e.removeAttribute(a),avalon(e).removeClass(a),lr(e,o)}wr(e,t)}function jr(e){if(e.indexOf("|")>0){var t=e.replace(Br,function(e){return Array(e.length+1).join("1")}),n=t.replace(Dr,"ᄢ㍄").indexOf("|");if(n>-1)return{filters:e.slice(n),value:e.slice(0,n),expr:!0}}return{value:e,filters:"",expr:!0}}function Fr(e){var t=[],n,r=0,i;do{i=e.indexOf(st,r);if(i===-1)break;n=e.slice(r,i),n&&t.push({value:n,filters:"",expr:!1}),r=i+st.length,i=e.indexOf(ot,r);if(i===-1)break;n=e.slice(r,i),n&&t.push(jr(n,r)),r=i+ot.length}while(1);return n=e.slice(r),n&&t.push({value:n,expr:!1,filters:""}),t}function Ir(e,t,n){var i=[];tokens=Fr(e.data);if(tokens.length){for(var s=0;token=tokens[s++];){var o=r.createTextNode(token.value);token.expr&&(token.value=token.value.replace(dr,function(){return token.oneTime=!0,""}),token.type="text",token.element=o,token.filters=token.filters.replace(_r,function(){return token.type="html",""}),token.pos=n*1e3+s,i.push(token)),N.appendChild(o)}e.parentNode.replaceChild(N,e),i.length&&hr(i,t)}}function Jr(e,t,n){var i=e.templateCache&&e.templateCache[t];if(i){var s=r.createDocumentFragment(),o;while(o=i.firstChild)s.appendChild(o);return s}return avalon.parseHTML(n)}function Qr(e){return e==null?"":e}function Gr(e,t,n,r){return t.param.replace(/\w+/g,function(r){var i=avalon.duplexHooks[r];i&&typeof i[n]=="function"&&(e=i[n](e,t))}),e}function ei(){for(var e=Zr.length-1;e>=0;e--){var t=Zr[e];t()===!1&&Zr.splice(e,1)}Zr.length||clearInterval(Yr)}function ii(e,t,n,i){var s=e.template.cloneNode(!0),o=avalon.slice(s.childNodes);e.$with||s.insertBefore(r.createComment(e.signature),s.firstChild),t.appendChild(s);var u=[n].concat(e.vmodels),a={nodes:o,vmodels:u};i.push(a)}function si(e){var t=e.element,n=t.nodeValue.replace(":end",""),r=t.previousSibling,i=[];while(r)r.nodeValue===n&&i.unshift(r),r=r.previousSibling;return i}function oi(e,t,n){for(;;){var r=t.previousSibling;if(!r)break;r.parentNode.removeChild(r),n&&n.call(r);if(r===e)break}}function ai(){var e=St({$key:"",$outer:{},$host:{},$val:{get:function(){return this.$host[this.$key]},set:function(e){this.$host[this.$key]=e}}},{$val:1});return e.$id=O("$proxy$with"),e}function fi(e,t,n){e=e||ui.pop(),e?e.$reinitialize():e=ai();var r=n.$repeat;return e.$key=t,e.$host=r,e.$outer=n.$outer,r.$events?e.$events.$val=r.$events[t]:e.$events={},e}function li(e){ci(e)}function ci(e){e.forEach(function(e){vi(e,hi)}),e.length=0}function pi(e){var t={$host:[],$outer:{},$index:0,$first:!1,$last:!1,$remove:avalon.noop};t[e]={get:function(){var t=this.$events,n=t.$index;t.$index=t[e];try{return this.$host[this.$index]}finally{t.$index=n}},set:function(e){try{var t=this.$events,n=t.$index;t.$index=[],this.$host.set(this.$index,e)}finally{t.$index=n}}};var n={$last:1,$first:1,$index:1},r=St(t,n);return r.$id=O("$proxy$each"),r}function di(e,t){var n=t.param||"el",r;for(var i=0,s=hi.length;i<s;i++){var o=hi[i];o&&o.hasOwnProperty(n)&&(r=o,hi.splice(i,1))}r||(r=pi(n));var u=t.$repeat,a=u.length-1;return r.$index=e,r.$first=e===0,r.$last=e===a,r.$host=u,r.$outer=t.$outer,r.$remove=function(){return u.removeAt(r.$index)},r}function vi(e,t){for(var n in e.$events)Array.isArray(e.$events[n])&&(e.$events[n].forEach(function(e){typeof e=="object"&&en(e)}),e.$events[n].length=0);e.$host=e.$outer={},t.unshift(e)>it.maxRepeatSize&&t.pop()}function mi(e,t){var n="_"+e;if(!mi[n]){var i=r.createElement(e);T.appendChild(i),x?t=getComputedStyle(i,null).display:t=i.currentStyle.display,T.removeChild(i),mi[n]=t}return mi[n]}function Ti(e,t,n,r){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var i=isFinite(+e)?+e:0,s=isFinite(+t)?Math.abs(t):3,o=r||",",u=n||".",a="",f=function(e,t){var n=Math.pow(10,t);return""+(Math.round(e*n)/n).toFixed(t)};return a=(s?f(i,s):""+Math.round(i)).split("."),a[0].length>3&&(a[0]=a[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),(a[1]||"").length<s&&(a[1]=a[1]||"",a[1]+=(new Array(s-a[1].length+1)).join("0")),a.join(u)}var n=new Date-0,r=e.document,i=r.getElementsByTagName("head")[0],s=i.insertBefore(document.createElement("avalon"),i.firstChild);s.innerHTML="X<style id='avalonStyle'>.avalonHide{ display: none!important }</style>",s.setAttribute("ms-skip","1"),s.className="avalonHide";var o=/\[native code\]/,a="$"+n,f=e.require,l=e.define,c,h=!1,p=/[^, ]+/g,d=/^(?:object|array)$/,v=/^\[object SVG\w*Element\]$/,m=/^\[object (?:Window|DOMWindow|global)\]$/,g=Object.prototype,y=g.hasOwnProperty,b=g.toString,w=Array.prototype,E=w.slice,S={},x=e.dispatchEvent,T=r.documentElement,N=r.createDocumentFragment(),C=r.createElement("div"),k={};"Boolean Number String Function Array Date RegExp Object Error".replace(p,function(e){k["[object "+e+"]"]=e.toLowerCase()});var O=function(e){return e=e||"avalon",String(Math.random()+Math.random()).replace(/\d\.\d{4}/,e)},_=M();avalon=function(e){return new avalon.init(e)},avalon.profile=function(){e.console&&avalon.config.profile&&Function.apply.call(console.log,console,arguments)},avalon.nextTick=new function(){function s(){var e=i.length;for(var t=0;t<e;t++)i[t]();i=i.slice(e)}var t=e.setImmediate,n=e.MutationObserver,r=x&&e.postMessage;if(t)return t.bind(e);var i=[];if(n){var o=document.createTextNode("avalon");return(new n(s)).observe(o,{characterData:!0}),function(e){i.push(e),o.data=Math.random()}}return r?(e.addEventListener("message",function(t){var n=t.source;(n===e||n===null)&&t.data==="process-tick"&&(t.stopPropagation(),s())}),function(t){i.push(t),e.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}},avalon.init=function(e){this[0]=this.element=e},avalon.fn=avalon.prototype=avalon.init.prototype,avalon.type=function(e){return e==null?String(e):typeof e=="object"||typeof e=="function"?k[b.call(e)]||"object":typeof e};var D=typeof alert=="object"?function(e){try{return/^\s*\bfunction\b/.test(e+"")}catch(t){return!1}}:function(e){return b.call(e)==="[object Function]"};avalon.isFunction=D,avalon.isWindow=function(e){return e?e==e.document&&e.document!=e:!1},P(e)&&(avalon.isWindow=P);var H;for(H in avalon({}))break;var B=H!=="0";avalon.isPlainObject=function(e,t){if(!e||avalon.type(e)!=="object"||e.nodeType||avalon.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(B)for(t in e)return y.call(e,t);for(t in e);return t===void 0||y.call(e,t)},o.test(Object.getPrototypeOf)&&(avalon.isPlainObject=function(e){return b.call(e)==="[object Object]"&&Object.getPrototypeOf(e)===g}),avalon.mix=avalon.fn.mix=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[1]||{},u++),typeof o!="object"&&!D(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((e=arguments[u])!=null)for(t in e){n=o[t];try{r=e[t]}catch(l){continue}if(o===r)continue;f&&r&&(avalon.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,s=n&&Array.isArray(n)?n:[]):s=n&&avalon.isPlainObject(n)?n:{},o[t]=avalon.mix(f,s,r)):r!==void 0&&(o[t]=r)}return o},avalon.mix({rword:p,subscribers:a,version:1.45,ui:{},log:u,slice:x?function(e,t,n){return E.call(e,t,n)}:function(e,t,n){var r=[],i=e.length;n===void 0&&(n=i);if(typeof n=="number"&&isFinite(n)){t=j(t,i),n=j(n,i);for(var s=t;s<n;++s)r[s-t]=e[s]}return r},noop:L,error:function(e,t){throw(t||Error)(e)},oneObject:A,range:function(e,t,n){n||(n=1),t==null&&(t=e||0,e=0);var r=-1,i=Math.max(0,Math.ceil((t-e)/n)),s=new Array(i);while(++r<i)s[r]=e,e+=n;return s},eventHooks:[],bind:function(e,t,n,r){var i=avalon.eventHooks,s=i[t];typeof s=="object"&&(t=s.type,s.deel&&(n=s.deel(e,t,n,r)));var o=x?n:function(t){n.call(e,et(t))};return x?e.addEventListener(t,o,!!r):e.attachEvent("on"+t,o),o},unbind:function(e,t,n,r){var i=avalon.eventHooks,s=i[t],o=n||L;typeof s=="object"&&(t=s.type,s.deel&&(n=s.deel(e,t,n,!1))),x?e.removeEventListener(t,o,!!r):e.detachEvent("on"+t,o)},css:function(e,t,n){e instanceof avalon&&(e=e[0]);var r=/[_-]/.test(t)?dn(t):t,i;t=avalon.cssName(r)||r;if(n===void 0||typeof n=="boolean"){i=Tn[r+":get"]||Tn["@:get"],t==="background"&&(t="backgroundColor");var s=i(e,t);return n===!0?parseFloat(s)||0:s}if(n==="")e.style[t]="";else{if(n==null||n!==n)return;isFinite(n)&&!avalon.cssNumber[r]&&(n+="px"),i=Tn[r+":set"]||Tn["@:set"],i(e,t,n)}},each:function(e,t){if(e){var n=0;if(q(e)){for(var r=e.length;n<r;n++)if(t(n,e[n])===!1)break}else for(n in e)if(e.hasOwnProperty(n)&&t(n,e[n])===!1)break}},getWidgetData:function(e,t){var n=avalon(e).data(),r={};for(var i in n)i.indexOf(t)===0&&(r[i.replace(t,"").replace(/\w/,function(e){return e.toLowerCase()})]=n[i]);return r},Array:{ensure:function(e,t){if(e.indexOf(t)===-1)return e.push(t)},removeAt:function(e,t){return!!e.splice(t,1).length},remove:function(e,t){var n=e.indexOf(t);return~n?avalon.Array.removeAt(e,n):!1}}});var F=avalon.bindingHandlers={},I=avalon.bindingExecutors={},R=new function(){function e(e){this.size=0,this.limit=e,this.head=this.tail=void 0,this._keymap={}}var t=e.prototype;return t.put=function(e,t){var n={key:e,value:t};return this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit?this.shift():this.size++,t},t.shift=function(){var e=this.head;e&&(this.head=this.head.newer,this.head.older=e.newer=e.older=this._keymap[e.key]=void 0)},t.get=function(e){var t=this._keymap[e];if(t===void 0)return;return t===this.tail?t.value:(t.newer&&(t===this.head&&(this.head=t.newer),t.newer.older=t.older),t.older&&(t.older.newer=t.newer),t.newer=void 0,t.older=this.tail,this.tail&&(this.tail.newer=t),this.tail=t,t.value)},e};if(!"司徒正美".trim){var U=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(U,"")}}var z=!{toString:null}.propertyIsEnumerable("toString"),W=function(){}.propertyIsEnumerable("prototype"),X=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],V=X.length;Object.keys||(Object.keys=function(e){var t=[],n=W&&typeof e=="function";if(typeof e=="string"||e&&e.callee)for(var r=0;r<e.length;++r)t.push(String(r));else for(var i in e)(!n||i!=="prototype")&&y.call(e,i)&&t.push(String(i));if(z){var s=e.constructor,o=s&&s.prototype===e;for(var u=0;u<V;u++){var a=X[u];(!o||a!=="constructor")&&y.call(e,a)&&t.push(a)}}return t}),Array.isArray||(Array.isArray=function(e){return b.call(e)==="[object Array]"}),L.bind||(Function.prototype.bind=function(e){if(arguments.length<2&&e===void 0)return this;var t=this,n=arguments;return function(){var r=[],i;for(i=1;i<n.length;i++)r.push(n[i]);for(i=0;i<arguments.length;i++)r.push(arguments[i]);return t.apply(e,r)}}),o.test([].map)||avalon.mix(w,{indexOf:function(e,t){var n=this.length,r=~~t;r<0&&(r+=n);for(;r<n;r++)if(this[r]===e)return r;return-1},lastIndexOf:function(e,t){var n=this.length,r=t==null?n-1:t;r<0&&(r=Math.max(0,n+r));for(;r>=0;r--)if(this[r]===e)return r;return-1},forEach:$("","_",""),filter:$("r=[],j=0,","if(_)r[j++]=this[i]","return r"),map:$("r=[],","r[i]=_","return r"),some:$("","if(_)return true","return false"),every:$("","if(!_)return false","return true")}),avalon.contains=J,r.contains||(r.contains=function(e){return J(r,e)});if(e.SVGElement){r.createTextNode("x").contains||(Node.prototype.contains=function(e){return!!(this.compareDocumentPosition(e)&16)});var Q="http://www.w3.org/2000/svg",G=r.createElementNS(Q,"svg");G.innerHTML='<circle cx="50" cy="50" r="40" fill="red" />';if(!v.test(G.firstChild)){function Y(e,t){if(e&&e.childNodes){var n=e.childNodes;for(var i=0,s;s=n[i++];)if(s.tagName){var o=r.createElementNS(Q,s.tagName.toLowerCase());w.forEach.call(s.attributes,function(e){o.setAttribute(e.name,e.value)}),Y(s,o),t.appendChild(o)}}}Object.defineProperties(SVGElement.prototype,{outerHTML:{enumerable:!0,configurable:!0,get:K,set:function(e){var t=this.tagName.toLowerCase(),n=this.parentNode,i=avalon.parseHTML(e);if(t==="svg")n.insertBefore(i,this);else{var s=r.createDocumentFragment();Y(i,s),n.insertBefore(s,this)}n.removeChild(this)}},innerHTML:{enumerable:!0,configurable:!0,get:function(){var e=this.outerHTML,t=new RegExp("<"+this.nodeName+'\\b(?:(["\'])[^"]*?(\\1)|[^>])*>',"i"),n=new RegExp("</"+this.nodeName+">$","i");return e.replace(t,"").replace(n,"")},set:function(e){if(avalon.clearHTML){avalon.clearHTML(this);var t=avalon.parseHTML(e);Y(t,this)}}}})}}!T.outerHTML&&e.HTMLElement&&HTMLElement.prototype.__defineGetter__("outerHTML",K);var Z=/^(?:mouse|contextmenu|drag)|click/,tt=avalon.eventHooks;"onmouseenter"in T||avalon.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){tt[e]={type:t,deel:function(t,n,r){return function(n){var i=n.relatedTarget;if(!i||i!==t&&!(t.compareDocumentPosition(i)&16))return delete n.type,n.type=e,r.call(t,n)}}}}),avalon.each({AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"},function(t,n){e[t]&&!tt.animationend&&(tt.animationend={type:n})}),"oninput"in r.createElement("input")||(tt.input={type:"propertychange",deel:function(e,t,n){return function(t){if(t.propertyName==="value")return t.type="input",n.call(e,t)}}});if(r.onmousewheel===void 0){var nt=r.onwheel!==void 0?"wheel":"DOMMouseScroll",rt=nt==="wheel"?"deltaY":"detail";tt.mousewheel={type:nt,deel:function(e,t,n){return function(t){t.wheelDeltaY=t.wheelDelta=t[rt]>0?-120:120,t.wheelDeltaX=0,Object.defineProperty&&Object.defineProperty(t,"type",{value:"mousewheel"}),n.call(e,t)}}}}var st,ot,ut,at,ft,lt=/[-.*+?^${}()|[\]\/\\]/g,ht={loader:function(t){var n=c&&t;e.require=n?c:f,e.define=n?c.define:l},interpolate:function(e){st=e[0],ot=e[1];if(st===ot){throw new SyntaxError("openTag!==closeTag");var t}var n=ct(st),r=ct(ot);ut=new RegExp(n+"(.*?)"+r),at=new RegExp(n+"(.*?)"+r,"g"),ft=new RegExp(n+".*?"+r+"|\\sms-")}};it.debug=!0,it.plugins=ht,it.plugins.interpolate(["{{","}}"]),it.paths={},it.shim={},it.maxRepeatSize=100,avalon.config=it;var pt=/(\w+)\[(avalonctrl)="(\S+)"\]/,dt=r.querySelectorAll?function(e){return r.querySelectorAll(e)}:function(e){var t=e.match(pt),n=r.getElementsByTagName(t[1]),i=[];for(var s=0,o;o=n[s++];)o.getAttribute(t[2])===t[3]&&i.push(o);return i},vt={$watch:function(e,t){if(typeof t=="function"){var n=this.$events[e];n?n.push(t):this.$events[e]=[t]}else this.$events=this.$watch.backup;return this},$unwatch:function(e,t){var n=arguments.length;if(n===0)this.$watch.backup=this.$events,this.$events={};else if(n===1)this.$events[e]=[];else{var r=this.$events[e]||[],i=r.length;while(~--i<0)if(r[i]===t)return r.splice(i,1)}return this},$fire:function(e){var t,n,i,s;/^(\w+)!(\S+)$/.test(e)&&(t=RegExp.$1,e=RegExp.$2);var o=this.$events;if(!o)return;var u=E.call(arguments,1),a=[e].concat(u);if(t==="all")for(n in avalon.vmodels)i=avalon.vmodels[n],i!==this&&i.$fire.apply(i,a);else if(t==="up"||t==="down"){var f=o.expr?dt(o.expr):[];if(f.length===0)return;for(n in avalon.vmodels){i=avalon.vmodels[n];if(i!==this&&i.$events.expr){var l=dt(i.$events.expr);if(l.length===0)continue;w.forEach.call(l,function(e){w.forEach.call(f,function(n){var r=t==="down"?n.contains(e):e.contains(n);r&&(e._avalon=i)})})}}var c=r.getElementsByTagName("*"),h=[];w.forEach.call(c,function(e){e._avalon&&(h.push(e._avalon),e._avalon="",e.removeAttribute("_avalon"))}),t==="up"&&h.reverse();for(n=0;s=h[n++];)if(s.$fire.apply(s,a)===!1)break}else{var p=o[e]||[],d=o.$all||[];for(n=0;s=p[n++];)D(s)&&s.apply(this,u);for(n=0;s=d[n++];)D(s)&&s.apply(this,arguments)}}},mt=avalon.vmodels={};avalon.define=function(e,t){var n=e.$id||e;n||u("warning: vm必须指定$id"),mt[n]&&u("warning: "+n+" 已经存在于avalon.vmodels中");if(typeof e=="object")var r=St(e);else{var i={$watch:L};t(i),r=St(i),h=!0,t(r),h=!1}return r.$id=n,mt[n]=r};var gt=String("$id,$watch,$unwatch,$fire,$events,$model,$skipArray,$proxy,$reinitialize,$propertyNames").match(p),yt=Object.defineProperty,bt=!0;try{yt({},"_",{value:"x"});var wt=Object.defineProperties}catch(Et){bt=!1}var xt={value:function(e){return e in this.$model},writable:!1,enumerable:!1,configurable:!0},Ot=Object.is||function(e,t){return e===0&&t===0?1/e===1/t:e!==e?t!==t:e===t},_t=x?function(e){var t={};for(var n in e)t[n]={get:e[n],set:e[n],enumerable:!0,configurable:!0};return t}:function(e){return e};if(!bt){"__defineGetter__"in avalon&&(yt=function(e,t,n){return"value"in n&&(e[t]=n.value),"get"in n&&e.__defineGetter__(t,n.get),"set"in n&&e.__defineSetter__(t,n.set),e},wt=function(e,t){for(var n in t)t.hasOwnProperty(n)&&yt(e,n,t[n]);return e});if(_){var Dt={};e.execScript(["Function parseVB(code)","	ExecuteGlobal(code)","End Function"].join("\n"),"VBScript");function Pt(e,t,n,r){var i=t[n];if(arguments.length!==4)return i.call(e);i.call(e,r)}wt=function(t,r,i){var s=[];s.push("\r\n	Private [__data__], [__proxy__]","	Public Default Function [__const__](d, p)","		Set [__data__] = d: set [__proxy__] = p","		Set [__const__] = Me","	End Function");for(t in i)r.hasOwnProperty(t)||s.push("	Public ["+t+"]");gt.forEach(function(e){r.hasOwnProperty(e)||s.push("	Public ["+e+"]")}),s.push("	Public [hasOwnProperty]");for(t in r)s.push("	Public Property Let ["+t+"](val"+n+")",'		Call [__proxy__](Me,[__data__], "'+t+'", val'+n+")","	End Property","	Public Property Set ["+t+"](val"+n+")",'		Call [__proxy__](Me,[__data__], "'+t+'", val'+n+")","	End Property","	Public Property Get ["+t+"]","	On Error Resume Next","		Set["+t+'] = [__proxy__](Me,[__data__],"'+t+'")',"	If Err.Number <> 0 Then","		["+t+'] = [__proxy__](Me,[__data__],"'+t+'")',"	End If","	On Error Goto 0","	End Property");s.push("End Class");var o=s.join("\r\n"),u=Dt[o];u||(u=O("VBClass"),e.parseVB("Class "+u+o),e.parseVB(["Function "+u+"Factory(a, b)","	Dim o","	Set o = (New "+u+")(a, b)","	Set "+u+"Factory = o","End Function"].join("\r\n")),Dt[o]=u);var a=e[u+"Factory"](r,Pt);return a}}}var jt=w.splice,Ft={_splice:jt,_fire:function(e,t,n){Wt(this.$events[a],e,t,n)},size:function(){return this._.length},pushArray:function(e){var t=e.length,n=this.length;return t&&(w.push.apply(this.$model,e),Bt.call(this,"add",n,t,Math.max(0,n-1))),t+n},push:function(){var e=[],t,n=arguments.length;for(t=0;t<n;t++)e[t]=arguments[t];return this.pushArray(e)},unshift:function(){var e=arguments.length,t=this.length;return e&&(w.unshift.apply(this.$model,arguments),Bt.call(this,"add",0,e,0)),e+t},shift:function(){if(this.length){var e=this.$model.shift();return Bt.call(this,"del",0,1,0),e}},pop:function(){var e=this.length;if(e){var t=this.$model.pop();return Bt.call(this,"del",e-1,1,Math.max(0,e-2)),t}},splice:function(e){var t=arguments.length,n=[],r,i=jt.apply(this.$model,arguments);return i.length&&(n.push("del",e,i.length,0),r=!0),t>2&&(r?n.splice(3,1,0,"add",e,t-2):n.push("add",e,t-2,0),r=!0),r?Bt.apply(this,n):[]},contains:function(e){return this.indexOf(e)!==-1},remove:function(e){return this.removeAt(this.indexOf(e))},removeAt:function(e){return e>=0?(this.$model.splice(e,1),Bt.call(this,"del",e,1,0)):[]},clear:function(){return this.$model.length=this.length=this._.length=0,this._fire("clear",0),this},removeAll:function(e){if(Array.isArray(e))for(var t=this.length-1;t>=0;t--)e.indexOf(this[t])!==-1&&this.removeAt(t);else if(typeof e=="function")for(t=this.length-1;t>=0;t--){var n=this[t];e(n,t)&&this.removeAt(t)}else this.clear()},ensure:function(e){return this.contains(e)||this.push(e),this},set:function(e,t){if(e>=0){var n=avalon.type(t);t&&t.$model&&(t=t.$model);var r=this[e];if(n==="object")for(var i in t)r.hasOwnProperty(i)&&(r[i]=t[i]);else n==="array"?r.clear().push.apply(r,t):r!==t&&(this[e]=t,this.$model[e]=t,this._fire("set",e,t))}return this}};"sort,reverse".replace(p,function(e){Ft[e]=function(){var t=this.$model,n=t.concat(),r=Math.random(),i=[],s;w[e].apply(t,arguments);for(var o=0,u=n.length;o<u;o++){var a=t[o],f=n[o];if(Ot(a,f))i.push(o);else{var l=n.indexOf(a);i.push(l),n[l]=r,s=!0}}return s&&(qt(this,i),this._fire("move",i),this._fire("index",0)),this}});var Rt=function(){var e=[],t;return{begin:function(n){e.push(t),t=n},end:function(){t=e.pop()},collectDependency:function(e,n){t&&t.callback(e,n)}}}(),Ut=/^(duplex|on)$/;avalon.injectBinding=function(e){var t=e.evaluator;if(t){Rt.begin({callback:function(t,n){zt(t.$events[n._name],e)}});try{var n=Ut.test(e.type)?e:t.apply(0,e.args);e.handler(n,e.element,e)}catch(i){delete e.evaluator;var s=e.element;if(s.nodeType===3){var o=s.parentNode;it.commentInterpolate?o.replaceChild(r.createComment(e.value),s):s.data=st+(e.oneTime?"::":"")+e.value+ot}}finally{Rt.end()}}};var Xt=0,Vt=avalon.$$subscribers=[],$t=new Date,Jt={},Kt={},nn={area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],col:[2,"<table><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],tr:[2,"<table>","</table>"],td:[3,"<table><tr>","</tr></table>"],g:[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',"</svg>"],_default:x?[0,"",""]:[1,"X<div>","</div>"]};nn.th=nn.td,nn.optgroup=nn.option,nn.tbody=nn.tfoot=nn.colgroup=nn.caption=nn.thead,String("circle,defs,ellipse,image,line,path,polygon,polyline,rect,symbol,text,use").replace(p,function(e){nn[e]=nn.g});var rn=/<([\w:]+)/,sn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,on=x?/[^\d\D]/:/(<(?:script|link|style|meta|noscript))/ig,un=A(["","text/javascript","text/ecmascript","application/ecmascript","application/javascript"]),an=/<(?:tb|td|tf|th|tr|col|opt|leg|cap|area)/,fn=r.createElement("script"),ln=/<|&#?\w+;/;avalon.parseHTML=function(e){var t=N.cloneNode(!1);if(typeof e!="string")return t;if(!ln.test(e))return t.appendChild(r.createTextNode(e)),t;e=e.replace(sn,"<$1></$2>").trim();var n=(rn.exec(e)||["",""])[1].toLowerCase(),i=nn[n]||nn._default,s=C,o,u;x||(e=e.replace(on,"<br class=msNoScope>$1")),s.innerHTML=i[1]+e+i[2];var a=s.getElementsByTagName("script");if(a.length)for(var f=0,l;l=a[f++];)un[l.type]&&(u=fn.cloneNode(!1),w.forEach.call(l.attributes,function(e){e&&e.specified&&(u[e.name]=e.value,u.setAttribute(e.name,e.value))}),u.text=l.text,l.parentNode.replaceChild(u,l));if(!x){var c=i[1]==="X<div>"?s.lastChild.firstChild:s.lastChild;if(c&&c.tagName==="TABLE"&&n!=="tbody")for(a=c.childNodes,f=0;l=a[f++];)if(l.tagName==="TBODY"&&!l.innerHTML){c.removeChild(l);break}a=s.getElementsByTagName("br");var h=a.length;while(l=a[--h])l.className==="msNoScope"&&l.parentNode.removeChild(l);for(a=s.all,f=0;l=a[f++];)cn(l)&&hn(l)}for(f=i[0];f--;s=s.lastChild);while(o=s.firstChild)t.appendChild(o);return t},avalon.innerHTML=function(e,t){if(!x&&!on.test(t)&&!an.test(t))try{e.innerHTML=t;return}catch(n){}var r=this.parseHTML(t);this.clearHTML(e).appendChild(r)},avalon.clearHTML=function(e){e.textContent="";while(e.firstChild)e.removeChild(e.firstChild);return e};var vn={_toString:function(){var e=this.node,t=e.className,n=typeof t=="string"?t:t.baseVal;return n.split(/\s+/).join(" ")},_contains:function(e){return(" "+this+" ").indexOf(" "+e+" ")>-1},_add:function(e){this.contains(e)||this._set(this+" "+e)},_remove:function(e){this._set((" "+this+" ").replace(" "+e+" "," "))},__set:function(e){e=e.trim();var t=this.node;v.test(t)?t.setAttribute("class",e):t.className=e}};"add,remove".replace(p,function(e){avalon.fn[e+"Class"]=function(t){var n=this[0];return t&&typeof t=="string"&&n&&n.nodeType===1&&t.replace(/\S+/g,function(t){mn(n)[e](t)}),this}}),avalon.fn.mix({hasClass:function(e){var t=this[0]||{};return t.nodeType===1&&mn(t).contains(e)},toggleClass:function(e,t){var n,r=0,i=String(e).split(/\s+/),s=typeof t=="boolean";while(n=i[r++]){var o=s?t:!this.hasClass(n);this[o?"addClass":"removeClass"](n)}return this},attr:function(e,t){return arguments.length===2?(this[0].setAttribute(e,t),this):this[0].getAttribute(e)},data:function(e,t){e="data-"+pn(e||"");switch(arguments.length){case 2:return this.attr(e,t),this;case 1:var n=this.attr(e);return gn(n);case 0:var r={};return w.forEach.call(this[0].attributes,function(t){t&&(e=t.name,e.indexOf("data-")||(e=dn(e.slice(5)),r[e]=gn(t.value)))}),r}},removeData:function(e){return e="data-"+pn(e),this[0].removeAttribute(e),this},css:function(e,t){if(avalon.isPlainObject(e))for(var n in e)avalon.css(this,n,e[n]);else var r=avalon.css(this,e,t);return r!==void 0?r:this},position:function(){var e,t,n=this[0],r={top:0,left:0};if(!n)return;return this.css("position")==="fixed"?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),e[0].tagName!=="HTML"&&(r=e.offset()),r.top+=avalon.css(e[0],"borderTopWidth",!0),r.left+=avalon.css(e[0],"borderLeftWidth",!0),r.top-=e.scrollTop(),r.left-=e.scrollLeft()),{top:t.top-r.top-avalon.css(n,"marginTop",!0),left:t.left-r.left-avalon.css(n,"marginLeft",!0)}},offsetParent:function(){var e=this[0].offsetParent;while(e&&avalon.css(e,"position")==="static")e=e.offsetParent;return avalon(e||T)},bind:function(e,t,n){if(this[0])return avalon.bind(this[0],e,t,n)},unbind:function(e,t,n){return this[0]&&avalon.unbind(this[0],e,t,n),this},val:function(e){var t=this[0];if(t&&t.nodeType===1){var n=arguments.length===0,r=n?":get":":set",i=Fn[Bn(t)+r];if(i)var s=i(t,e);else{if(n)return(t.value||"").replace(/\r/g,"");t.value=e}}return n?s:this}});var yn=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,bn=/^[\],:{}\s]*$/,wn=/(?:^|:|,)(?:\s*\[)+/g,En=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Sn=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;avalon.parseJSON=e.JSON?JSON.parse:function(e){if(typeof e=="string"){e=e.trim();if(e&&bn.test(e.replace(En,"@").replace(Sn,"]").replace(wn,"")))return(new Function("return "+e))();avalon.error("Invalid JSON: "+e)}return e},avalon.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){avalon.fn[e]=function(n){var r=this[0]||{},i=xn(r),s=e==="scrollTop";if(!arguments.length)return i?t in i?i[t]:T[e]:r[e];i?i.scrollTo(s?avalon(i).scrollLeft():n,s?n:avalon(i).scrollTop()):r[e]=n}});var Tn=avalon.cssHooks={},Nn=["","-webkit-","-o-","-moz-","-ms-"],Cn={"float":x?"cssFloat":"styleFloat"};avalon.cssNumber=A("columnCount,order,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom"),avalon.cssName=function(e,t,n){if(Cn[e])return Cn[e];t=t||T.style;for(var r=0,i=Nn.length;r<i;r++){n=dn(Nn[r]+e);if(n in t)return Cn[e]=n}return null},Tn["@:set"]=function(e,t,n){try{e.style[t]=n}catch(r){}};if(e.getComputedStyle)Tn["@:get"]=function(e,t){if(!e||!e.style)throw new Error("getComputedStyle要求传入一个节点 "+e);var n,r=getComputedStyle(e,null);return r&&(n=t==="filter"?r.getPropertyValue(t):r[t],n===""&&(n=e.style[t])),n},Tn["opacity:get"]=function(e){var t=Tn["@:get"](e,"opacity");return t===""?"1":t};else{var kn=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Ln=/^(top|right|bottom|left)$/,An=/alpha\([^)]*\)/i,On=!!e.XDomainRequest,Mn="DXImageTransform.Microsoft.Alpha",_n={thin:On?"1px":"2px",medium:On?"3px":"4px",thick:On?"5px":"6px"};Tn["@:get"]=function(e,t){var n=e.currentStyle,r=n[t];if(kn.test(r)&&!Ln.test(r)){var i=e.style,s=i.left,o=e.runtimeStyle.left;e.runtimeStyle.left=n.left,i.left=t==="fontSize"?"1em":r||0,r=i.pixelLeft+"px",i.left=s,e.runtimeStyle.left=o}return r==="medium"&&(t=t.replace("Width","Style"),n[t]==="none"&&(r="0px")),r===""?"auto":_n[r]||r},Tn["opacity:set"]=function(e,t,n){var r=e.style,i=isFinite(n)&&n<=1?"alpha(opacity="+n*100+")":"",s=r.filter||"";r.zoom=1,r.filter=(An.test(s)?s.replace(An,i):s+" "+i).trim(),r.filter||r.removeAttribute("filter")},Tn["opacity:get"]=function(e){var t=e.filters.alpha||e.filters[Mn],n=t&&t.enabled?t.opacity:100;return n/100+""}}"top,left".replace(p,function(e){Tn[e+":get"]=function(t){var n=Tn["@:get"](t,e);return/px$/.test(n)?n:avalon(t).position()[e]+"px"}});var Dn={position:"absolute",visibility:"hidden",display:"block"},Pn=/^(none|table(?!-c[ea]).+)/;"Width,Height".replace(p,function(e){var t=e.toLowerCase(),n="client"+e,r="scroll"+e,i="offset"+e;Tn[t+":get"]=function(t,n,r){var s=-4;typeof r=="number"&&(s=r),n=e==="Width"?["Left","Right"]:["Top","Bottom"];var o=t[i];return s===2?o+avalon.css(t,"margin"+n[0],!0)+avalon.css(t,"margin"+n[1],!0):(s<0&&(o=o-avalon.css(t,"border"+n[0]+"Width",!0)-avalon.css(t,"border"+n[1]+"Width",!0)),s===-4&&(o=o-avalon.css(t,"padding"+n[0],!0)-avalon.css(t,"padding"+n[1],!0)),o)},Tn[t+"&get"]=function(e){var n=[];Hn(e,n);var r=Tn[t+":get"](e);for(var i=0,s;s=n[i++];){e=s.node;for(var o in s)typeof s[o]=="string"&&(e.style[o]=s[o])}return r},avalon.fn[t]=function(s){var o=this[0];if(arguments.length===0){if(o.setTimeout)return o["inner"+e]||o.document.documentElement[n];if(o.nodeType===9){var u=o.documentElement;return Math.max(o.body[r],u[r],o.body[i],u[i],u[n])}return Tn[t+"&get"](o)}return this.css(t,s)},avalon.fn["inner"+e]=function(){return Tn[t+":get"](this[0],void 0,-2)},avalon.fn["outer"+e]=function(e){return Tn[t+":get"](this[0],void 0,e===!0?2:0)}}),avalon.fn.offset=function(){var e=this[0],t={left:0,top:0};if(!e||!e.tagName||!e.ownerDocument)return t;var n=e.ownerDocument,r=n.body,i=n.documentElement,s=n.defaultView||n.parentWindow;if(!avalon.contains(i,e))return t;e.getBoundingClientRect&&(t=e.getBoundingClientRect());var o=i.clientTop||r.clientTop,u=i.clientLeft||r.clientLeft,a=Math.max(s.pageYOffset||0,i.scrollTop,r.scrollTop),f=Math.max(s.pageXOffset||0,i.scrollLeft,r.scrollLeft);return{top:t.top+a-o,left:t.left+f-u}};var jn=/^<option(?:\s+\w+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s+value[\s=]/i,Fn={"option:get":_?function(e){return jn.test(e.outerHTML)?e.value:e.text.trim()}:function(e){return e.value},"select:get":function(e,t){var n,r=e.options,i=e.selectedIndex,s=Fn["option:get"],o=e.type==="select-one"||i<0,u=o?null:[],a=o?i+1:r.length,f=i<0?a:o?i:0;for(;f<a;f++){n=r[f];if((n.selected||f===i)&&!n.disabled){t=s(n);if(o)return t;u.push(t)}}return u},"select:set":function(e,t,n){t=[].concat(t);var r=Fn["option:get"];for(var i=0,s;s=e.options[i++];)if(s.selected=t.indexOf(r(s))>-1)n=!0;n||(e.selectedIndex=-1)}},In={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},qn=e.JSON&&JSON.stringify||function(e){return'"'+e.replace(/[\\\"\x00-\x1f]/g,function(e){var t=In[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},Rn=["break,case,catch,continue,debugger,default,delete,do,else,false","finally,for,function,if,in,instanceof,new,null,return,switch,this","throw,true,try,typeof,var,void,while,with","abstract,boolean,byte,char,class,const,double,enum,export,extends","final,float,goto,implements,import,int,interface,long,native","package,private,protected,public,short,static,super,synchronized","throws,transient,volatile","arguments,let,yield,undefined"].join(","),Un=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,zn=/[^\w$]+/g,Wn=new RegExp(["\\b"+Rn.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),Xn=/\b\d[^,]*/g,Vn=/^,+|,+$/g,$n=new R(512),Jn=function(e){var t=","+e.trim(),n=$n.get(t);if(n)return n;var r=e.replace(Un,"").replace(zn,",").replace(Wn,"").replace(Xn,"").replace(Vn,"").split(/^$|,+/);return $n.put(t,Qn(r))},Gn=new R(128),Yn=/\w\[.*\]|\w\.\w/,Zn=/(\$proxy\$[a-z]+)\d+$/,er=/\)\s*$/,tr=/\)\s*\|/g,nr=/\|\s*([$\w]+)/g,rr=/"\s*\["/g,ir=/"\s*\(/g;avalon.parseExprProxy=ur,avalon.scan=function(e,t){e=e||T;var n=t?[].concat(t):[];Mr(e,n)};var ar=A("area,base,basefont,br,col,command,embed,hr,img,input,link,meta,param,source,track,wbr,noscript,script,style,textarea".toUpperCase()),cr=function(e,t,n){var r=e.getAttribute(t);if(r)for(var i=0,s;s=n[i++];)if(s.hasOwnProperty(r)&&typeof s[r]=="function")return s[r]},pr=_&&e.MutationObserver?function(e){var t=e.firstChild,n;while(t){var r=t.nextSibling;t.nodeType===3?n?(n.nodeValue+=t.nodeValue,e.removeChild(t)):n=t:n=null,t=r}}:0,dr=/^\s*::/,vr=/ms-(\w+)-?(.*)/,mr={"if":10,repeat:90,data:100,widget:110,each:1400,"with":1500,duplex:2e3,on:3e3},gr=A("animationend,blur,change,input,click,dblclick,focus,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,scan,scroll,submit"),yr=A("value,title,alt,checked,selected,disabled,readonly,enabled"),Er=/^if|widget|repeat$/,Sr=/^each|with|html|include$/;if(!"1"[0])var xr=new R(512),Tr=/\s+(ms-[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,Nr=/^['"]/,Cr=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/i,kr=/&amp;/g,Lr=function(e){var t=e.outerHTML;if(t.slice(0,2)==="</"||!t.trim())return[];var n=t.match(Cr)[0],r=[],i,s,o,u=xr.get(n);if(u)return u;while(s=Tr.exec(n)){o=s[2],o&&(o=(Nr.test(o)?o.slice(1,-1):o).replace(kr,"&"));var a=s[1].toLowerCase();i=a.match(vr);var f={name:a,specified:!0,value:o||""};r.push(f)}return xr.put(n,r)};var _r=/\|\s*html\s*/,Dr=/\|\|/g,Pr=/&lt;/g,Hr=/&gt;/g,Br=/(['"])(\\\1|.)+?\1/g,qr=["autofocus,autoplay,async,allowTransparency,checked,controls","declare,disabled,defer,defaultChecked,defaultSelected","contentEditable,isMap,loop,multiple,noHref,noResize,noShade","open,readOnly,selected"].join(","),Rr={};qr.replace(p,function(e){Rr[e.toLowerCase()]=e});var Ur={"accept-charset":"acceptCharset","char":"ch",charoff:"chOff","class":"className","for":"htmlFor","http-equiv":"httpEquiv"},zr=["accessKey,bgColor,cellPadding,cellSpacing,codeBase,codeType,colSpan","dateTime,defaultValue,frameBorder,longDesc,maxLength,marginWidth,marginHeight","rowSpan,tabIndex,useMap,vSpace,valueType,vAlign"].join(",");zr.replace(p,function(e){Ur[e.toLowerCase()]=e});var Wr=/<noscript.*?>(?:[\s\S]+?)<\/noscript>/img,Xr=/<noscript.*?>([\s\S]+?)<\/noscript>/im,Vr=function(){return new(e.XMLHttpRequest||ActiveXObject)("Microsoft.XMLHTTP")},$r=avalon.templateCache={};F.attr=function(e,t){var n=e.value.trim(),i=!0;n.indexOf(st)>-1&&n.indexOf(ot)>2&&(i=!1,ut.test(n)&&RegExp.rightContext===""&&RegExp.leftContext===""&&(i=!0,n=RegExp.$1));if(e.type==="include"){var s=e.element;e.includeRendered=cr(s,"data-include-rendered",t),e.includeLoaded=cr(s,"data-include-loaded",t);var o=e.includeReplace=!!avalon(s).data("includeReplace");avalon(s).data("includeCache")&&(e.templateCache={}),e.startInclude=r.createComment("ms-include"),e.endInclude=r.createComment("ms-include-end"),o?(e.element=e.startInclude,s.parentNode.insertBefore(e.startInclude,s),s.parentNode.insertBefore(e.endInclude,s.nextSibling)):(s.insertBefore(e.startInclude,s.firstChild),s.appendChild(e.endInclude))}e.handlerName="attr",ur(n,t,e,i?0:Fr(e.value))},I.attr=function(t,n,i){var o=i.type,u=i.param;if(o==="css")avalon(n).css(u,t);else if(o==="attr"){var a=t===!1||t===null||t===void 0;!x&&Ur[u]&&(u=Ur[u]);var f=Rr[u];typeof n[f]=="boolean"&&(n[f]=!!t,t||(a=!0));if(a)return n.removeAttribute(u);var l=v.test(n)?!1:r.namespaces&&cn(n)?!0:u in n.cloneNode(!1);l?n[u]=t+"":n.setAttribute(u,t)}else if(o==="include"&&t){var c=i.vmodels,h=i.includeRendered,p=i.includeLoaded,d=i.includeReplace,m=d?n.parentNode:n,g=function(e){if(p){var n=p.apply(m,[e].concat(c));typeof n=="string"&&(e=n)}h&&fr(m,function(){h.call(m)},NaN);var o=i.includeLastID;if(i.templateCache&&o&&o!==t){var u=i.templateCache[o];u||(u=i.templateCache[o]=r.createElement("div"),s.appendChild(u))}i.includeLastID=t;for(;;){var a=i.startInclude.nextSibling;if(!a||a===i.endInclude)break;m.removeChild(a),u&&u.appendChild(a)}var f=Jr(i,t,e),l=avalon.slice(f.childNodes);m.insertBefore(f,i.endInclude),Or(l,c)};if(i.param==="src")if(typeof $r[t]=="string")avalon.nextTick(function(){g($r[t])});else if(Array.isArray($r[t]))$r[t].push(g);else{var y=Vr();y.onreadystatechange=function(){if(y.readyState===4){var e=y.status;if(e>=200&&e<300||e===304||e===1223){var n=y.responseText;for(var r=0,i;i=$r[t][r++];)i(n);$r[t]=n}}},$r[t]=[g],y.open("GET",t,!0),"withCredentials"in y&&(y.withCredentials=!0),y.setRequestHeader("X-Requested-With","XMLHttpRequest"),y.send(null)}else{var b=t&&t.nodeType===1?t:r.getElementById(t);if(b){if(b.tagName==="NOSCRIPT"&&!b.innerHTML&&!b.fixIE78){y=Vr(),y.open("GET",location,!1),y.send(null);var w=r.getElementsByTagName("noscript"),E=(y.responseText||"").match(Wr)||[],S=E.length;for(var N=0;N<S;N++){var C=w[N];C&&(C.style.display="none",C.fixIE78=(E[N].match(Xr)||["","&nbsp;"])[1])}}avalon.nextTick(function(){g(b.fixIE78||b.value||b.innerText||b.innerHTML)})}}}else{!T.hasAttribute&&typeof t=="string"&&(o==="src"||o==="href")&&(t=t.replace(/&amp;/g,"&")),n[o]=t;if(e.chrome&&n.tagName==="EMBED"){var k=n.parentNode,L=document.createComment("ms-src");k.replaceChild(L,n),k.replaceChild(n,L)}}},"title,alt,src,value,css,include,href".replace(p,function(e){F[e]=F.attr}),F["class"]=function(e,t){var n=e.param,r=e.value,i;e.handlerName="class";if(!n||isFinite(n)){e.param="";var s=r.replace(at,function(e){return e.replace(/./g,"0")}),o=s.indexOf(":");if(o===-1)var a=r;else{a=r.slice(0,o),i=r.slice(o+1),or(i,t,e);if(!e.evaluator)return u("debug: ms-class '"+(i||"").trim()+"' 不存在于VM中"),!1;e._evaluator=e.evaluator,e._args=e.args}var f=ut.test(a);f||(e.immobileClass=a),ur("",t,e,f?Fr(a):0)}else e.immobileClass=e.oldStyle=e.param,ur(r,t,e)},I["class"]=function(e,t,n){var r=avalon(t),i=n.type;if(i==="class"&&n.oldStyle)r.toggleClass(n.oldStyle,!!e);else{n.toggleClass=n._evaluator?!!n._evaluator.apply(t,n._args):!0,n.newClass=n.immobileClass||e,n.oldClass&&n.newClass!==n.oldClass&&r.removeClass(n.oldClass),n.oldClass=n.newClass;switch(i){case"class":r.toggleClass(n.newClass,n.toggleClass);break;case"hover":case"active":if(!n.hasBindEvent){var s="mouseenter",o="mouseleave";if(i==="active"){t.tabIndex=t.tabIndex||-1,s="mousedown",o="mouseup";var u=r.bind("mouseleave",function(){n.toggleClass&&r.removeClass(n.newClass)})}var a=r.bind(s,function(){n.toggleClass&&r.addClass(n.newClass)}),f=r.bind(o,function(){n.toggleClass&&r.removeClass(n.newClass)});n.rollback=function(){r.unbind("mouseleave",u),r.unbind(s,a),r.unbind(o,f)},n.hasBindEvent=!0}}}},"hover,active".replace(p,function(e){F[e]=F["class"]}),I.data=function(e,t,n){var r="data-"+n.param;e&&typeof e=="object"?t[r]=e:t.setAttribute(r,String(e))};var Kr=F.duplex=function(e,t){var n=e.element,r;ur(e.value,t,e,0,1),e.changed=cr(n,"data-duplex-changed",t)||L;if(e.evaluator&&e.args){var i=[],s=A("string,number,boolean,checked");n.type==="radio"&&e.param===""&&(e.param="checked"),n.msData&&(n.msData["ms-duplex"]=e.value),e.param.replace(/\w+/g,function(t){/^(checkbox|radio)$/.test(n.type)&&/^(radio|checked)$/.test(t)&&(t==="radio"&&u("ms-duplex-radio已经更名为ms-duplex-checked"),t="checked",e.isChecked=!0),t==="bool"?(t="boolean",u("ms-duplex-bool已经更名为ms-duplex-boolean")):t==="text"&&(t="string",u("ms-duplex-text已经更名为ms-duplex-string")),s[t]&&(r=!0),avalon.Array.ensure(i,t)}),r||i.push("string"),e.param=i.join("-"),e.bound=function(t,r){n.addEventListener?n.addEventListener(t,r,!1):n.attachEvent("on"+t,r);var i=e.rollback;e.rollback=function(){n.avalonSetter=null,avalon.unbind(n,t,r),i&&i()}};for(var o in avalon.vmodels){var a=avalon.vmodels[o];a.$fire("avalon-ms-duplex-init",e)}var f=e.pipe||(e.pipe=Gr);f(null,e,"init");var l=n.tagName;Kr[l]&&Kr[l](n,e.evaluator.apply(null,e.args),e)}};avalon.duplexHooks={checked:{get:function(e,t){return!t.element.oldValue}},string:{get:function(e){return e},set:Qr},"boolean":{get:function(e){return e==="true"},set:Qr},number:{get:function(e,t){var n=parseFloat(e);if(-e===-n)return n;var r=/strong|medium|weak/.exec(t.element.getAttribute("data-duplex-number"))||["medium"];switch(r[0]){case"strong":return 0;case"medium":return e===""?"":0;case"weak":return e}},set:Qr}};var Yr,Zr=[];avalon.tick=function(e){Zr.push(e)===1&&(Yr=setInterval(ei,60))};var ti=L,ni=/text|password|hidden/;new function(){try{var e={},t=HTMLInputElement.prototype,n=HTMLTextAreaElement.prototype;function r(t){e[this.tagName].call(this,t),ni.test(this.type)&&!this.msFocus&&this.avalonSetter&&this.avalonSetter()}var i=HTMLInputElement.prototype;Object.getOwnPropertyNames(i),e.INPUT=Object.getOwnPropertyDescriptor(t,"value").set,Object.defineProperty(t,"value",{set:r}),e.TEXTAREA=Object.getOwnPropertyDescriptor(n,"value").set,Object.defineProperty(n,"value",{set:r})}catch(s){ti=avalon.tick}},_&&avalon.bind(r,"selectionchange",function(e){var t=r.activeElement;t&&typeof t.avalonSetter=="function"&&t.avalonSetter()}),Kr.INPUT=function(e,t,n){function a(e){n.changed.call(this,e,n)}function f(){o=!0}function l(){o=!1}var r=e.type,i=n.bound,s=avalon(e),o=!1,c=function(){if(o)return;var r=e.oldValue=e.value,i=n.pipe(r,n,"get");s.data("duplexObserve")!==!1&&(t(i),a.call(e,i),s.data("duplex-focus")&&avalon.nextTick(function(){e.focus()}))};n.handler=function(){var r=n.pipe(t(),n,"set")+"";r!==e.oldValue&&(e.value=r)};if(n.isChecked||r==="radio"){var h=_===6;c=function(){if(s.data("duplexObserve")!==!1){var r=n.pipe(e.value,n,"get");t(r),a.call(e,r)}},n.handler=function(){var r=t(),i=n.isChecked?!!r:r+""===e.value;e.oldValue=i,h?setTimeout(function(){e.defaultChecked=i,e.checked=i},31):e.checked=i},i("click",c)}else if(r==="checkbox")c=function(){if(s.data("duplexObserve")!==!1){var r=e.checked?"ensure":"remove",i=t();Array.isArray(i)||(u("ms-duplex应用于checkbox上要对应一个数组"),i=[i]);var o=n.pipe(e.value,n,"get");avalon.Array[r](i,o),a.call(e,i)}},n.handler=function(){var r=[].concat(t()),i=n.pipe(e.value,n,"get");e.checked=r.indexOf(i)>-1},i(x?"change":"click",c);else{var d=e.getAttribute("data-duplex-event")||"input";e.attributes["data-event"]&&u("data-event指令已经废弃，请改用data-duplex-event");function v(e){setTimeout(function(){c(e)})}d.replace(p,function(e){switch(e){case"input":_?(_>8?i("input",c):i("propertychange",function(e){e.propertyName==="value"&&c()}),i("dragend",v)):(i("input",c),i("compositionstart",f),i("compositionend",l),i("DOMAutoComplete",c));break;default:i(e,c)}}),i("focus",function(){e.msFocus=!0}),i("blur",function(){e.msFocus=!1}),ni.test(r)&&ti(function(){if(T.contains(e))!e.msFocus&&e.oldValue!==e.value&&c();else if(!e.msRetain)return!1}),e.avalonSetter=c}e.oldValue=e.value,avalon.injectBinding(n),a.call(e,e.value)},Kr.TEXTAREA=Kr.INPUT,Kr.SELECT=function(e,t,n){function i(){if(r.data("duplexObserve")!==!1){var i=r.val();Array.isArray(i)?i=i.map(function(e){return n.pipe(e,n,"get")}):i=n.pipe(i,n,"get"),i+""!==e.oldValue&&t(i),n.changed.call(e,i,n)}}var r=avalon(e);n.handler=function(){var n=t();n=n&&n.$model||n,Array.isArray(n)?e.multiple||u("ms-duplex在<select multiple=true>上要求对应一个数组"):e.multiple&&u("ms-duplex在<select multiple=false>不能对应一个数组"),n=Array.isArray(n)?n.map(String):n+"",n+""!==e.oldValue&&(r.val(n),e.oldValue=n+"")},n.bound("change",i),e.msCallback=function(){avalon.injectBinding(n),n.changed.call(e,t(),n)}},I.html=function(e,t,n){var i=t.nodeType!==1,s=i?t.parentNode:t;if(!s)return;e=e==null?"":e;if(n.oldText===e)return;n.oldText=e;if(t.nodeType===3){var o=O("html");s.insertBefore(r.createComment(o),t),n.element=r.createComment(o+":end"),s.replaceChild(n.element,t),t=n.element}if(typeof e!="object")var u=avalon.parseHTML(String(e));else if(e.nodeType===11)u=e;else if(e.nodeType===1||e.item){var a=e.nodeType===1?e.childNodes:e.item;u=N.cloneNode(!0);while(a[0])u.appendChild(a[0])}a=avalon.slice(u.childNodes);if(i){var f=t.nodeValue.slice(0,-4);for(;;){var l=t.previousSibling;if(!l||l.nodeType===8&&l.nodeValue===f)break;s.removeChild(l)}s.insertBefore(u,t)}else avalon.clearHTML(t).appendChild(u);Or(a,n.vmodels)},F["if"]=F.data=F.text=F.html=function(e,t){ur(e.value,t,e)},I["if"]=function(e,t,n){try{if(!t.parentNode)return}catch(i){return}if(e)t.nodeType===8&&(t.parentNode.replaceChild(n.template,t),t=n.element=n.template),t.getAttribute(n.name)&&(t.removeAttribute(n.name),wr(t,n.vmodels)),n.rollback=null;else if(t.nodeType===1){var o=n.element=r.createComment("ms-if");t.parentNode.replaceChild(o,t),n.template=t,s.appendChild(t),n.rollback=function(){t.parentNode===s&&s.removeChild(t)}}};var ri=/\(([^)]*)\)/;F.on=function(e,t){var n=e.value;e.type="on";var r=e.param.replace(/-\d+$/,"");typeof F.on[r+"Hook"]=="function"&&F.on[r+"Hook"](e);if(n.indexOf("(")>0&&n.indexOf(")")>-1){var i=(n.match(ri)||["",""])[1].trim();if(i===""||i==="$event")n=n.replace(ri,"")}ur(n,t,e)},I.on=function(e,t,n){e=function(e){var t=n.evaluator||L;return t.apply(this,n.args.concat(e))};var r=n.param.replace(/-\d+$/,"");if(r==="scan")e.call(t,{type:r});else if(typeof n.specialBind=="function")n.specialBind(t,e);else var i=avalon.bind(t,r,e);n.rollback=function(){typeof n.specialUnbind=="function"?n.specialUnbind():avalon.unbind(t,r,i)}},F.repeat=function(e,t){var n=e.type;ur(e.value,t,e,0,1),e.proxies=[];var i=!1;try{var s=e.$repeat=e.evaluator.apply(0,e.args||[]),o=avalon.type(s);o!=="object"&&o!=="array"&&(i=!0,avalon.log("warning:"+e.value+"只能是对象或数组"))}catch(u){i=!0}var f=e.value.split(".")||[];if(f.length>1){f.pop();var l=f[0];for(var c=0,h;h=t[c++];)if(h&&h.hasOwnProperty(l)){var p=h[l].$events||{};p[a]=p[a]||[],p[a].push(e);break}}var d=e.element;if(d.nodeType===1){d.removeAttribute(e.name),e.sortedCallback=cr(d,"data-with-sorted",t),e.renderedCallback=cr(d,"data-"+n+"-rendered",t);var v=O(n),m=r.createComment(v),g=r.createComment(v+":end");e.signature=v,e.template=N.cloneNode(!1);if(n==="repeat"){var y=d.parentNode;y.replaceChild(g,d),y.insertBefore(m,g),e.template.appendChild(d)}else{while(d.firstChild)e.template.appendChild(d.firstChild);d.appendChild(m),d.appendChild(g)}e.element=g,e.handler=I.repeat,e.rollback=function(){var t=e.element;if(!t)return;e.handler("clear")}}if(i)return;e.$outer={};var b="$key",w="$val";Array.isArray(s)&&(b="$first",w="$last");for(c=0;h=t[c++];)if(h.hasOwnProperty(b)&&h.hasOwnProperty(w)){e.$outer=h;break}var E=s.$events,S=(E||{})[a];zt(S,e),o==="object"?(e.$with=!0,s.$proxy||(s.$proxy={}),e.handler("append",s)):s.length&&e.handler("add",0,s.length)},I.repeat=function(e,t,n){if(e){var r=this,i,s,o=r.element,u=si(r),a=o.parentNode,f=r.proxies,l=N.cloneNode(!1);switch(e){case"add":var c=t+n,h=[];for(var p=t;p<c;p++){var d=di(p,r);f.splice(p,0,d),ii(r,l,d,h)}var v=new Date-0;avalon.optimize=avalon.optimize||v;for(p=0;s=h[p++];)Or(s.nodes,s.vmodels),s.nodes=s.vmodels=null;avalon.optimize===v&&delete avalon.optimize,a.insertBefore(l,u[t]||o),avalon.profile("插入操作花费了 "+(new Date-v));break;case"del":oi(u[t],u[t+n]||o);var m=f.splice(t,n);li(m,"each");break;case"clear":i=u[0],i&&(oi(i,o),r.$with&&a.insertBefore(i,o)),li(f,"each");break;case"move":i=u[0];if(i){var g=i.nodeValue,y=[],b=[],w;oi(i,o,function(){b.unshift(this),this.nodeValue===g&&(y.unshift(b),b=[])}),qt(y,t),qt(f,t);while(b=y.shift())while(w=b.shift())l.appendChild(w);a.insertBefore(l,o)}break;case"index":var E=f.length-1;for(;n=f[t];t++)n.$index=t,n.$first=t===0,n.$last=t===E;return;case"set":d=f[t],d&&Wt(d.$events[r.param||"el"]);break;case"append":var S=t,x=S.$proxy,T=[];h=[];for(var C in x)S.hasOwnProperty(C)||(vi(x[C],ui),delete x[C]);for(C in S)S.hasOwnProperty(C)&&C!=="hasOwnProperty"&&C!=="$proxy"&&T.push(C);if(r.sortedCallback){var k=r.sortedCallback.call(a,T);k&&Array.isArray(k)&&k.length&&(T=k)}for(p=0;C=T[p++];)C!=="hasOwnProperty"&&(x[C]=fi(x[C],C,r),ii(r,l,x[C],h));a.insertBefore(l,o);for(p=0;s=h[p++];)Or(s.nodes,s.vmodels),s.nodes=s.vmodels=null}if(!r.$repeat||r.$repeat.hasOwnProperty("$lock"))return;e==="clear"&&(e="del");var A=r.renderedCallback||L,O=arguments;a.oldValue&&a.tagName==="SELECT"&&avalon(a).val(a.oldValue.split(",")),A.apply(a,O)}},"with,each".replace(p,function(e){F[e]=F.repeat});var ui=[],hi=[];I.text=function(e,t){e=e==null?"":e;if(t.nodeType===3)try{t.data=e}catch(n){}else"textContent"in t?t.textContent=e:t.innerText=e},avalon.parseDisplay=mi,F.visible=function(e,t){var n=avalon(e.element),r=n.css("display");if(r==="none"){var i=n[0].style,s=/visibility/i.test(i.cssText),o=n.css("visibility");i.display="",i.visibility="hidden",r=n.css("display"),r==="none"&&(r=mi(n[0].nodeName)),i.visibility=s?o:""}e.display=r,ur(e.value,t,e)},I.visible=function(e,t,n){t.style.display=e?n.display:"none"},F.widget=function(t,n){var r=t.value.match(p),i=t.element,s=r[0],o=r[1];if(!o||o==="$")o=O(s);var a=r[2]||s,f=avalon.ui[s];if(typeof f=="function"){n=i.vmodels||n;for(var l=0,c;c=n[l++];)if(c.hasOwnProperty(a)&&typeof c[a]=="object"){var h=c[a];h=h.$model||h;break}if(h){var d=h[s+"Id"];typeof d=="string"&&(u("warning!不再支持"+s+"Id"),o=d)}var v=avalon.getWidgetData(i,s);t.value=[s,o,a].join(","),t[s+"Id"]=o,t.evaluator=L,i.msData["ms-widget-id"]=o;var m=t[s+"Options"]=avalon.mix({},f.defaults,h||{},v);i.removeAttribute("ms-widget");var g=f(i,t,n)||{};if(g.$id){avalon.vmodels[o]=g,lr(i,g);try{g.$init(function(){avalon.scan(i,[g].concat(n)),typeof m.onInit=="function"&&m.onInit.call(i,g,m,n)})}catch(y){}t.rollback=function(){try{g.widgetElement=null,g.$remove()}catch(e){}i.msData={},delete avalon.vmodels[g.$id]},Yt(t,gi),e.chrome&&i.addEventListener("DOMNodeRemovedFromDocument",function(){setTimeout(Zt)})}else avalon.scan(i,n)}else n.length&&(i.vmodels=n)};var gi=[],yi=/<script[^>]*>([\S\s]*?)<\/script\s*>/gim,bi=/\s+(on[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,wi=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/ig,Ei={a:/\b(href)\=("javascript[^"]*"|'javascript[^']*')/ig,img:/\b(src)\=("javascript[^"]*"|'javascript[^']*')/ig,form:/\b(action)\=("javascript[^"]*"|'javascript[^']*')/ig},Si=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xi=/([^\#-~| |!])/g,Ni=avalon.filters={uppercase:function(e){return e.toUpperCase()},lowercase:function(e){return e.toLowerCase()},truncate:function(e,t,n){return t=t||30,n=typeof n=="string"?n:"...",e.length>t?e.slice(0,t-n.length)+n:String(e)},$filter:function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t],i=avalon.filters[r.shift()];if(typeof i=="function"){var s=[e].concat(r);e=i.apply(null,s)}}return e},camelize:dn,sanitize:function(e){return e.replace(yi,"").replace(wi,function(e,t){var n=e.toLowerCase().match(/<(\w+)\s/);if(n){var r=Ei[n[1]];r&&(e=e.replace(r,function(e,t,n){var r=n.charAt(0);return t+"="+r+"javascript:void(0)"+r}))}return e.replace(bi," ").replace(/\s+/g," ")})},escape:function(e){return String(e).replace(/&/g,"&amp;").replace(Si,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((t-55296)*1024+(n-56320)+65536)+";"}).replace(xi,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")},currency:function(e,t,n){return(t||"￥")+Ti(e,isFinite(n)?n:2)},number:Ti};new function(){function e(e){return parseInt(e,10)||0}function t(e,t,n){var r="";e<0&&(r="-",e=-e),e=""+e;while(e.length<t)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function n(e,n,r,i){return function(s){var o=s["get"+e]();if(r>0||o>-r)o+=r;return o===0&&r===-12&&(o=12),t(o,n,i)}}function r(e,t){return function(n,r){var i=n["get"+e](),s=(t?"SHORT"+e:e).toUpperCase();return r[s][i]}}function i(e){var n=-1*e.getTimezoneOffset(),r=n>=0?"+":"";return r+=t(Math[n>0?"floor":"ceil"](n/60),2)+t(Math.abs(n%60),2),r}function s(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}var o={yyyy:n("FullYear",4),yy:n("FullYear",2,0,!0),y:n("FullYear",1),MMMM:r("Month"),MMM:r("Month",!0),MM:n("Month",2,1),M:n("Month",1,1),dd:n("Date",2),d:n("Date",1),HH:n("Hours",2),H:n("Hours",1),hh:n("Hours",2,-12),h:n("Hours",1,-12),mm:n("Minutes",2),m:n("Minutes",1),ss:n("Seconds",2),s:n("Seconds",1),sss:n("Milliseconds",3),EEEE:r("Day"),EEE:r("Day",!0),a:s,Z:i},u=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,a=/^\/Date\((\d+)\)\/$/;Ni.date=function(t,n){var r=Ni.date.locate,i="",s=[],f,l;n=n||"mediumDate",n=r[n]||n;if(typeof t=="string")if(/^\d+$/.test(t))t=e(t);else if(a.test(t))t=+RegExp.$1;else{var c=t.trim(),h=[0,0,0,0,0,0,0],p=new Date(0);c=c.replace(/^(\d+)\D(\d+)\D(\d+)/,function(t,n,r,i){var s=i.length===4?[i,n,r]:[n,r,i];return h[0]=e(s[0]),h[1]=e(s[1])-1,h[2]=e(s[2]),""});var d=p.setFullYear,v=p.setHours;c=c.replace(/[T\s](\d+):(\d+):?(\d+)?\.?(\d)?/,function(t,n,r,i,s){return h[3]=e(n),h[4]=e(r),h[5]=e(i),s&&(h[6]=Math.round(parseFloat("0."+s)*1e3)),""});var m=0,g=0;c=c.replace(/Z|([+-])(\d\d):?(\d\d)/,function(t,n,r,i){return d=p.setUTCFullYear,v=p.setUTCHours,n&&(m=e(n+r),g=e(n+i)),""}),h[3]-=m,h[4]-=g,d.apply(p,h.slice(0,3)),v.apply(p,h.slice(3)),t=p}typeof t=="number"&&(t=new Date(t));if(avalon.type(t)!=="date")return;while(n)l=u.exec(n),l?(s=s.concat(l.slice(1)),n=s.pop()):(s.push(n),n=null);return s.forEach(function(e){f=o[e],i+=f?f(t,r):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i};var f={AMPMS:{0:"上午",1:"下午"},DAY:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},MONTH:{0:"1月",1:"2月",2:"3月",3:"4月",4:"5月",5:"6月",6:"7月",7:"8月",8:"9月",9:"10月",10:"11月",11:"12月"},SHORTDAY:{0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"},fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d H:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"H:mm:ss","short":"yy-M-d ah:mm",shortDate:"yy-M-d",shortTime:"ah:mm"};f.SHORTMONTH=f.MONTH,Ni.date.locate=f},new function(){function i(n){t=1;while(n=e.shift())n()}avalon.config({loader:!1});var e=[],t=r.readyState==="complete",n;avalon.bind(r,"DOMContentLoaded",n=function(){avalon.unbind(r,"DOMContentLoaded",n),i()});var s=setInterval(function(){document.readyState==="complete"&&document.body&&(clearInterval(s),i())},50);avalon.ready=function(n){t?n(avalon):e.push(n)},avalon.ready(function(){avalon.scan(r.body)})},typeof define=="function"&&define.amd&&define("avalon",[],function(){return avalon});var Ci=e.avalon;return avalon.noConflict=function(t){return t&&e.avalon===avalon&&(e.avalon=Ci),avalon},t===void 0&&(e.avalon=avalon),avalon}),define("domReady",[],function(){function u(e){var t;for(t=0;t<e.length;t+=1)e[t](s)}function a(){var e=o;i&&e.length&&(o=[],u(e))}function f(){i||(i=!0,n&&clearInterval(n),a())}function c(e){return i?e(s):o.push(e),c}var e,t,n,r=typeof window!="undefined"&&window.document,i=!r,s=r?document:null,o=[];if(r){if(document.addEventListener)document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1);else if(window.attachEvent){window.attachEvent("onload",f),t=document.createElement("div");try{e=window.frameElement===null}catch(l){}t.doScroll&&e&&window.external&&(n=setInterval(function(){try{t.doScroll(),f()}catch(e){}},30))}document.readyState==="complete"&&f()}return c.version="2.0.1",c.load=function(e,t,n,r){r.isBuild?n(null):c(n)},c}),define("text",["module"],function(e){var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.13+",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.lastIndexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText){r();return}d.isBuild=i&&i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i[0]==="﻿"&&(i=i.substring(1)),t(i)}catch(s){r&&r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r&&r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("text!tab/avalon.tab.html",[],function(){return'<div class="oni-tab-slider"\n    ms-visible="toggle">\n    <a href="#" class="oni-tab-slider-button oni-tab-slider-button-left oni-icon" \n       ms-visible="prevEnable" \n       ms-click="slider($event,\'prev\')">&#xf047;</a>\n    <div class="oni-tab-slider-ct oni-tab-slider-enable" \n         ms-css-margin-left="_computedMarginLeft">\n        <ul class="oni-tab-nav oni-helper-clearfix oni-widget-header oni-helper-reset" \n        ms-attr-id="\'tabs\' + tabs.$id">\n            <li class="oni-state-default" \n                data-repeat-rendered="computeSlider" \n                ms-repeat-tab="tabs" \n                ms-class="oni-tab-item"  \n                ms-class-1="oni-state-active:!!_canActive(tab, $index)" \n                ms-class-2="oni-state-disabled:tab.disabled" \n                ms-class-3="oni-tab-last:$last" \n                ms-class-4="oni-tab-removable:!!_canRemove(tab)" \n                ms-hover="oni-state-hover:!tab.disabled" \n                ms-{{MS_OPTION_EVENT}}="activate($event, $index)" \n                > \n                <a ms-href="tab.href?tab.href:\'#\'" ms-attr-target="tab.target||target||\'_self\'">{{_tabTitle(tab.title, tab, _cutCounter(), cutEnd) | sanitize | html}}</a>\n                {{MS_OPTION_REMOVABLE}}\n            </li>\n        </ul>\n    </div>\n    <a href="#" class="oni-tab-slider-button oni-icon" \n       ms-visible="nextEnable"\n       ms-click="slider($event,\'next\')">&#xf03e;</a>\n</div>'}),define("text!tab/avalon.tab.panels.html",[],function(){return'<div class="oni-tab-panel-container" ms-each-panel="tabpanels"\n	 ms-visible="toggle"\n	 ms-if="tabpanels.size()">\n     <div class="oni-tab-panel oni-widget-content" \n          ms-visible="_shallPanelAlwaysShow($index)" \n          ms-if-loop="_isAjax(panel)">{{panel.content | sanitize | html }}</div>\n     <div class="oni-tab-panel oni-widget-content"\n          ms-visible="_shallPanelAlwaysShow($index)" \n          ms-include-src="panel.content" \n          ms-if-loop="!_isAjax(panel)" data-include-rendered="onAjaxCallback">\n     </div>\n</div>'}),define("text!tab/avalon.tab.close.html",[],function(){return'<span  class="oni-tab-close oni-icon oni-icon-close"\n       ms-visible="!tab.disabled"\n       ms-click="remove($event, $index)" \n       ms-hover="oni-tab-close-hover" \n       ms-if="!!_canRemove(tab)">&#xF003;\n</span>'}),define("normalize",[],function(){function s(e,i,s){if(e.match(r)||e.match(n))return e;e=t(e);var a=s.match(n),f=i.match(n);return f&&(!a||a[1]!=f[1]||a[2]!=f[2])?o(e,i):u(o(e,i),s)}function o(e,t){e.substr(0,2)=="./"&&(e=e.substr(2));if(e.match(r)||e.match(n))return e;var i=t.split("/"),s=e.split("/");i.pop();while(curPart=s.shift())curPart==".."?i.pop():i.push(curPart);return i.join("/")}function u(e,t){var n=t.split("/");n.pop(),t=n.join("/")+"/",i=0;while(t.substr(i,1)==e.substr(i,1))i++;while(t.substr(i,1)!="/")i--;t=t.substr(i+1),e=e.substr(i+1),n=t.split("/");var r=e.split("/");out="";while(n.shift())out+="../";while(curPart=r.shift())out+=curPart+"/";return out.substr(0,out.length-1)}var e=/([^:])\/+/g,t=function(t){return t.replace(e,"$1/")},n=/[^\:\/]*:\/\/([^\/])*/,r=/^(\/|data:)/,a=function(e,n,r){n=t(n),r=t(r);var i=/@import\s*("([^"]*)"|'([^']*)')|url\s*\((?!#)\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/ig,o,u,e;while(o=i.exec(e)){u=o[3]||o[2]||o[5]||o[6]||o[4];var a;a=s(u,n,r);var f=o[5]||o[6]?1:0;e=e.substr(0,i.lastIndex-u.length-f-1)+a+e.substr(i.lastIndex-f-1),i.lastIndex=i.lastIndex+(a.length-u.length)}return e};return a.convertURIBase=s,a.absoluteURI=o,a.relativeURI=u,a}),define("css",[],function(){if(typeof window=="undefined")return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,n=!1,r=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]?r=!1:t[4]&&(n=parseInt(t[4])<18);var i={};i.pluginBuilder="./css-builder";var s,o,u=function(){s=document.createElement("style"),e.appendChild(s),o=s.styleSheet||s.sheet},a=0,f=[],l,c=function(e){a++,a==32&&(u(),a=0),o.addImport(e),s.onload=function(){h()}},h=function(){l();var e=f.shift();if(!e){l=null;return}l=e[1],c(e[0])},p=function(e,t){(!o||!o.addImport)&&u();if(o&&o.addImport)l?f.push([e,t]):(c(e),l=t);else{s.textContent='@import "'+e+'";';var n=setInterval(function(){try{s.sheet.cssRules,clearInterval(n),t()}catch(e){}},10)}},d=function(t,n){var i=document.createElement("link");i.type="text/css",i.rel="stylesheet";if(r)i.onload=function(){i.onload=function(){},setTimeout(n,7)};else var s=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==i.href)return clearInterval(s),n()}},10);i.href=t,e.appendChild(i)};return i.normalize=function(e,t){return e.substr(e.length-4,4)==".css"&&(e=e.substr(0,e.length-4)),t(e)},i.load=function(e,t,r,i){(n?p:d)(t.toUrl(e+".css"),r)},i}),define("css!tab/avalon.tab",[],function(){}),define("css!chameleon/oniui-common",[],function(){}),define("tab/avalon.tab",["avalon","text!./avalon.tab.html","text!./avalon.tab.panels.html","text!./avalon.tab.close.html","css!./avalon.tab.css","css!../chameleon/oniui-common.css"],function(e,t,n,r){function i(e,t){return e.replace(/\{\{MS_[A-Z_0-9]+\}\}/g,function(n){var n=(n.split("{{MS_OPTION_")[1]||"").replace(/\}\}/g,"").toLowerCase().replace(/_[^_]/g,function(e){return e.replace(/_/g,"").toUpperCase()});if(n=="event"&&t[n]){var i,s;if(i=e.match(new RegExp(" ms-"+t[n]+"[^'\\\"]","g"))){s=i.length,i=i.join(",");while(i.match(new RegExp(s,"g")))s++;return t[n]+"-"+s}}else if(n=="removable")return r;return t[n]||""})}function s(t,n,r){var i=[];for(var s=0,o;o=t&&t.children[s++];){if(o.tagName.toLowerCase()!=n)continue;var u=e(o).data(),a=n=="div"?{content:u.content||o.innerHTML,contentType:u.contentType||"content"}:{title:o.innerHTML,removable:u.removable,linkOnly:u.linkOnly,target:u.target||r||"_self",disabled:u.disabled==void 0?!1:u.disabled},f=u.href||o.getAttribute("href");f&&(a.href=f),i.push(a)}return i}var o=e.ui.tab=function(t,n,r){var o=n.tabOptions,u=[],a=[],f;e.each(o.tabs,function(e,t){t.disabled=!!t.disabled}),o.tabs==void 0&&(f=o.tabContainerGetter(t),e.scan(f,r),a=s(f,"li",o.target),o.distroyDom&&t.removeChild(f));if(o.tabpanels==void 0){panelsParent=o.panelContainerGetter(t),o.preScanPannel&&e.scan(panelsParent,r),u=s(panelsParent,"div");if(o.distroyDom)try{t.removeChild(panelsParent)}catch(l){}}var c=e.define(n.tabId,function(n){n.$skipArray=["widgetElement","callInit","rootElement"],n.tabs=[],n.tabpanels=[],e.mix(n,o),n.widgetElement=t,n.rootElement=t;var s,f;n.$init=function(f){var l=f&&!e.isFunction(f);if(s||!l&&!n.callInit)return;s=!0,o.tabs||(n.tabs=a),n.tabpanels.length||(n.tabpanels=u),n.active=n.active>=n.tabs.length&&n.tabs.length-1||n.active<0&&0||parseInt(n.active)>>0,e(t).addClass("oni-tab oni-widget oni-widget-content"+(n.event=="click"?" oni-tab-click":"")+(n.dir=="v"?" oni-tab-vertical":"")+(n.dir!="v"&&n.uiSize=="small"?" oni-tab-small":""));var h=i(n._getTemplate(0,n),n),p=i(n._getTemplate("panel",n),n);t.innerHTML=c.bottom?p+h:h+p,f?f():(e.log("avalon请尽快升到1.3.7+"),e.scan(t,[c].concat(r)),typeof o.onInit=="function"&&o.onInit.call(t,c,o,r)),n.autoSwitch&&n._autoSwitch()},n._clearTimeout=function(){clearTimeout(f)},n.activate=function(e,t,r){if(n.tabs[t].disabled===!0){n.event==="click"&&e.preventDefault();return}if(n.tabs[t].linkOnly)return;var i=this;if(n.event==="click"&&n.active===t){n.collapsible?(n.active=NaN,e.preventDefault()):o.onClickActive.call(i,e,c)||e.preventDefault();return}n.event==="click"&&e.preventDefault(),n.active!==t&&(n.active=t,o.onActivate.call(i,e,c))};if(n.event=="mouseenter"&&n.activeDelay){var l,h=n.activate;n.activate=function(t,r){clearTimeout(l);var i=this,s=arguments;l=setTimeout(function(){h.apply(i,[t,r,"fix event bug in ie"])},n.activeDelay),!i.getAttribute("leave-binded")&&0&&(i.setAttribute("leave-binded",1),e.bind(i,"mouseleave",function(){clearTimeout(l)}))}}return n._autoSwitch=function(){clearTimeout(f);if(n.tabs.length<2)return;f=setTimeout(function(){var e=n.active+1,t=0;while(e!=n.active&&t<n.tabs.length-1){e>=n.tabs.length&&(e=0);if(!n.tabs[e].disabled){n.active=e,n._autoSwitch();break}e++,t++}},n.autoSwitch)},n.$remove=function(){t.innerHTML=t.textContent=""},n.disable=function(t,r){r=r==void 0?!0:r,t instanceof Array||(t=[t]);var i=n.tabs.length;e.each(t,function(e,t){t>=0&&i>t&&(n.tabs[t].disabled=r)})},n.enable=function(e){n.disable(e,!1)},n.add=function(t){var r=t.title||"Tab Tile",i=t.content||"<div></div>",s=!1;n.tabpanels.forEach(function(e){e.contentType=="include"&&e.content==t.content&&(s=!0)});if(s===!0)return;n.tabpanels.push({content:i,contentType:t.contentType}),n.tabs.push({title:r,removable:t.removable,disabled:!1}),t.actived&&e.nextTick(function(){c.active=c.tabs.length-1})},n.remove=function(t,r){arguments.length==2?(t.preventDefault(),t.stopPropagation()):r=t;if(c.tabs[r].disabled===!0||c.tabs[r].removable===!1||c.tabs[r].removable==void 0&&!n.removable)return;c.tabs.removeAt(r),c.tabpanels.removeAt(r),r=r>1?r-1:0,e.nextTick(function(){c.active=r}),n.bottom=o.bottom},n._canRemove=function(e){return(e.removable==1||e.removable!==!1&&n.removable)&&!e.disabled&&n.dir!="v"},n._canActive=function(e,t){return n.active==t&&!e.disabled},n._isAjax=function(e){return n.contentType=="content"&&!e.contentType||e.contentType=="content"},n._cutCounter=function(){return(c.dir=="h"||c.forceCut)&&c.titleCutCount},n._shallPanelAlwaysShow=function(e){return c.shallPanelAlwaysShow||e===c.active},n.sliderIndex=0,n.sliderLength=0,n.nextEnable=0,n.prevEnable=0,n.slider=function(t,r){t.preventDefault();var i;r==="prev"?(i=n.sliderIndex-1,i=i>0?i:0):i=n.sliderIndex+1,n.sliderIndex=i;var s=document.getElementById("tabs"+n.tabs.$id),o=s.scrollWidth,u=e(s.parentNode.parentNode).width(),a=e(s.parentNode).css("margin-left"),f=o-u;n.sliderStep.indexOf("%")!==-1?n._computedMarginLeft=n.sliderIndex*parseInt(n.sliderStep,10)*u*.01:n.sliderStep.indexOf("px")!==-1?n._computedMarginLeft=n.sliderIndex*parseInt(n.sliderStep,10):console.log("ERROR: sliderStep设置有误"),n._computedMarginLeft>f?n._computedMarginLeft=-f+"px":n._computedMarginLeft=-n._computedMarginLeft+"px",r==="next"&&a===n._computedMarginLeft&&(n.sliderIndex-=1),n.computeSlider(),n.buttonEnable()},n._computedMarginLeft="",n.computeSlider=function(){if(n.dir==="v")return;var t=document.getElementById("tabs"+n.tabs.$id);t&&setTimeout(function(){var r=t.scrollWidth,i=e(t.parentNode.parentNode).width(),s=e(t.parentNode).css("margin-left");r<i?n._computedMarginLeft=0:r<i-parseInt(s)&&(n._computedMarginLeft=-(r-i)+"px"),r>i?n.sliderLength=r/i:n.sliderLength=0,n.buttonEnable()},0)},n.buttonEnable=function(){n.sliderLength>1?(n.prevEnable=!0,n.nextEnable=!0):(n.prevEnable=!1,n.nextEnable=!1)},n});return c.autoSwitch&&(e.bind(t,"mouseenter",function(){c._clearTimeout()}),e.bind(t,"mouseleave",function(){c._clearTimeout(),c._autoSwitch()}),c.$watch("autoSwitch",function(e,t){c._clearTimeout(),e&&c._autoSwitch()})),c};o.defaults={target:"_blank",toggle:!0,autoSwitch:!1,active:0,shallPanelAlwaysShow:!1,event:"mouseenter",removable:!1,preScanPannel:!1,activeDelay:0,collapsible:!1,contentType:"content",bottom:!1,dir:"h",callInit:!0,titleCutCount:8,distroyDom:!0,cutEnd:"...",sliderStep:"100%",forceCut:!1,onInit:e.noop,tabContainerGetter:function(e){return e.getElementsByTagName("ul")[0]||e.getElementsByTagName("ol")[0]},panelContainerGetter:function(e){return e.getElementsByTagName("div")[0]||e},onActivate:e.noop,onClickActive:e.noop,onAjaxCallback:e.noop,_getTemplate:function(e,i){var s,o;return e=="panel"?s=n:e=="close"?s=r:s=t,o=i.getTemplate(s,i,e),o||o===""?o:s},getTemplate:function(e,t,n){return e},_tabTitle:function(t,n,r,i){var s;n.titleCutCount!=void 0?s=n.titleCutCount:r!=void 0&&(s=r);if(!s)return t;var o=t.split(/<[^>]+>/g),u=0,a=0,f;return e.each(o,function(e,n){if(f>=0)a="";else{var r=n.trim();u+r.length>s?(f=e,a=r.substr(0,s-u)+i):(u+=r.length,a=0)}if(a===0)return;t=t.replace(n,a)}),t},$author:"skipper@123"}}),define("text!pager/avalon.pager.html",[],function(){return'<div class="oni-pager" onselectstart="return false;" unselectable="on" ms-visible="!!totalPages">\n    <span class="oni-pager-prev"\n          ms-class="oni-state-disabled:firstPage==1"\n          ms-if="isShowPrev()"\n          ms-attr-title="getTitle(\'prev\')" \n          ms-click="jumpPage($event,\'prev\')" \n          ms-text="prevText"\n          ></span>\n    <span class="oni-pager-item"\n          ms-visible="firstPage!==1" \n          ms-attr-title="getTitle(\'first\', currentPage)" \n          ms-click="jumpPage($event,\'first\')" \n          ms-class-oni-state-active="currentPage == 1"\n          ms-hover="oni-state-hover">1</span>\n    <span class=\'oni-pager-omit\'\n          ms-if="showFirstOmit" \n          ms-text="ellipseText"\n          ></span>\n    <span  class="oni-pager-item" \n           ms-repeat="pages" \n           ms-attr-title="getTitle(el, currentPage)"\n           ms-hover="oni-state-hover"\n           ms-click="jumpPage($event,el)"\n           ms-class-oni-state-active="el == currentPage" \n           ms-text="el"\n           ></span>\n    <span class="oni-pager-omit"\n          ms-if="showLastOmit" \n          ms-text="ellipseText"\n          ></span>\n    <span class="oni-pager-item "\n          ms-visible="lastPage!==totalPages" \n          ms-attr-title="getTitle(\'last\', currentPage, totalPages)" \n          ms-hover="oni-state-hover" \n          ms-click="jumpPage($event,\'last\')"  \n          ms-text="totalPages"\n          ></span>\n    <span class="oni-pager-next"\n          ms-if="isShowNext()" \n          ms-attr-title="getTitle(\'next\')"\n          ms-click="jumpPage($event,\'next\')" \n          ms-class="oni-state-disabled:lastPage==totalPages"\n          ms-text="nextText"\n          ></span>\n    <div class="oni-pager-jump" ms-if="showJumper">\n        <span class="oni-pager-text" ms-html="_getTotalPages(totalPages)"></span>\n        <div class="oni-pager-textbox-wrapper">\n            <input class="oni-pager-textbox" ms-duplex="_currentPage" data-duplex-event="change" ms-keyup="changeCurrentPage">\n        </div>\n        <span class="oni-pager-text">{{regional.pageText}}</span>\n        <button class="oni-pager-button" ms-click="changeCurrentPage" >{{regional.confirmText}}</button>\n    </div>\n</div>\n'}),define("css!pager/avalon.pager",[],function(){}),define("pager/avalon.pager",["avalon","text!./avalon.pager.html","css!../chameleon/oniui-common.css","css!./avalon.pager.css"],function(e,t){function r(e,t){var n={};for(var r=0,i=e.length;r<i;r++){var s=e[r];n[s]={action:"del",el:s}}for(var r=0,o=t.length;r<o;r++){var s=t[r];n[s]?n[s]={action:"retain",el:s}:n[s]={action:"add",el:s}}var u=[];for(var r in n)u.push({action:n[r].action,el:n[r].el});u.sort(function(e,t){return e.el-t.el}),u.forEach(function(e,t){e.index=t});var a=[];for(var r=0,s;s=u[r++];)switch(s.action){case"add":e.splice(s.index,0,s.el);break;case"del":a.unshift(s)}for(var r=0,s;s=a[r++];)e.splice(s.index,1)}function i(e){var t=e.currentPage,n=Math.ceil(e.totalItems/e.perPages),r=[],i=e.showPages,s=t,o=t;e.totalPages=n;if(n<=i)for(var u=1;u<=n;u++)r.push(u);else{r.push(t);for(;;){if(r.length>=i)break;s>1&&r.unshift(--s);if(r.length>=i)break;o<n&&r.push(++o)}}return e.firstPage=r[0]||1,e.lastPage=r[r.length-1]||1,e.showFirstOmit=e.firstPage>2,e.showLastOmit=e.lastPage<n-1,r}var n=e.ui.pager=function(s,o,u){var a=o.pagerOptions,f=a.options;Array.isArray(f)?a.options=f.map(function(e){var t={};switch(typeof e){case"number":case"string":return t.value=e,t.text=e,t;case"object":return e}}):a.options=[],u.cb&&(t=t.replace(/ms-title/g,"ms-attr-title")),a.template=a.getTemplate(t,a),a._currentPage=a.currentPage;var l=e.define(o.pagerId,function(t){e.mix(t,a,{regional:n.defaultRegional}),t.widgetElement=s,t.rootElement={},t.$skipArray=["showPages","rootElement","widgetElement","template","ellipseText","alwaysShowPrev","alwaysShowNext"],t.$init=function(n){var r=a.template;s.style.display="none",setTimeout(function(){s.innerHTML=r,t.rootElement=s.getElementsByTagName("*")[0],s.style.display="block",n?n():(e.log("avalon请尽快升到1.3.7+"),e.scan(s,[l].concat(u)),typeof a.onInit=="function"&&a.onInit.call(s,l,a,u))},100)},t.$remove=function(){s.innerHTML=s.textContent=""},t.jumpPage=function(e,n){e.preventDefault();var o=this.className.indexOf("state-disabled")===-1;if(o&&n!==t.currentPage){switch(n){case"first":t.currentPage=1;break;case"last":t.currentPage=t.totalPages;break;case"next":t.currentPage++,t.currentPage>t.totalPages&&(t.currentPage=t.totalPages);break;case"prev":t.currentPage--,t.currentPage<1&&(t.currentPage=1);break;default:t.currentPage=n}t.onJump.call(s,e,t),r(t.pages,i(t))}},t.$watch("totalItems",function(){r(t.pages,i(t))}),t.$watch("perPages",function(e){t.currentPage=1,r(t.pages,i(t))}),t.$watch("currentPage",function(e){l._currentPage=e,r(t.pages,i(t))}),t.isShowPrev=function(){var e=t.alwaysShowPrev,n=t.firstPage;return e||n!==1},t.isShowNext=function(){var e=t.alwaysShowNext,n=t.lastPage,r=t.totalPages;return e||n!==r},t.changeCurrentPage=function(e,n){if(e.type==="keyup"){n=this.value;if(e.keyCode!==13)return}else n=l._currentPage;n=parseInt(n,10)||1;if(n>l.totalPages||n<1)return;l.currentPage=n,l.pages=i(l),l.onJump.call(s,e,t)},t.pages=[],t.getPages=i,t.setRegional=function(e){l.regional=e},t._getTotalPages=function(e){var t=l.regional,n=[t.totalText,e];return e>1?n.push(t.pagesText):n.push(t.pageText),n=n.concat([" ",t.jumpToText,t.numberText]),n.join("")},t.getTitle=function(e,t,n){var r=l.regional;switch(e){case"first":if(t==1)return r.currentText;return r.jumpToText+" "+r.firstText;case"prev":return r.jumpToText+" "+r.prevText;case"next":return r.jumpToText+" "+r.nextText;case"last":if(t==n)return r.currentText;return r.jumpToText+" "+r.lastText;default:if(e===t)return r.currentText;return r.jumpToText+r.numberText+" "+e+r.pageText}}});return l.pages=i(l),l};return n.regional=[],n.regional["zh-CN"]={prevText:"上一页",nextText:"下一页",confirmText:"确定",totalText:"共",pagesText:"页",pageText:"页",toText:"到",jumpToText:"跳转到",currentText:"当前页",firstText:"第一页",lastText:"最后一页",numberText:"第"},n.defaultRegional=n.regional["zh-CN"],n.defaults={perPages:10,showPages:10,currentPage:1,_currentPage:1,totalItems:200,totalPages:0,pages:[],nextText:">",prevText:"<",ellipseText:"…",firstPage:0,lastPage:0,alwaysShowNext:!1,alwaysShowPrev:!1,showFirstOmit:!1,showLastOmit:!1,showJumper:!1,getTemplate:function(e,t){return e},options:[],onJump:function(e,t){}},e}),define("avalon.getModel",["avalon"],function(e){function t(e,t,n){var r=t,i,s;for(var o=0,u=e.length;o<u;o++){var a=e[o];s=r.$model||r;if(typeof s[a]=="undefined")return;i=r,r=r[a]}return n>1?i[a]:i}return e.getModel=function(e,n){if(!e)return null;var r=e.split("."),i=r.length,s=r[i-1];r.length!=1&&r.pop();for(var o=0,u=n.length;o<u;o++){var a=n[o],f=t(r,a,i);if(typeof f!="undefined"&&(f.hasOwnProperty(s)||Object.prototype.hasOwnProperty.call(f,s)))return[s,f,a]}return null},e}),define("datepicker/avalon.datepicker.lang",[],function(){var e={"元旦节":{afterTime:3,beforeTime:3,dayIndex:0,holidayClass:"c_yuandan",holidayText:"元旦"},"除夕":{afterTime:0,beforeTime:0,dayIndex:0,holidayClass:"c_chuxi",holidayText:"除夕"},"春节":{afterTime:0,beforeTime:0,dayIndex:0,holidayClass:"c_chunjie",holidayText:"春节"},"元宵节":{afterTime:3,beforeTime:3,dayIndex:0,holidayClass:"c_yuanxiao",holidayText:"元宵"},"清明节":{afterTime:3,beforeTime:3,dayIndex:0,holidayClass:"c_qingming",holidayText:"清明"},"劳动节":{afterTime:3,beforeTime:3,dayIndex:0,holidayClass:"c_wuyi",holidayText:"劳动"},"端午节":{afterTime:3,beforeTime:3,dayIndex:0,holidayClass:"c_duanwu",holidayText:"端午"},"中秋节":{afterTime:2,beforeTime:2,dayIndex:0,holidayClass:"c_zhongqiu",holidayText:"中秋"},"国庆节":{afterTime:3,beforeTime:3,dayIndex:0,holidayClass:"c_guoqing",holidayText:"国庆"},"圣诞节":{afterTime:3,beforeTime:3,dayIndex:0,holidayClass:"c_shengdan",holidayText:"圣诞"}},t={"2014-01-01":{holidayName:"元旦节"},"2014-01-30":{holidayName:"除夕"},"2014-01-31":{holidayName:"春节"},"2014-02-01":{holidayName:"正月初二"},"2014-02-02":{holidayName:"正月初三"},"2014-02-14":{holidayName:"元宵节"},"2014-04-05":{holidayName:"清明节"},"2014-05-01":{holidayName:"劳动节"},"2014-06-01":{holidayName:"儿童节"},"2014-06-02":{holidayName:"端午节"},"2014-09-08":{holidayName:"中秋节"},"2014-09-10":{holidayName:"教师节"},"2014-10-01":{holidayName:"国庆节"},"2014-12-25":{holidayName:"圣诞节"},"2015-01-01":{holidayName:"元旦节"},"2015-02-18":{holidayName:"除夕"},"2015-02-19":{holidayName:"春节"},"2015-02-20":{holidayName:"正月初二"},"2015-02-21":{holidayName:"正月初三"},"2015-03-05":{holidayName:"元宵节"},"2015-04-05":{holidayName:"清明节"},"2015-05-01":{holidayName:"劳动节"},"2015-06-01":{holidayName:"儿童节"},"2015-06-20":{holidayName:"端午节"},"2015-09-27":{holidayName:"中秋节"},"2015-10-01":{holidayName:"国庆节"},"2015-12-25":{holidayName:"圣诞节"},"2016-01-01":{holidayName:"元旦节"},"2016-02-07":{holidayName:"除夕"},"2016-02-08":{holidayName:"春节"},"2016-02-09":{holidayName:"正月初二"},"2016-02-10":{holidayName:"正月初三"},"2016-02-22":{holidayName:"元宵节"},"2016-04-04":{holidayName:"清明节"},"2016-05-01":{holidayName:"劳动节"},"2016-06-01":{holidayName:"儿童节"},"2016-06-09":{holidayName:"端午节"},"2016-09-15":{holidayName:"中秋节"},"2016-10-01":{holidayName:"国庆节"},"2016-12-25":{holidayName:"圣诞节"},"2017-01-01":{holidayName:"元旦节"},"2017-01-27":{holidayName:"除夕"},"2017-01-28":{holidayName:"春节"},"2017-01-29":{holidayName:"正月初二"},"2017-01-30":{holidayName:"正月初三"},"2017-02-11":{holidayName:"元宵节"},"2017-04-04":{holidayName:"清明节"},"2017-05-01":{holidayName:"劳动节"},"2017-06-01":{holidayName:"儿童节"},"2017-05-30":{holidayName:"端午节"},"2017-10-01":{holidayName:"国庆节"},"2017-10-04":{holidayName:"中秋节"},"2017-12-25":{holidayName:"圣诞节"},"2018-01-01":{holidayName:"元旦节"},"2018-02-15":{holidayName:"除夕"},"2018-02-16":{holidayName:"春节"},"2018-02-17":{holidayName:"正月初二"},"2018-02-18":{holidayName:"正月初三"},"2018-03-02":{holidayName:"元宵节"},"2018-04-05":{holidayName:"清明节"},"2018-05-01":{holidayName:"劳动节"},"2018-06-01":{holidayName:"儿童节"},"2018-06-18":{holidayName:"端午节"},"2018-09-24":{holidayName:"中秋节"},"2018-10-01":{holidayName:"国庆节"},"2018-12-25":{holidayName:"圣诞节"},"2019-01-01":{holidayName:"元旦节"},"2019-02-04":{holidayName:"除夕"},"2019-02-05":{holidayName:"春节"},"2019-02-06":{holidayName:"正月初二"},"2019-02-07":{holidayName:"正月初三"},"2019-02-19":{holidayName:"元宵节"},"2019-04-05":{holidayName:"清明节"},"2019-05-01":{holidayName:"劳动节"},"2019-06-01":{holidayName:"儿童节"},"2019-06-07":{holidayName:"端午节"},"2019-09-13":{holidayName:"中秋节"},"2019-10-01":{holidayName:"国庆节"},"2019-12-25":{holidayName:"圣诞节"},"2020-01-01":{holidayName:"元旦节"},"2020-01-24":{holidayName:"除夕"},"2020-01-25":{holidayName:"春节"},"2020-01-26":{holidayName:"正月初二"},"2020-01-27":{holidayName:"正月初三"},"2020-02-08":{holidayName:"元宵节"},"2020-04-04":{holidayName:"清明节"},"2020-05-01":{holidayName:"劳动节"},"2020-06-01":{holidayName:"儿童节"},"2020-06-25":{holidayName:"端午节"},"2020-10-01":{holidayName:"国庆节"},"2020-12-25":{holidayName:"圣诞节"}};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],i=r.holidayName;if(i&&e[i]){var s=e[i];for(var o in s)s.hasOwnProperty(o)&&!(o in r)&&(r[o]=s[o])}}return t}),define("text!datepicker/avalon.datepicker.html",[],function(){return'<div class="oni-datepicker"\n     ms-visible="toggle"\n     ms-class="oni-datepicker-multiple:numberOfMonths!==1">\n    <div class="oni-datepicker-wrapper" ms-css-position="_position" ms-class="{{_getPositionClass(position)}}">\n        <div class="oni-datepicker-content">\n            <div class="oni-datepicker-label" ms-if="numberOfMonths===1">{{calendarLabel}}</div>\n           <i  class="oni-datepicker-prev oni-icon"\n                ms-if="numberOfMonths!==1"\n                ms-click="_prev(prevMonth, $event)"\n                ms-class="oni-datepicker-prev-disabled:!prevMonth"\n                style="left:15px; top:9px">&#xf047;</i>\n            <i  class="oni-datepicker-next oni-icon"\n                ms-if="numberOfMonths!==1"\n                ms-click="_next(nextMonth, $event)"\n                ms-class="oni-datepicker-next-disabled:!nextMonth"\n                style="right:15px; top:9px">&#xf03e;</i>\n            <div class="oni-datepicker-content-content"\n                 ms-repeat-calendar="data"\n                 ms-visible="_datepickerToggle"\n                 ms-css-width=\'calendarWidth\'\n                 data-repeat-rendered="dataRendered">\n                <div class="oni-datepicker-header" ms-if="numberOfMonths===1">\n                    <i class="oni-datepicker-prev oni-icon"\n                       ms-click="_prev(prevMonth, $event)"\n                       ms-class="oni-datepicker-prev-disabled:!prevMonth">&#xf047;</i>\n                    <i class="oni-datepicker-next oni-icon"\n                       ms-click="_next(nextMonth, $event)"\n                       ms-class="oni-datepicker-next-disabled:!nextMonth">&#xf03e;</i>\n                    <div class="oni-datepicker-title" ms-if="changeMonthAndYear && $regional.showMonthAfterYear">\n                        <select ms-each="years" data-each-rendered="_afterYearRendered">\n                        </select>&nbsp;{{$regional.yearText}}&nbsp;\n                        <select ms-each="months" data-each-rendered="_afterMonthRendered">\n                        </select>&nbsp;{{$regional.monthText}}\n                    </div>\n                    <div class="oni-datepicker-title" ms-if="changeMonthAndYear && !$regional.showMonthAfterYear">\n                        <select ms-each="months" data-each-rendered="_afterMonthRendered">\n                        </select>&nbsp;{{$regional.monthText}}\n                        <select ms-each="years" data-each-rendered="_afterYearRendered">\n                        </select>&nbsp;{{$regional.yearText}}&nbsp;\n                    </div>\n                    <div class="oni-datepicker-title"\n                         ms-click="_selectMonths"\n                         ms-if="!changeMonthAndYear">\n                        <span ms-hover="oni-state-hover:mobileMonthAndYear" ms-html="_getTitle(calendar.year, calendar.month)"></span>\n                    </div>\n                </div>\n                <div class="oni-datepicker-header" ms-if="numberOfMonths!==1">\n                    <div class="oni-datepicker-title">\n                        <span ms-hover="oni-state-hover:mobileMonthAndYear" ms-html="_getTitle(calendar.year, calendar.month)"></span>\n                    </div>\n                </div>\n                <table class="oni-datepicker-calendar-week">\n                    <thead>\n                        <tr>\n                            <th ms-repeat="weekNames"\n                                ms-class="{{_setWeekClass(el)}}">{{el}}\n                            </th>\n                        </tr>\n                    </thead>\n                </table>\n                <table class="oni-datepicker-calendar-days" id=\'oni-datepicker-days\'>\n                    <tbody>\n                        <tr ms-repeat-days="calendar.rows"\n                            ms-visible="_rowShow(days, _uc)">\n                            <td class="oni-datepicker-default"\n                                ms-repeat-item="days"\n                                ms-class="{{_setDayClass($index, $outer.$index, $outer.$outer.$index, item)}}"\n                                ms-hover="{{_setHoverClass($index, $outer.$index, $outer.$outer.$index, item)}}"\n                                ms-click="_selectDate($index, $outer.$index, $outer.$outer.$index, $event)"\n                                ms-html="_dateCellRender($outer.$index, $index, $outer.$outer.$index, item)"\n                                ms-attr-title="_dateCellRender($outer.$index, $index, $outer.$outer.$index, item)"\n                                ></td>\n                        </tr>\n                    </tbody>\n                </table>\n                <div class="oni-datepicker-timer" ms-if="timer">\n                    <label>\n                        <span class="oni-datepicker-time-title">{{$regional.timerText}}</span>\n                        <b>{{hour|timer}}&nbsp;:&nbsp;{{minute|timer}}</b>\n                    </label>\n                    <div class="oni-datepicker-slide-wrap">\n                        <span class="oni-datepicker-time-title">{{$regional.hourText}}</span>\n                        <input ms-widget="slider, $, sliderHourOpts" data-slider-max="23" data-slider-min="0" data-slider-value="hour" data-slider-width="140">\n                    </div>\n                    <div class="oni-datepicker-slide-wrap">\n                        <span  class="oni-datepicker-time-title">{{$regional.minuteText}}</span>\n                        <input ms-widget="slider, $, sliderMinuteOpts" data-slider-max="59" data-slider-min="0" data-slider-width="140" data-slider-value="minute">\n                    </div>\n                </div>\n                <div class="oni-datepicker-timer oni-helper-clearfix" ms-if="timer">\n                    <button  type="button" ms-widget="button" data-button-size="small" data-button-color="success" ms-click="_selectTime">{{$regional.confirmText}}</button>\n                    <button type="button" ms-widget="button" data-button-size="small" ms-click="_getNow">{{$regional.nowText}}</button>\n                </div>\n                <div class="oni-datepicker-watermark"\n                     ms-if="watermark"\n                     ms-css-font-size=\'_height\'\n                     ms-css-line-height=\'{{_height}}px\'\n                     ms-css-width=\'calendarWidth\'\n                     ms-css-height=\'_height\'>\n                    {{calendar.month+1}}\n                </div>\n            </div>\n            <div class="oni-datepicker-content-content oni-datepicker-month-year" ms-if="mobileMonthAndYear" ms-visible="_monthToggle" ms-css-width=\'calendarWidth\'>\n                <table>\n                    <thead>\n                        <tr class="oni-datepicker-title">\n                            <th class="prev" style="visibility: visible;text-align:left">\n                                <i class="oni-datepicker-prev oni-icon"\n                                   ms-click="_prevYear(mobileYear)"\n                                   ms-class="oni-datepicker-prev-disabled:mobileYear===years[0]">&#xf047;</i>\n                            </th>\n                            <th style="text-align:center"\n                                ms-click="_selectYears"\n                                ms-hover="oni-state-hover:mobileMonthAndYear">{{mobileYear}}</th>\n                            <th class="next" style="visibility: visible;text-align:right">\n                                <i class="oni-datepicker-next oni-icon"\n                                   ms-click="_nextYear(mobileYear)"\n                                   ms-class="oni-datepicker-prev-disabled:mobileYear===years[years.length-1]">&#xf03e;</i>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td colspan="3" style="padding:0px">\n                                <span ms-repeat-m="months"\n                                      ms-class="oni-datepicker-selected: (m-1)===elementMonth && mobileYear===elementYear"\n                                      ms-click="_selectDates(m-1)"\n                                      ms-hover="oni-datepicker-day-hover">{{$regional.monthNamesShort[m - 1]}}</span>\n                            </td>\n                        </tr>\n                    </tbody>\n                    <tfoot>\n                        <tr>\n                            <th colspan="3" class="today" style="display: none;">Today</th>\n                        </tr>\n                        <tr>\n                            <th colspan="3" class="clear" style="display: none;">Clear</th>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n            <div class="oni-datepicker-content-content oni-datepicker-month-year" ms-if="mobileMonthAndYear" ms-visible="_yearToggle" ms-css-width=\'calendarWidth\'>\n                <table>\n                    <thead>\n                        <tr class="oni-datepicker-title">\n                            <th class="prev" style="visibility: visible;text-align:left">\n                                <i class="oni-datepicker-prev oni-icon"\n                                   ms-click="_prevYears"\n                                   ms-class="oni-datepicker-prev-disabled:_years[0]<=years[0]">&#xf047;</i>\n                            </th>\n                            <th style="text-align:center"\n                                ms-hover="oni-state-hover:mobileMonthAndYear">{{_years[0]}}-{{_years[9]}}\n                            </th>\n                            <th class="next" style="visibility: visible;text-align:right">\n                                <i class="oni-datepicker-next oni-icon"\n                                    ms-click="_nextYears"\n                                    ms-class="oni-datepicker-next-disabled:_years[_years.length-1]>=years[years.length-1]">&#xf03e;</i>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td colspan="3" style="padding:0px">\n                                <span class="oni-datepicker-prev-year"\n                                      ms-class="{{_setMobileYearClass(_years[0]-1, elementYear, month, elementMonth)}}"\n                                      ms-click="_selectMonths($event, _years[0]-1)"\n                                      ms-hover="oni-datepicker-day-hover"\n                                >{{_years[0]-1}}</span>\n                                <span ms-repeat-y="_years"\n                                      ms-class="_setMobileYearClass(y, elementYear, month, elementMonth)"\n                                      ms-click="_selectMonths($event, y)"\n                                      ms-hover="oni-datepicker-day-hover"\n                                >{{y}}</span>\n                                <span class="oni-datepicker-next-year"\n                                      ms-class="{{_setMobileYearClass(_years[9]+1, elementYear, month, elementMonth)}}"\n                                      ms-click="_selectMonths($event, _years[9]+1)"\n                                      ms-hover="oni-datepicker-day-hover"\n                                >{{_years[9]+1}}</span>\n                            </td>\n                        </tr>\n                    </tbody>\n                    <tfoot>\n                        <tr>\n                            <th colspan="3" class="today" style="display: none;">Today</th></tr>\n\n                            <tr><th colspan="3" class="clear" style="display: none;">Clear</th>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("text!dropdown/avalon.dropdown.html",[],function(){return'<div class="oni-dropdown"\n     ms-class="oni-dropdown-state-disabled:!enable"\n     ms-class-1="{{titleClass}}"\n     ms-css-width="{{width}}"\n     ms-class-2="oni-dropdown-state-focus: focusClass"\n     ms-hover="oni-dropdown-state-hover"\n     ms-mouseenter="_titleenter"\n     ms-mouseleave="_titleleave"\n     ms-keydown="_keydown"\n     tabindex="0">\n    <div class="oni-dropdown-source">\n        <div class="oni-dropdown-input"\n             ms-attr-title="title"\n             ms-css-width="titleWidth"\n             id="title-MS_OPTION_ID">{{label|sanitize|html}}</div>\n        <div class="oni-dropdown-icon-wrap">\n            <i class="oni-dropdown-icon oni-icon oni-icon-angle-up"\n               ms-visible="toggle">&#xf028;</i>\n            <i class="oni-dropdown-icon oni-icon oni-icon-angle-down"\n               ms-visible="!toggle">&#xf032;</i>\n        </div>\n    </div>\n</div>\nMS_OPTION_TEMPLATE\n<div class="oni-dropdown"\n     ms-class="oni-dropdown-menu:!multiple"\n     ms-class-1="{{listClass}}"\n     ms-css-width="{{listWidth}}"\n     ms-mouseenter="_listenter"\n     ms-mouseleave="_listleave"\n     ms-visible="toggle||multiple">\n    <div class="oni-dropdown-menu-inner"\n         ms-css-width="menuWidth"\n         ms-css-height="menuHeight"\n         ms-widget="scrollbar,scrollbar-MS_OPTION_ID" id="menu-MS_OPTION_ID">\n        <div class="oni-scrollbar-scroller"\n             id="list-MS_OPTION_ID">\n            <div ms-repeat="data" class="oni-dropdown-item"\n                 ms-click-12="_select($index, $event)"\n                 ms-attr-title="el.title||el.label"\n                 ms-visible="el.toggle"\n                 ms-hover="oni-dropdown-state-hover: el.enable"\n                 ms-class-1="oni-dropdown-state-disabled:!el.enable"\n                 ms-class-2="oni-dropdown-state-active:isActive(el, multipleChange)"\n                 ms-class-4="oni-dropdown-group:el.group"\n                 ms-class-5="oni-dropdown-divider:el.group && !$first"\n                 data-repeat-rendered="repeatRendered"\n                 >{{el.label|sanitize|html}}</div>\n        </div>\n    </div>\n</div>\n'}),define("text!scrollbar/avalon.scrollbar.html",[],function(){return'<div ms-repeat-pos="_position" class="oni-scrollbar oni-helper-reset oni-helper-clearfix oni-widget"\n     ms-visible="!disabled"\n	 ms-class-100="oni-scrollbar-{{pos}}" \n	 ms-class-101="oni-scrollbar-{{size}} oni-scrollbar-{{pos}}-{{size}}"\n	 ms-class-102="oni-scrollbar-state-disabled:disabled" \n	 ms-mouseenter="_show($event, \'always\', $index)"\n	 ms-visible="toggle">\n	<div ms-if="showBarHeader" class="oni-scrollbar-arrow oni-scrollbar-arrow-up" \n	 ms-click="_arrClick($event, \'up\', pos, $index)" \n	 ms-mousedown="_arrDown($event,\'up\', pos, $index)"\n	 ms-class-100="oni-scrollbar-state-disabled:disabled" \n	 ms-mouseup="_arrDown($event,\'up\', pos, $index,\'release\')" \n	 ms-hover="oni-scrollbar-state-hover oni-scrollbar-arrow-hover"><b class="oni-scrollbar-trangle  oni-scrollbar-trangle-up"></b></div>\n	<div class="oni-scrollbar-draggerpar" ms-click="_barClick($event, pos, $index)">\n		<div class="oni-scrollbar-dragger"\n		ms-attr-data-draggable-axis="pos == \'left\' || pos == \'right\' ? \'y\' : \'x\'" \n		ms-click="_stopPropagation($event)"\n		ms-class-100="oni-scrollbar-state-disabled:disabled" \n		ms-mouseover="_show($event,\'always\',$index)"\n		ms-mousedown="_draggerDown($event, true)" \n		ms-mouseup="_draggerDown($event, false)" \n		ms-mouseout="_draggerDown($event, false)"\n		ms-hover="oni-scrollbar-state-hover"\n		>{{draggerHTML | html}}</div>\n	</div>\n	<div ms-if="showBarHeader" class="oni-scrollbar-arrow oni-scrollbar-arrow-down"\n	 ms-click="_arrClick($event, \'down\', pos, $index)"\n	 ms-mousedown="_arrDown($event,\'down\', pos, $index)" \n	 ms-mouseup="_arrDown($event,\'down\', pos, $index,\'release\')"\n	 ms-class-100="oni-scrollbar-state-disabled:disabled" \n	 ms-hover="oni-scrollbar-state-hover"><b class="oni-scrollbar-trangle oni-scrollbar-trangle-down"></b></div>\n</div>'}),define("draggable/avalon.draggable",["avalon"],function(e){function v(e,t){var n=0,r=t.length;for(;n<r;n++)if(typeof t[n][e]=="object")return t[n];return t[0]}function w(e,t){var n="page"+t;return c?e.changedTouches[0][n]:e[n]}function E(t,n,r,i,s){var o=w(t,i);if(r.containment){var u=i==="X"?r.containment[0]:r.containment[1],a=i==="X"?r.containment[2]:r.containment[3],f=o-(i==="X"?r.clickX:r.clickY);f<u?o+=Math.abs(u-f):f>a&&(o-=Math.abs(a-f))}if(r.originContainment==="parent"&&i==="Y"){var l=elem=r.element.parentNode;o-=e(l).offset().top-r.scrollOffsetTop}r["page"+i]=o;var c=g[i],h=c.toLowerCase(),p=r["start"+c]+o-r["startPage"+i]+(s?r["end"+c]:0);r[h]=p,r["drag"+i]&&(n.style[h]=p+"px")}function k(t,n){if(!t.containment){if(Array.isArray(n.containment))return;n.containment=null;return}var r=n.$element.width(),i=n.$element.height();if(t.containment==="window"){var s=e(window);n.containment=[s.scrollLeft(),s.scrollTop(),s.scrollLeft()+s.width()-n.marginLeft-r,s.scrollTop()+s.height()-n.marginTop-i];return}if(t.containment==="document"){n.containment=[0,0,e(document).width()-n.marginLeft,e(document).height()-n.marginTop];return}if(Array.isArray(t.containment)){var o=t.containment;n.containment=[o[0],o[1],o[2]-r,o[3]-i];return}if(t.containment==="parent"||t.containment.charAt(0)==="#"){var u;t.containment==="parent"?(n.originContainment="parent",u=n.element.parentNode):u=document.getElementById(t.containment.slice(1));if(u){var a=e(u).offset();n.containment=[a.left+n.marginLeft,a.top+n.marginTop,a.left+u.offsetWidth-n.marginLeft-r,a.top+u.offsetHeight-n.marginTop-i]}}}function L(e){e.stopPropagation?e.stopPropagation():e.cancelBubble!==undefined&&e.cancelBubble!==!0&&(e.cancelBubble=!0)}var t={ghosting:!1,delay:0,axis:"xy",started:!0,start:e.noop,beforeStart:e.noop,drag:e.noop,beforeStop:e.noop,stop:e.noop,scrollPlugin:!0,scrollSensitivity:20,scrollSpeed:20},n=document.getElementById("avalonStyle"),r=".ui-helper-global-drag *{ -webkit-touch-callout: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}.ui-helper-global-drag img{-webkit-user-drag:none; pointer-events:none;}";try{n.innerHTML+=r}catch(i){n.styleSheet.cssText+=r}var s,o=navigator.userAgent,u=/Android/i.test(o),a=/BlackBerry/i.test(o),f=/IEMobile/i.test(o),l=/iPhone|iPad|iPod/i.test(o),c=u||a||f||l;if(!c)var h="mousedown",p="mousemove",d="mouseup";else h="touchstart",p="touchmove",d="touchend";var m=e.bindingHandlers.draggable=function(n,r){var i=n.value.match(e.rword)||[],o=i[0]||"$",u=i[1]||"draggable",a,f,l;if(o!="$"){a=e.vmodels[o];if(!a)return}n.element.removeAttribute("ms-draggable"),a||(a=r.length?v(u,r):null);var c=a||{};a&&typeof a[u]=="object"&&(f=a[u],f.$model&&(f=f.$model),c=f);var p=n.element,d=e(p),g=e.mix({},t,f||{},n[u]||{},e.getWidgetData(p,"draggable"));"drag,stop,start,beforeStart,beforeStop".replace(e.rword,function(e){var t=g[e];typeof t=="string"&&typeof c[t]=="function"&&(g[e]=c[t])}),g.axis!==""&&!/^(x|y|xy)$/.test(g.axis)&&(g.axis="xy"),s=document.body,d.bind(h,function(t){L(t);var n=e.mix({},g,{element:p,$element:d,pageX:w(t,"X"),pageY:w(t,"Y"),marginLeft:parseFloat(d.css("marginLeft"))||0,marginTop:parseFloat(d.css("marginTop"))||0});n.startPageX=n.pageX,n.startPageY=n.pageY,g.axis.replace(/./g,function(e){n["drag"+e.toUpperCase()]=!0}),!n.dragX&&!n.dragY&&(n.started=!1),typeof g.beforeStart=="function"&&g.beforeStart.call(n.element,t,n);if(n.handle&&c){var r=c[n.handle];r=typeof r=="function"?r:n.handle;if(typeof r=="function"){var i=r.call(p,t,n);if(!i||i.nodeType!==1)return;if(!p.contains(i))return}}x();var o=d.css("position");/^(?:r|a|f)/.test(o)||(p.style.position="relative",p.style.top="0px",p.style.left="0px"),g.delay&&isFinite(g.delay)&&(n.started=!1,setTimeout(function(){n.started=!0},g.delay));var u=d.offset();if(g.ghosting){var a=p.cloneNode(!0);e(a).css("opacity",.7).width(p.offsetWidth).height(p.offsetHeight),n.clone=a,o!=="fixed"&&(a.style.position="absolute",a.style.top=u.top-n.marginTop+"px",a.style.left=u.left-n.marginLeft+"px"),s.appendChild(a)}var f=e(n.clone||n.element);n.startLeft=parseFloat(f.css("left")),n.startTop=parseFloat(f.css("top")),n.endLeft=parseFloat(d.css("left"))-n.startLeft,n.endTop=parseFloat(d.css("top"))-n.startTop,n.clickX=n.pageX-u.left,n.clickY=n.pageY-u.top,k(g,n);if(n.originContainment==="parent"){var l=elem=n.element.parentNode;n.scrollOffsetTop=e(l).offset().top}m.dragData=n,"start,drag,beforeStop,stop".replace(e.rword,function(e){m[e]=[g[e]]}),m.plugin.call("start",t,n)})},g={X:"Left",Y:"Top"};m.dragData={},m.start=[],m.drag=[],m.stop=[],m.beforeStop=[],m.plugin={add:function(e,t){for(var n in t){var r=t[n];typeof r=="function"&&Array.isArray(m[n])&&(r.isPlugin=!0,r.pluginName=e+"Plugin",m[n].push(r))}},call:function(t,n,r){var i=m[t];Array.isArray(i)&&i.forEach(function(e){(typeof e.pluginName=="undefined"?!0:r[e.pluginName])&&e.call(r.element,n,r)});if(t==="stop")for(var s in m)i=m[s],Array.isArray(i)&&i.forEach(function(t){t.isPlugin||e.Array.remove(i,t)})}};var y=new Date-0,b=document.querySelector?12:30;e(document).bind(p,function(e){L(e);var t=new Date-y;if(t>b){y=t;var n=m.dragData;if(n.started===!0){e.preventDefault();var r=n.clone||n.element;E(e,r,n,"X"),E(e,r,n,"Y"),m.plugin.call("drag",e,n)}}}),e(document).bind(d,function(e){L(e);var t=m.dragData;if(t.started===!0){T();var n=t.element;m.plugin.call("beforeStop",e,t),t.dragX&&E(e,n,t,"X",!0),t.dragY&&E(e,n,t,"Y",!0),t.clone&&s.removeChild(t.clone),m.plugin.call("stop",e,t),m.dragData={}}});var S=document.documentElement,x=function(){e(S).addClass("ui-helper-global-drag")},T=function(){e(S).removeClass("ui-helper-global-drag")};if(window.VBArray&&!("msUserSelect"in S.style)){var N;function C(){var e=window.event||{};e.returnValue=!1}x=function(){N=s.onselectstart,s.onselectstart=C},T=function(){s.onselectstart=N}}return e}),define("css!scrollbar/avalon.scrollbar",[],function(){}),define("scrollbar/avalon.scrollbar",["avalon","text!./avalon.scrollbar.html","../draggable/avalon.draggable","css!./avalon.scrollbar.css","css!../chameleon/oniui-common.css"],function(e,t){function n(t,n){var n=n||document.body;if(n.getElementsByClassName)return n.getElementsByClassName(t);var r=n.getElementsByTagName("*"),i=[];return e.each(r,function(n,r){var s=e(r);s.hasClass(t)&&i.push(r)}),i}function i(e){return Math.round(parseFloat(e))||0}var r=navigator.userAgent.match(/msie [678]/gi),s,o=[],u=[],a=[],f=e.ui.scrollbar=function(f,l,c){var h=l.scrollbarOptions;h.template=h.getTemplate(t,h);var p=e.define(l.scrollbarId,function(t){e.mix(t,h),t.widgetElement=f,t.draggerHeight=t.draggerWidth="",t.inFocuse=!1,t._position=[],t.rootElement=f,t.viewElement=f,t.$skipArray=["rootElement"],t.dragging=!1;var l,d=[],v;t.$init=function(t){if(l)return;l=!0,p.widgetElement.style.position="relative",p.viewElement=p.widgetElement==document.body?document.getElementsByTagName("html")[0]:p.widgetElement,p.viewElement.style.overflow=p.viewElement.style.overflowX=p.viewElement.style.overflowY="hidden",p.widgetElement==document.body&&(p.widgetElement.style.overflow=p.widgetElement.style.overflowX=p.widgetElement.style.overflowY="hidden"),p._position=p.position.split(",");var n=e.parseHTML(h.template);p.widgetElement.appendChild(n),t?t():(e.log("avalon请尽快升到1.3.7+"),e.scan(f,[p].concat(c)),typeof h.onInit=="function"&&h.onInit.call(f,p,h,c));var r=p.widgetElement.childNodes;e.each(r,function(t,n){var r=e(n);if(r.hasClass("oni-scrollbar")||r.hasClass("ui-scrollbar"))d.push(r);else if(r.hasClass("oni-scrollbar-scroller")||r.hasClass("ui-scrollbar-scroller"))v=r});if(p.position.match(/left|right/g)){var m=[],g=[];e.each(p._position,function(e,t){t.match(/left|right/g)?m.push([e,t]):g.push([e,t])});function y(t,n,r,i){e.each(n,function(e,n){if(!d[e].data("oni-scrollbar-needed"))return;p._computer(i||function(e){return p._clickComputer(e,t)},n[0],n[1],function(e){e||r.preventDefault()},"breakOutCallbackCannotIgnore")})}function b(e){if(p.disabled)return;p.inFocuse&&y(e.wheelDelta>0?"up":"down",m,e)}function w(e){if(p.disabled)return;var t=e.keyCode;if(t>32&&t<41&p.inFocuse)if(t in{37:1,39:1,38:1,40:1})y(t in{37:1,38:1}?"up":"down",t in{38:1,40:1}?m:g,e);else{var n=t in{33:1,36:1}?"up":"down";y(n,m,e,function(r){var s=v[0].scrollTop;t in{33:1,36:1}?s&&e.preventDefault():s<r.scrollerH-r.viewH&&e.preventDefault();if(t in{36:1,35:1})return{x:0,y:t==36?0:r.draggerparHeight-r.draggerHeight+100};var o=(r.draggerparHeight-r.draggerHeight)*r.viewH/(r.scrollerH-r.viewH);return p._clickComputer(r,n,i(o)||1)})}}p.widgetElement==document.body?(p.inFocuse=!0,o.push(b),u.push(w)):(e.bind(f,"mouseenter",function(e){p.inFocuse=!0,o.push(b),u.push(w)}),e.bind(f,"mouseleave",function(e){p.inFocuse=!1;for(var t=0,n=o.length;t<n;t++)if(o[t]===b){o.splice(t,1),u.splice(t,1);break}})),s||(s=!0,e.bind(document,"mousewheel",function(e){var t=o[o.length-1];t&&t(e)}),e.bind(document,"keydown",function(e){var t=u[u.length-1];t&&t(e)}))}e.bind(f,"mouseenter",function(){e.each(d,function(e,t){p._show("e",!1,t)})}),e.bind(f,"mouseleave",function(){p._hide()}),p.update("init"),v&&a.length&&(e.each(a,function(e,t){t()}),a=[])},t.$draggableOpts={beforeStart:function(){p.dragging=!0},drag:function(t,n){var r=e(n.element);p._computer(function(e){var t={x:i(r.css("left"))>>0,y:i(r.css("top"))>>0};return t.x==e.draggerparWidth-e.draggerWidth&&(t.x+=100),t.y==e.draggerparHeight-e.draggerHeight&&(t.y+=100),t},r.attr("oni-scrollbar-index"),r.attr("oni-scrollbar-pos"))},handle:function(e,t){return!p.disabled&&this},containment:"parent"},t.$draggableOpts.stop=function(t,n){p.$draggableOpts.drag(t,n),p.dragging=!1,e(n.element).removeClass("oni-scrollbar-state-active")},t.$remove=function(){e.each(d,function(e,t){t[0]&&t[0].parentNode&&t[0].parentNode.removeChild(t[0])})},t._onScroll=function(){if(p.show!="scrolling")return;e.each(d,function(e,t){p._show("e",!1,t)})},t._show=function(e,t,n){if(p.show!="scrolling")return;e.stopPropagation&&e.stopPropagation();var i=n.css?n:d[n];i&&(clearTimeout(i.data("oni-scrollbar-hidetimer")),i.css("visibility","visible"),r||(i.css("opacity",1),t||i.data("oni-scrollbar-hidetimer",setTimeout(function(){i.css("opacity",0)},1e3))))},t._hide=function(t,n){if(p.show!="scrolling"||!r)return;n&&d[n]?d[n].css("opacity",0):e.each(d,function(e,t){t.css("opacity",0)})},t.getBars=function(){return d},t.getScroller=function(){return v},t.update=function(t,s,o){if(p.disabled)return;if(!v)return a.push(function(){p.update(t,s,o)});var u=e(p.viewElement),f,l,c=p.widgetElement===document.body?p.viewElement.clientHeight:i(u.css("height")),h=i(u.css("width")),m=p.viewHeightGetter(u),g=p.viewWidthGetter(u),y=p.position,b,w={},o=o==void 0?p.scrollTop:o,s=s==void 0?p.scrollLeft:s;p.viewElement!=p.widgetElement&&y.match(/right|left/g)&&e(p.widgetElement).css("height",c);var E=v.width()-v.innerWidth(),S=v.height()-v.innerHeight();m+S>0&&v.css("height",m+S),g+E>0&&v.css("width",g+E),f=v[0].scrollWidth,l=v[0].scrollHeight,b={top:y.match(/top/g)&&f>g,right:y.match(/right/g)&&l>m,bottom:y.match(/bottom/g)&&f>g,left:y.match(/left/g)&&l>m};if(d.length>1){var x=["top","right","bottom","left"];for(var T=0;T<4;T++)w[x[T]]=[(b[T?x[T-1]:x[3]]&&1)>>0,(b[T<3?x[T+1]:x[0]]&&1)>>0],T>1&&(w[x[T]]=w[x[T]].reverse())}m=v.innerHeight(),g=v.innerWidth(),e.each(p._position,function(u,a){var y=d[u],x=a.match(/left|right/),T;y&&(T=e(n("oni-scrollbar-dragger",y.element)[0])),t&&T&&(T.attr("ms-draggable","$,$draggableOpts"),T.attr("oni-scrollbar-pos",a),T.attr("oni-scrollbar-index",u),e.scan(T[0],p));if(!b[a]){y&&(r||y.css("opacity",0),y.css("visibility","hidden"),y.data("oni-scrollbar-needed",!1));return}y&&(y.data("oni-scrollbar-needed",!0),y.css("visibility","visible"),r||(p.show=="scrolling"||p.show=="never"?y.css("opacity",0):y.css("opacity",1)));if(y){var N=i(y.css("height")),C=i(y.css("width")),k=N,L=C,A=e(n("oni-scrollbar-draggerpar",y[0])[0]),O=p.showBarHeader?2:0,M=[];if(d.length>1){var _=[],D=w[a];x?(_=[["top",D[0]*L],["height",c-L*(D[0]+D[1])]],M=[["top",O/2*L],["height",c-L*(D[0]+D[1]+O)]]):(_=[["left",D[0]*k],["width",h-k*(D[0]+D[1])]],M=[["left",O/2*k],["width",h-k*(O+D[0]+D[1])]]),e.each(_,function(e,t){if(e==1&&t[1]<=0)return;y.css.apply(y,t)}),k=y.height(),L=y.width()}else x?M=[["top",L],["height",c-L*2]]:M=[["left",k],["width",h-k*2]];var P;x?(P=p.show=="always"?L:0,g+E-P>0&&v.css("width",g+E-P)):(P=p.show=="always"?k:0,m+S-P&&v.css("height",m+S-P)),e.each(M,function(e,t){if(e==1&&t[1]<=0)return;A.css.apply(A,t)}),N=k-O*L,C=L-O*k;var H;if(x){var B=o,j=i(m*N/l);j=p.limitRateV*L>j&&p.limitRateV*L||j,B=B<0?0:B,B=B>l-m?l-m:B,B=i((N-j)*B/(l-m)),B=Math.min(N-j,B),H=[["width","100%"],["height",j],["top",B]],o=o>0?o>l-m+P?l-m+P:o:0}else{var F=s,I=i(g*C/f);I=p.limitRateH*k>I&&p.limitRateH*k||I,F=F<0?0:F,F=F>f-g?f-g:F,F=i((C-I)*F/(f-g)),F=Math.min(C-I,F),H=[["height","100%"],["width",I],["left",F]],s=s>0?s>f-g+P?f-g+P:s:0}e.each(H,function(e,t){if(e==2&&t[1]<=0)return;T.css.apply(T,t)}),t&&(x?p._scrollTo(void 0,o):p._scrollTo(s,void 0)),p.showBarHeader&&(o==0&&x||!x&&s==0?e(n("oni-scrollbar-arrow-up",y[0])[0]).addClass("oni-scrollbar-state-disabled"):e(n("oni-scrollbar-arrow-up",y[0])[0]).removeClass("oni-scrollbar-state-disabled"),o>=A.innerHeight()-T.innerHeight()&&x||!x&&s>=A.innerWidth()-T.innerWidth()?!p.breakOutCallback&&e(n("oni-scrollbar-arrow-down",y[0])[0]).addClass("oni-scrollbar-state-disabled"):e(n("oni-scrollbar-arrow-down",y[0])[0]).removeClass("oni-scrollbar-state-disabled"))}})},t._arrClick=function(e,t,n,r){if(p.disabled)return;p._computer(function(e){return p._clickComputer(e,t)},r,n)},t._clickComputer=function(e,t,n){var n=n||e.step||40,r=i(e.dragger.css("left"))>>0,s=i(e.dragger.css("top"))>>0,o=t=="down"?r+n:r-n,u=t=="down"?s+n:s-n;return{x:o,y:u}},t._arrDown=function(t,n,r,i,s){if(p.disabled)return;var o=this,u=e(o);clearInterval(u.data("mousedownTimer")),clearTimeout(u.data("setTimer"));var a=d[i];if(s||u.hasClass("oni-scrollbar-state-disabled"))return u.removeClass("oni-scrollbar-state-active");u.data("setTimer",setTimeout(function(){u.addClass("oni-scrollbar-state-active"),u.data("mousedownTimer",setInterval(function(){return p._computer(function(e){return p._clickComputer(e,n)},i,r,function(e){if(!e)return;clearInterval(u.data("mousedownTimer")),clearTimeout(u.data("setTimer"))})},120))},10))},t._barClick=function(t,n,r){if(p.disabled)return;var i=e(this);if(i.hasClass("oni-scrollbar-dragger"))return;p._computer(function(e){return{x:Math.ceil(t.pageX-e.offset.left-e.draggerWidth/2),y:Math.ceil(t.pageY-e.offset.top-e.draggerHeight/2)}},r,n)},t._computer=function(t,r,s,o,u){if(p.disabled)return;var a=d[r];if(a&&a.data("oni-scrollbar-needed")){var f={},l=s.match(/left|right/g);f.dragger=e(n("oni-scrollbar-dragger",a[0])[0]),f.draggerWidth=i(f.dragger.css("width")),f.draggerHeight=i(f.dragger.css("height")),f.draggerpar=e(f.dragger[0].parentNode),f.draggerparWidth=i(f.draggerpar.css("width")),f.draggerparHeight=i(f.draggerpar.css("height")),f.offset=f.draggerpar.offset(),f.up=e(n("oni-scrollbar-arrow-up",a[0])[0]),f.down=e(n("oni-scrollbar-arrow-down",a[0])[0]),f.viewer=e(p.viewElement),f.viewH=v.innerHeight(),f.viewW=v.innerWidth(),f.scrollerH=v[0].scrollHeight,f.scrollerW=v[0].scrollWidth,f.step=l?40*(f.draggerparHeight-f.draggerHeight)/(f.scrollerH-f.viewH):40*(f.draggerparWidth-f.draggerWidth)/(f.scrollerW-f.viewW),f.step=i(f.step)||1;var c=t(f),h;c.x=i(c.x),c.y=i(c.y);if(l){c.y<0?(c.y=0,f.up.addClass("oni-scrollbar-state-disabled"),h=["v","up"]):f.up.removeClass("oni-scrollbar-state-disabled"),c.y>f.draggerparHeight-f.draggerHeight?(c.y=f.draggerparHeight-f.draggerHeight,h=["v","down"],f.down.addClass("oni-scrollbar-state-disabled")):f.down.removeClass("oni-scrollbar-state-disabled");var m=i((f.scrollerH-f.viewH)*c.y/(f.draggerparHeight-f.draggerHeight))-p.scrollTop;f.dragger.css("top",c.y),p._scrollTo(void 0,i((f.scrollerH-f.viewH)*c.y/(f.draggerparHeight-f.draggerHeight)))}else c.x<0?(c.x=0,h=["h","up"],f.up.addClass("oni-scrollbar-state-disabled")):f.up.removeClass("oni-scrollbar-state-disabled"),c.x>f.draggerparWidth-f.draggerWidth?(c.x=f.draggerparWidth-f.draggerWidth,h=["h","down"],!p.breakOutCallback&&f.down.addClass("oni-scrollbar-state-disabled")):f.down.removeClass("oni-scrollbar-state-disabled"),f.dragger.css("left",c.x),p._scrollTo(i((f.scrollerW-f.viewW)*c.x/(f.draggerparWidth-f.draggerWidth)),void 0)}(!p.breakOutCallback||u)&&o&&o(h),p.breakOutCallback&&p.breakOutCallback(h,p,f)},t._scrollTo=function(t,n){document.querySelector||e(v[0]).css("position")==="static"&&e(v[0]).css("position","relative"),n!=void 0&&(v[0].scrollTop=n,p.scrollTop=v[0].scrollTop),t!=void 0&&(v[0].scrollLeft=t,p.scrollLeft=v[0].scrollLeft)},t.scrollTo=function(e,n){p.update(!1,e,n),t._scrollTo(e,n)},t._initWheel=function(e,t){t=="enter"?p.inFocuse=!0:p.inFocuse=!1},t._draggerDown=function(t,n){if(p.disabled)return;var r=e(this);n?r.addClass("oni-scrollbar-state-active"):r.removeClass("oni-scrollbar-state-active")},t._stopPropagation=function(e){e.stopPropagation()}});return p.$watch("scrollLeft",function(e,t){p._onScroll(),p.onScroll&&p.onScroll(e,t,"h",p)}),p.$watch("scrollTop",function(e,t){p._onScroll(),p.onScroll&&p.onScroll(e,t,"v",p)}),p};f.defaults={disabled:!1,toggle:!0,position:"right",limitRateV:1.5,limitRateH:1.5,scrollTop:0,scrollLeft:0,show:"always",showBarHeader:!0,draggerHTML:"",breakOutCallback:!1,onInit:e.noop,viewHeightGetter:function(e){return e.innerHeight()},viewWidthGetter:function(e){return e.innerWidth()},getTemplate:function(e,t){return e},onScroll:function(e,t,n,r){},size:"normal",$author:"skipper@123"}}),define("css!dropdown/avalon.dropdown",[],function(){}),define("dropdown/avalon.dropdown",["avalon","text!./avalon.dropdown.html","../avalon.getModel","../scrollbar/avalon.scrollbar","css!../chameleon/oniui-common.css","css!./avalon.dropdown.css"],function(e,t){function s(e){try{e=e==="true"?!0:e==="false"?!1:e==="null"?null:e+""===e?e:+e}catch(t){}return e}function o(e,t,n){var r=t||[];n=n||null;for(var i=0,s;s=e[i++];)Array.isArray(s.options)?(r.push({label:s.label,value:s.value,enable:a(s.enable,!0),group:!0,parent:n,toggle:!0}),o(s.options,r,s)):(typeof s=="string"&&(s={label:s,value:s,title:s}),r.push({label:s.label,value:s.value,title:s.title,enable:a(n&&n.enable,!0)&&a(s.enable,!0),group:!1,parent:n,data:s,toggle:!0}));return r}function u(e){var t=document.createDocumentFragment(),n,r;for(var i=0,s;s=e[i++];)s.group?(r=document.createElement("optgroup"),r.label=s.label,r.disabled=!s.enable,t.appendChild(r),n=r):(r=document.createElement("option"),r.text=s.label,r.value=s.value,r.disabled=!s.enable,s.parent&&n?n.appendChild(r):t.appendChild(r));return t}function a(e,t){return typeof e=="boolean"?e:t}function f(e,t,n){var r=t||[],i=e.children;n=n||null;for(var o=0,u;u=i[o++];)u.nodeType===1&&(u.tagName==="OPTGROUP"?(n={label:u.label,value:"__dropdownGroup",enable:!u.disabled,group:!0,parent:!1,toggle:!0},r.push(n),f(u,r,n)):u.tagName==="OPTION"&&r.push({label:u.label.trim()||u.text.trim()||u.value.trim(),title:u.title.trim(),value:s(u.value.trim()),enable:a(n&&n.enable,!0)&&!u.disabled,group:!1,parent:n,toggle:!0}));return r}function l(e,t,n){var r=e.size(),i=[],s=[],o={},u,a;for(u=0;u<t;u++)o=e[u],o.enable&&!o.group&&o.toggle&&i.push(u);for(u=t+1;u<r;u++)o=e[u],o.enable&&!o.group&&o.toggle&&s.push(u);return i.length===0&&s.length===0?a=null:n?a=s.length>0?s.shift():i.shift():a=i.length>0?i.pop():s.pop(),a}function h(e){var t=[];for(;e;e=e.nextSibling)e.nodeType===1&&t.push(e);return t}var n=/^(\d+).*$/,r=!-[1]&&!window.XMLHttpRequest,i=e.ui.dropdown=function(i,a,p){function _(){e.each(i.getElementsByTagName("option"),function(t,n){if(M.value.$model.indexOf(n.value)>-1||M.value.$model.indexOf(s(n.value))>-1)try{n.selected=!0}catch(r){e(n).attr("selected","selected")}else try{n.selected=!1}catch(r){n.removeAttribute("selected")}})}function D(t){var n=(i.msData["ms-duplex"]||"").trim(),r;if(n&&(r=e.getModel(n,p)))t.value=r[1][r[0]],t.$hasDuplex=!0;else if(!g)Array.isArray(t.value)||(t.value=[t.value||""]);else{var o=[];Array.prototype.forEach.call(i.options,function(e){e.selected&&o.push(s(e.value))}),t.value=o}if(!t.multiple){Array.isArray(t.value)&&(t.value=t.value[0]!==void 0?t.value[0]:"");var u=t.data.filter(function(e){return e.value===t.value&&!e.group}),a=t.data.filter(function(e){return!e.group});u.length===0&&a.length>0&&(t.value=a[0].value,r&&(r[1][r[0]]=t.value))}var f=d.attr("data-duplex-changed"),l;f&&(l=e.getModel(f,p))&&(t.changedCallback=l[1][l[0]]),t.duplexName=n;var c=document.body,h=t.container;t.container=(e.type(h)==="object"&&h.nodeType===1&&c.contains(h)?h:document.getElementById(h))||c}function P(){return e.parseHTML(S)}function H(t){!M.multiple&&e.type(t)==="array"&&(t=t[0]);var n=M.data.$model.filter(function(e){return e.value===t});return n=n.length>0?n[0]:null,n&&(M.label=n.label,M.title=n.title||n.label||""),n}function B(){var t=document.getElementById("title-"+M.$id),r=e(t);return M.width-r.css("paddingLeft").replace(n,"$1")-r.css("paddingRight").replace(n,"$1")}function j(){!M.multiple&&O&&M._position()}var d=e(i),v=i.parentNode,m=a.dropdownOptions,g=!0,y,b,w,E,S,x,T,N,C=!1;"multiple,size".replace(e.rword,function(e){c(i,e)&&(m[e]=i[e])}),m.enable=!i.disabled,w=m.template=m.getTemplate(t,m).replace(/MS_OPTION_ID/g,a.dropdownId).split("MS_OPTION_TEMPLATE"),E=w[0],S=w[1],y=e.mix(!0,[],m.data.$model||m.data),i.removeAttribute("ms-duplex"),e.scan(i,p),b=f(i),g=!!b.length,b.length===0&&(b=o(y)),m.data=b,e(i).css("display","none"),D(m);for(var k=0,L=b.length;k<L;k++)if(b[k].value==m.value){m.activeIndex=k,m.currentOption=e.mix(!0,{},b[k]);break}var A,O,M=e.define(a.dropdownId,function(t){e.mix(t,m),t.$skipArray=["widgetElement","duplexName","menuNode","dropdownNode","scrollWidget","rootElement"],t.multiple&&t.$hasDuplex&&t.$skipArray.indexOf("value")===-1&&t.$skipArray.push("value"),t.render=function(e){if(e===void 0)return;M.data=o(e.$model||e),M.toggle&&M._styleFix(!0)},t.widgetElement=i,t.rootElement={},t.menuWidth="auto",t.menuHeight=t.height,t.dataSource=y,t.focusClass=!1,t.source=[],t.$init=function(t){if(M.multiple){O=P();var n=O.firstChild;v.insertBefore(O,i),n.appendChild(i)}else{var r;A=e.parseHTML(E),r=A.firstChild,v.insertBefore(A,i),r.appendChild(i),A=r,M.titleWidth=B(),H(M.value),x=e.bind(document.body,"click",function(e){if(A.contains(e.target)){M._toggle();return}if(O&&O.contains(e.target))return;!M.__cursorInList__&&!M.multiple&&M.toggle&&(M.toggle=!1)}),M.position&&(T=e.bind(window,"scroll",j),N=e.bind(window,"resize",j))}g||(i.appendChild(u(b)),e.each(["multiple","size"],function(t,n){e(i).attr(n,M[n])}));if(!M.multiple){var s=(i.msData["ms-duplex"]||"").trim(),o;s&&(o=e.getModel(s,p))&&o[1].$watch(o[0],function(e){M.value=e}),M.$watch("value",function(t,n){e.nextTick(function(){function s(e){e?(C=!0,M.value=n):(o&&(o[1][o[0]]=t,i.value=t),M.currentOption=H(t)||{})}var r=e.type(M.onChange)==="function"&&M.onChange||!1;if(C){C=!1;return}if(r&&r.call(i,t,n,M,s)!==!1||!r){o&&(o[1][o[0]]=t,i.value=t);var u=H(t);u===null&&(u={},M.label=""),M.currentOption=u}})})}else M.value.$watch("length",function(){M.multipleChange=!M.multipleChange,_()});var a=i.msData["ms-disabled"]||i.msData["ms-attr-disabled"],f,l=i.msData["ms-enabled"]||i.msData["ms-attr-enabled"],c;a&&(f=e.getModel(a,p))&&(f[1].$watch(f[0],function(e){M.enable=!e}),M.enable=!f[1][f[0]]),l&&(c=e.getModel(l,p))&&(c[1].$watch(c[0],function(e){M.enable=e}),M.enable=c[1][c[0]]),M.enable=!i.disabled;var h=M.readonlyAttr,d;h&&(d=e.getModel(h,p))&&(d[1].$watch(d[0],function(e){M.readOnly=e}),M.readOnly=d[1][d[0]]);if(M.$source){if(e.type(M.$source)==="string"){var y=e.getModel(M.$source,p);y&&(M.$source=y[1][y[0]])}else M.$source.$id?M.$source.length>0&&M._refresh(M.$source.length):M.$source=null;M.$source&&M.$source.$watch&&M.$source.$watch("length",function(e){M._refresh(e)})}M.source.$watch("length",function(e){M._refresh(e)}),e.scan(i.parentNode,[M].concat(p)),t?t():(e.log("请尽快升到avalon1.3.7+"),typeof m.onInit=="function"&&m.onInit.call(i,M,m,p)),M.multiple&&_()},t.repeatRendered=function(){M.multiple&&e.vmodels["scrollbar-"+M.$id].update()},t.$remove=function(){x&&e.unbind(window,"click",x),T&&e.unbind(window,"scroll",T),N&&e.unbind(window,"resize",N),M.toggle=!1,O&&M.container&&M.container.contains(O)&&M.container.removeChild(O),e.log("dropdown $remove")},t._select=function(t,n){var r=M.data[t].$model;if(r&&r.enable&&!r.group){var s=M.value;M.multiple?(t=M.value.indexOf(r.value),t>-1?M.value.splice(t,1):M.value.push(r.value)):M.value=r.value,M.toggle=!1,e.type(M.onSelect)==="function"&&M.onSelect.call(i,n,M.value,s,M),M.activeIndex=t}},t._refresh=function(e){M.data.clear(),M.label="",M.__cursorInList__=!1;if(e>0){M._disabledScrollbar(!1),M.$source&&M.data.pushArray(o(M.$source.$model||M.$source)),M.data.pushArray(o(M.source.$model||M.source));var t;if(!(t=H(M.value))){M.currentOption=M.data[0].$model,M.activeIndex=0;var n=M.data[0].value;M.multiple&&!(n instanceof Array)&&(n=[n]),H(M.value=n)}else M.activeIndex=M.data.$model.indexOf(t);M.menuNode&&M._styleFix(!0)}},t._titleenter=function(){M.hoverAutoShow&&M._toggle()},t._titleleave=function(){M.hoverAutoShow&&(M.toggle=!1)},t._keydown=function(t){if(M.keyboardEvent===!1)return;if(!M.multiple){var n=M.activeIndex||0,r=M.value;switch(t.keyCode){case 9:case 27:t.preventDefault();break;case 13:M._select(n,t);break;case 38:case 63233:t.preventDefault(),n=l(M.data,n);if(n===null)return;M.value=M.data[n].value,M.activeIndex=n,M.scrollTo(n),e.type(M.onSelect)==="function"&&M.onSelect.call(i,t,M.value,r,M);break;case 40:case 63235:t.preventDefault(),n=l(M.data,n,!0);if(n===null)return;M.value=M.data[n].value,M.activeIndex=n,M.scrollTo(n),e.type(M.onSelect)==="function"&&M.onSelect.call(i,t,M.value,r,M)}}},t._toggle=function(n){if(M.data.length===0&&!M.realTimeData||!M.enable||M.readOnly){M.toggle=!1;return}if(!O){var r;O=P(),r=O.firstChild,M.container.appendChild(O),O=r,t.rootElement=r,e.scan(r,[M].concat(p)),M.menuNode=document.getElementById("menu-"+M.$id),M.dropdownNode=document.getElementById("list-"+M.$id)}if(typeof n!="boolean"){M.toggle=!M.toggle;return}if(!n)e.type(M.onHide)==="function"&&M.onHide.call(i,O,M);else{var s,o,u=M.value;e.type(u)!=="array"&&(u=[u]),M.activeIndex==null&&(e.each(M.data,function(e,t){return s===void 0&&t.enable&&(s=e),t.value===u[0]?(o=e,!1):!0}),o||(o=s),M.activeIndex=o||0),M.scrollWidget=e.vmodels["scrollbar-"+M.$id],M._styleFix(),M._position(),e.type(M.onShow)==="function"&&M.onShow.call(i,O,M)}},t.$watch("toggle",function(e){M.focusClass=e,M._toggle(e)}),t.toggle=!1,t._position=function(){var t=e(A),r=t.offset(),i=t.outerHeight(!0),s=e(O),o=e(A.firstChild),u=s.height(),a=e(window),f={},l=O.offsetParent,c=e(l);while(o.element&&o.element.nodeType!=1)o=e(o.element.nextSibling);m.position&&r.top+i+u>a.scrollTop()+a.height()&&r.top-u>a.scrollTop()?f.top=r.top-u:f.top=r.top+i-o.css("borderBottomWidth").replace(n,"$1"),l&&l.tagName!=="BODY"&&l.tagName!=="HTML"?(f.top=f.top-c.offset().top+O.offsetParent.scrollTop,f.left=r.left-c.offset().left+O.offsetParent.scrollLeft):f.left=r.left,s.css(f)},t.__cursorInList__=!1,t._listenter=function(){M.__cursorInList__=!0,M.hoverAutoShow&&(M.toggle=!0)},t._listleave=function(){M.__cursorInList__=!1,M.hoverAutoShow&&(M.toggle=!1)},t._blur=function(){!M.__cursorInList__&&!M.multiple&&M.toggle&&(M.toggle=!1)},t.val=function(t){return typeof t!="undefined"&&(e.type(t)!=="array"&&(t=[t]),M.value=t),M.value},t.isActive=function(e){var t=e.value,n=e.enable,r=e.group;return M.multiple?M.value.indexOf(t)>-1&&n&&!r:M.value===t&&n&&!r},t._styleFix=function(t){var i=m.height||200,s=e(M.menuNode),o="";t&&(M.menuHeight="",e(M.dropdownNode).css({height:""})),o=M.dropdownNode.scrollHeight,M.menuWidth=r?M.listWidth:M.listWidth-s.css("borderLeftWidth").replace(n,"$1")-s.css("borderRightWidth").replace(n,"$1"),o>i?(M._disabledScrollbar(!1),o=i,e(M.dropdownNode).css({width:M.menuWidth-M.scrollWidget.getBars()[0].width()})):(M._disabledScrollbar(!0),e(M.dropdownNode).css({width:M.menuWidth})),M.menuHeight=o,M.updateScrollbar(),M.scrollTo(M.activeIndex)},t.updateScrollbar=function(){M.scrollWidget.update()},t.scrollTo=function(t){if(!M.dropdownNode)return;var n=h(M.dropdownNode.firstChild),r=e(n[t]),i=M.menuHeight,s=n.length?r.position().top-e(n[0]).position().top:0,o=n.length?r.height():0,u=M.dropdownNode.scrollTop;(s>u+i-o||s+o<u)&&M.scrollWidget.scrollTo(0,s+o-i)},t._disabledScrollbar=function(e){M.scrollWidget&&(M.scrollWidget.disabled=!!e)}});return M.$watch("enable",function(e){e||(M.toggle=!1)}),M.$watch("readOnly",function(e){!e||(M.toggle=!1)}),M};i.version="1.0",i.defaults={realTimeData:!1,container:null,width:200,listWidth:200,titleWidth:0,height:200,enable:!0,readOnly:!1,hoverAutoShow:!1,readonlyAttr:null,currentOption:null,data:[],$source:null,textFiled:"text",valueField:"value",value:[],label:"",multiple:!1,listClass:"",title:"",titleClass:"",activeIndex:null,size:1,menuNode:null,dropdownNode:null,scrollWidget:null,position:!0,onSelect:null,onShow:null,onHide:null,onChange:null,$hasDuplex:!1,multipleChange:!1,keyboardEvent:!0,getTemplate:function(e,t){return e},onInit:e.noop};var c=document.documentElement.hasAttribute?function(e,t){return e.hasAttribute(t)}:function(e,t){var n=e.outerHTML,r=n.slice(0,n.search(/\/?['"]?>(?![^<]*<['"])/));return(new RegExp("\\s"+t+"\\b","i")).test(r)};return e}),define("css!button/avalon.button",[],function(){}),define("button/avalon.button",["avalon","css!../chameleon/oniui-common.css","css!./avalon.button.css"],function(e){function i(n,r){var i,s=t.concat(),o=!1,u=r.icon||"",a=r.corner;r.label=r.label||"";if(a){s.push("oni-corner-all");if(a=parseInt(a))n.style.borderRadius=a+"px"}r.size&&s.push("oni-button-"+r.size),r.color&&s.push("oni-button-"+r.color),r.disabled&&s.push("oni-state-disabled"),e(n).addClass(s.join(" "));if(r.elementType==="input"&&r.label){e(n).val(r.label);return}switch(r.type){case"text":i="<span class='oni-button-text'>"+r.label+"</span>";break;case"labeledIcon":o=!0;case"icon":switch(r.iconPosition){case"left":i="<i class='oni-icon oni-icon-left'>"+u.replace(/\\/g,"")+"</i>"+"<span class='oni-button-text oni-button-text-right"+(o?"":" oni-button-text-hidden")+"'>"+r.label+"</span>";break;case"right":i="<span class='oni-button-text oni-button-text-left"+(o?"":" oni-button-text-hidden")+"'>"+r.label+"</span>"+"<i class='oni-icon oni-icon-right'>"+u.replace(/\\/g,"")+"</i>";break;case"left-right":var f=u&&u.split("-")||["",""],l=f[0],c=f[1];i="<i class='oni-icon oni-icon-left'>"+l.replace(/\\/g,"")+"&nbsp;</i>"+"<span class='oni-button-text oni-button-text-middle"+(o?"":" oni-button-text-hidden")+"'>"+r.label+"</span>"+"<i class='oni-icon oni-icon-right'>&nbsp;"+c.replace(/\\/g,"")+"</i>"}}n.innerHTML=i}var t=["oni-button","oni-widget","oni-state-default"],n="oni-button-icons-only oni-button-icon-only oni-button-text-icons oni-button-text-icon-primary oni-button-text-icon-secondary oni-button-text-only",r=e.ui.button=function(t,n,r){function a(e){s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}var s=n.buttonOptions,o,u=e(t);o={$init:function(){var n=s.data,o="",f=s.label,l=0,c=t.tagName.toLowerCase();if(s.groups&&n.length>1){var h="";n.forEach(function(e,t){var n="<span ms-widget='button'";e.type!==void 0&&(n+=" data-button-type='"+e.type+"'"),e.iconPosition!==void 0&&(n+=" data-button-icon-position='"+e.iconPosition+"'"),e.icon!==void 0&&(n+=" data-button-icon='"+e.icon+"'"),e.color!==void 0&&(n+=" data-button-color='"+e.color+"'"),e.size!==void 0&&(n+=" data-button-size='"+e.size+"'"),e.disabled!==void 0&&(n+=" data-button-disabled='"+e.disabled+"'"),e.label!==void 0&&(n+=" data-button-label='"+e.label+"'"),n+=">"+(e.text||"")+"</span>",h+=n}),t.innerHTML=h,t.setAttribute("ms-widget","buttonset"),s.direction=="vertical"&&t.setAttribute("data-buttonset-direction","vertical"),s.corner||t.setAttribute("data-buttonset-corner",s.corner),s.width&&t.setAttribute("data-buttonset-width",parseInt(s.width)),e.scan(t,r);return}typeof s.disabled!="boolean"?t.disabled=!!s.disabled:t.disabled=s.disabled,c==="input"&&(o="input");if(l=parseInt(s.width))t.style.width=l+"px";u.bind("mousedown",function(e){a(e),u.addClass("oni-state-active")}),u.bind("mouseup",function(e){a(e),u.removeClass("oni-state-active")}),u.bind("blur",function(){u.removeClass("oni-state-active"),u.removeClass("oni-state-focus")}),u.bind("focus",function(){u.addClass("oni-state-focus")}),s.label||(f=o==="input"?t.value:t.innerHTML),s.elementType=o,s.label=f,i(t,s),e.scan(t,r)}},o.$init()};return e.ui.buttonset=function(t,n,r){var i=n.buttonsetOptions,s=i.corner,o=i.direction,u=e(t);s=s!==void 0?s:!0;var a={$init:function(){var a=[];a.push("oni-buttonset"),firstButtonClass="oni-corner-left",lastButtonClass="oni-corner-right",children=t.childNodes,buttons=[],buttonWidth=i.width,firstElement=!0;for(var f=0,l;l=children[f++];)l.nodeType===1&&(l.setAttribute("data-button-corner","false"),buttons.push(l),firstElement&&(e(l).addClass("oni-button-first"),firstElement=!1));var c=buttons.length;c&&s&&(o==="vertical"&&(firstButtonClass="oni-corner-top",lastButtonClass="oni-corner-bottom"),e(buttons[0]).addClass(firstButtonClass),e(buttons[c-1]).addClass(lastButtonClass)),o==="vertical"&&a.push("oni-buttonset-vertical"),u.addClass(a.join(" ")),n.buttons=buttons,e.scan(t,r);if(buttonWidth=parseInt(buttonWidth)){(function(t){var n=[].concat(buttons);setTimeout(function(){for(var r=0;button=n[r++];){var i=e(button),s=button.tagName.toLowerCase();s==="input"||s==="button"?button.style.width=t+"px":button.style.width=t-parseInt(i.css("border-left-width"))-parseInt(i.css("border-right-width"))-parseInt(i.css("padding-left"))*2+"px"}},10)})(buttonWidth);return}(function(t){var n=0,r=0;t=t.concat(),n=setInterval(function(){var i=0,s=0,o;for(var u=0,a;a=t[u++];)i=Math.max(i,e(a).outerWidth());if(i===r){r+=1;for(var u=0,a;a=t[u++];){var f=a.tagName.toLowerCase(),o=e(a);f==="input"||f==="button"?a.style.width=r+"px":a.style.width=r-parseInt(o.css("border-left-width"))-parseInt(o.css("border-right-width"))-parseInt(o.css("padding-left"))*2+"px"}clearInterval(n);return}r=i},100)})(buttons)}};a.$init()},r.version=1,r.defaults={groups:!1,direction:"",data:[],type:"text",iconPosition:"left",icon:"",size:"",color:"",corner:!0,style:"",disabled:!1,label:"",width:""},e}),define("text!slider/avalon.slider.html",[],function(){return'<div class="oni-slider oni-widget oni-corner-all"\n     ms-class-1 = "oni-slider-horizontal: orientation===\'horizontal\'"\n     ms-class-2 = "oni-slider-vertical: orientation !== \'horizontal\'"\n     ms-class-oni-state-disabled="disabled"> \n    <div class="oni-slider-range oni-widget-header oni-corner-all" \n         ms-class-1 = "oni-slider-range-min:range===\'min\'"\n         ms-class-2 = "oni-slider-range-max:range===\'max\'"\n         ms-css-MS_OPTION_WIDTHORHEIGHT = "{{range === \'max\' ? 100-percent : percent}}%"\n         ms-css-MS_OPTION_LEFTORBOTTOM = "{{ $twohandlebars ? percent0 : \'auto\'}}%"\n         ms-if = "range"\n         style="width: 100%;">\n    </div>\n    <b  class="oni-slider-handle  oni-corner-all hander___flag"\n        ms-css-MS_OPTION_LEFTORBOTTOM = "{{percent}}%"\n        ms-data-axis = "$axis"\n        ms-draggable\n        data-draggable-start="dragstart" \n        data-draggable-stop="dragend" \n        data-draggable-drag="drag" \n        data-draggable-containment="parent" \n        ms-hover="oni-state-hover"\n        ms-if = "!$twohandlebars"\n        ></b>\n    <b  class="oni-slider-handle  oni-corner-all"\n        ms-css-MS_OPTION_LEFTORBOTTOM = "{{percent0}}%"\n        ms-data-axis = "$axis"\n        ms-draggable\n        data-draggable-start="dragstart" \n        data-draggable-stop="dragend" \n        data-draggable-drag="drag" \n        data-draggable-containment="parent" \n        ms-hover="oni-state-hover"\n        ms-if = "$twohandlebars"\n        ></b>\n    <b  class="oni-slider-handle  oni-corner-all"\n        ms-css-MS_OPTION_LEFTORBOTTOM = "{{percent1}}%"\n        ms-data-axis = "$axis"\n        ms-draggable\n        data-draggable-start="dragstart" \n        data-draggable-stop="dragend" \n        data-draggable-drag="drag" \n        data-draggable-containment="parent" \n        ms-hover="oni-state-hover"\n     \n        ms-if = "$twohandlebars"\n        ></b>\n</div>'}),define("css!slider/avalon.slider",[],function(){}),define("slider/avalon.slider",["../draggable/avalon.draggable","text!./avalon.slider.html","css!../chameleon/oniui-common.css","css!./avalon.slider.css","../avalon.getModel"],function(e,t){var n=[],r=0,i,s=t,o=e.ui.slider=function(t,i,o){function w(e){return e<l&&(e=l),e>c&&(e=c),parseFloat(((e-l)/(c-l)*100).toFixed(5))}function E(e){var t=(c-l)*e+l;return t=S(t),parseFloat(t.toFixed(3))}function S(e){var t=a.step>0?a.step:1,n;try{n=t.toString().split(".")[1].length}catch(r){n=0}var i=Math.pow(10,n),s=(e-l)*i%t*i,o=(e-l)/t;return e=(l*i+(s*2>=t?t*i*Math.ceil(o):t*i*Math.floor(o)))/i,e}function T(e,t,n){if(isFinite(n))var i=n;else{var s=f?"left":"top",o=t[s]+parseFloat(t.$element.css("border-top-width")),u=o/x.$pixelTotal;f||(u=Math.abs(1-u)),u>.999&&(u=1),u<.001&&(u=0),i=E(u)}if(d){if(r===0){var a=x.values[1];i>a&&(i=a)}else a=x.values[0],i<a&&(i=a);x.values[r]=i,x["percent"+r]=w(i),x.value=x.values.join(),x.percent=w(x.values[1]-x.values[0]+l)}else x.value=i,x.percent=w(i)}var u=e(t),a=i.sliderOptions,f=a.orientation==="horizontal",l=a.min,c=a.max,h=a.range,p=a.values,d=h===!0,v=Number(a.value);if(isNaN(v)){var m=e.getModel(a.value,o);m&&(v=m[1][m[0]])}a.template=a.getTemplate(s,a),h==="min"&&p?v=p[0]:h==="max"&&p&&(v=p[1]),!v&&h==="min"&&!p&&v!==0?v=l||v:!v&&h==="max"&&!p&&v!==0&&(v=c||v),a.step!==1&&!/\D/.test(a.step)&&(v=S(v)),d&&(Array.isArray(p)?p=p.length===1?[p[0],p[0]]:p.concat():p=[l,c]);var g=a.template.replace(/MS_OPTION_WIDTHORHEIGHT/g,f?"width":"height").replace(/MS_OPTION_LEFTORBOTTOM/g,f?"left":"bottom"),y=e.parseHTML(g).firstChild,b=[];t.parentNode.insertBefore(y,t.nextSibling),u.addClass("oni-helper-hidden-accessible");var x=e.define(i.sliderId,function(i){e.mix(i,a),i.$skipArray=["template","rootElement","widgetElement","step","_dragEnd"],i.rootElement=y,i.widgetElement=t,i.step=a.step>0?a.step:1,i.disabled=t.disabled,i.percent=d?w(p[1]-p[0]+l):w(v),i.percent0=d?w(p[0]):0,i.percent1=d?w(p[1]):0,i.value=d?p.join():v,i.values=p,i.$axis=f?"x":"y",i.$valueMin=l,i.$valueMax=c,i.$twohandlebars=d,i.$percent2Value=E,i.$pixelTotal=0,i._dragEnd=!1,i.dragstart=function(e,t){x.$pixelTotal=f?y.offsetWidth:y.offsetHeight,n=b,t.started=!x.disabled,t.dragX=t.dragY=!1,r=b.indexOf(t.element),t.$element.addClass("oni-state-active"),a.onDragStart.call(null,e,t)},i.dragend=function(e,t,n){t.$element.removeClass("oni-state-active"),a.onDragEnd.call(null,e,t),x._dragEnd=!1},i.drag=function(e,t,n){T(e,t,n),a.onDrag.call(null,x,t),x._dragEnd=!0},i.$init=function(){var n=y.getElementsByTagName("b");for(var r=0,i;i=n[r++];){i.sliderModel=x;if(!d&&e(i).hasClass("hander___flag")){b.push(i),e(i).removeClass("hander___flag");break}d&&!e(i).hasClass("hander___flag")&&b.push(i)}e(t).css({display:"none",height:0,width:0,padding:0}),e(y).css("width",x.width),e.scan(y,[x].concat(o)),typeof a.onInit=="function"&&a.onInit.call(t,x,a,o)},i.$remove=function(){y.innerHTML=y.textContent="",y.parentNode.removeChild(y)}});return x.$watch("value",function(e){e=S(Number(e)||0),!e||e<Number(x.min)?e=0:e>Number(x.max)&&(e=x.max),x.value=e,x.percent=w(e),x._dragEnd||a.onDragEnd.call(null,i)}),x};return o.defaults={max:100,min:0,width:-1,orientation:"horizontal",range:!1,step:1,value:0,values:null,disabled:!1,onDragStart:e.noop,onDrag:e.noop,onDragEnd:e.noop,getTemplate:function(e,t){return e}},e(document).bind("click",function(t){t.stopPropagation();var r=t.target,s=n.indexOf(r);s!==-1?(i&&i.removeClass("oni-state-focus"),i=e(r).addClass("oni-state-focus")):i&&(i.removeClass("oni-state-focus"),i=null)}),e(document).bind("keydown",function(e){if(i){var t=i[0].sliderModel,s=n.length==1?t.percent:t["percent"+r],o=t.$percent2Value(s/100),u;switch(e.which){case 34:case 39:case 38:u=Math.min(o+1,t.$valueMax);break;case 33:case 37:case 40:u=Math.max(o-1,t.$valueMin);break;case 36:u=t.$valueMin;break;case 35:u=t.$valueMax}isFinite(u)&&t.drag(e,{},u)}}),e}),define("css!datepicker/avalon.datepicker",[],function(){}),define("datepicker/avalon.datepicker",["../avalon.getModel","./avalon.datepicker.lang","text!./avalon.datepicker.html","../dropdown/avalon.dropdown","../button/avalon.button","../slider/avalon.slider","css!../chameleon/oniui-common.css","css!./avalon.datepicker.css"],function(e,t,n){function c(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function h(e){var t={},n=[];for(var r in e){var i=e[r],s=p(r);s&&(i.date=s,n.push(i))}n.sort(function(e,t){return(e.dayIndex||0)-(t.dayIndex||0)});for(var r=0,o=n.length;r<o;r++){var i=n[r],s=i.date,u=i.beforeTime||0,a=i.afterTime||0;s.setDate(s.getDate()-u-1);for(var f=-i.beforeTime;f<a+1;f++)s.setDate(s.getDate()+1),t[s.getTime()]={text:i.holidayName+(f<0?"前"+ -f+"天":f>0?"后"+f+"天":""),cellClass:f===0&&i.holidayClass||"",cellText:f===0&&i.holidayText||""}}return t}function p(t){if(!t)return null;if(e.type(t)==="date")return t;var n=this.separator||"-",r="^(\\d{4})"+n+"(\\d{1,2})"+n+"(\\d{1,2})[\\s\\w\\W]*$";r=new RegExp(r);var i=t.match(r);return i?new Date(i[1],i[2]*1-1,i[3]):null}function d(e){if(!e)return;var t=r.holidayDate||{},n=c(new Date).getTime(),i=e.getTime(),s=r.dayNames;if(n==i)return{text:r.currentDayFullText,cellClass:"c_today",cellText:r.currentDayText};if(n==i-o)return{text:r.nextDayText,cellClass:""};if(n==i-o*2)return{text:r.dayAfterTomorrow,cellClass:""};var u=t&&t[e.getTime()];return u?u:{text:r.weekDayNames[e.getDay()]}}var r={holidayDate:h(t),dayNames:["日","一","二","三","四","五","六"],weekDayNames:["周日","周一","周二","周三","周四","周五","周六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],prevDayText:"昨天",nextDayText:"明天",dayAfterTomorrow:"后天",currentDayText:"今天",currentDayFullText:"今天",showMonthAfterYear:!0,titleFormat:function(e,t){return e+"年"+" "+this.monthNames[t]},yearText:"年",monthText:"月",timerText:"时间",hourText:"时",minuteText:"分",nowText:"现在",confirmText:"确定",calendarLabelText:"选择日期"},i=n,s,o=864e5,u=new Date,a=u.getFullYear()-1,f=u.getFullYear()+9,l=e.ui.datepicker=function(t,n,s){function M(){var e=t.value,n=h(e),r=c(new Date),i=n,s=!1;e&&!n&&(o.tip=o.formatErrorTip,o.dateError="#ff8888",i=r),o.allowBlank?e?n&&(s=D(n,o)):(o.tip="",i=r):e?n&&(s=D(n,o)):(e=p(r),o.tip=d(r).text,i=r,s=D(r,o)),s&&(i=o.minDate||o.maxDate,e=p(i)),k=i.getFullYear(),N=i.getMonth(),C=i.getDate(),b=e}function _(e){var t=O._years,n=(e+"").substr(0,3),r=[];if(!~t.indexOf(e)){for(var i=0;i<=9;i++)r.push(Number(n+i));O._years=r}}function D(e,t){var n=e.getTime(),r=t.minDate,i=t.maxDate;return r&&n<r.getTime()?!0:i&&n>i.getTime()?!0:!1}function P(n,r){var i=[[t,"focus",function(e){O.toggle=!0}],[document,"click",function(e){var t=e.target;if(o.type==="range")return;if(!n.contains(t)&&!r.contains(t)&&O.toggle){O.toggle=!1;return}if(!O.toggle&&!O.disabled&&r.contains(t)){O.toggle=!0;return}}],[t,"keydown",function(e){var t=e.keyCode,n,r;r=e.key;if(r)switch(r){case"-":n="-";break;case"/":n="/"}else switch(t){case 189:n="-";break;case 191:n="/"}O.toggle||(O.toggle=!0);if((t<48||t>57&&t<96||t>105)&&t!==13&&t!==8&&o.separator!==n&&t!==27&&t!==9&&t!==37&&t!==39&&t!==46)return e.preventDefault(),!1}],[t,"keyup",function(e){var n=t.value,r=O.year,i=O.month,s=e.keyCode,o,u,a;if(s===37||s===39)return!1;if(s===13||s==27||s==9)return O.toggle=!1,!1;if(a=h(n))o=a.getMonth(),u=a.getFullYear(),O.dateError="#cccccc",O.tip=d(c(a)).text,O.day=a.getDate(),i!=o&&r!=u?(g=!0,O.year=u,O.month=o):i!=o?O.month=o:O.year=u;else{if(O.allowBlank&&n==""){O.tip="",O.dateError="#cccccc";return}O.tip=O.formatErrorTip,O.dateError="#ff8888"}}]];e.each(i,function(t,n){e.bind(n[0],n[1],n[2])}),A=function(){e.each(i,function(t,n){e.unbind(n[0],n[1],n[2])}),i=null}}function H(e){var t=O.month,n=O.year,r=O.stepMonths,i=O.numberOfMonths,s,o=0,u=0;e==="next"?t=t+r+i-1:t=t-r-i+1,s=new Date(n,t,1),o=s.getMonth(),u=s.getFullYear(),u!=O.year?(g=!0,O.year=u,O.month=o):O.month=o}function B(){var e=[],t=o.startDay;for(var n=0,r=O.$regional.dayNames;n<7;n++){var i=(n+t)%7;e.push(r[i])}return e}function j(e,t,n,r,i,s,o,u){var a=!1,f=d(e),l=f&&f.cellText||u,c=e.getDay(),h=c%7==0||c%7==6,p=D(e,t);n&&n.getDate()===+u&&r===n.getMonth()&&i===n.getFullYear()&&(a=!0),s.push({day:u+"",_day:l+"",month:r,year:i,weekend:h,selected:a,dateDisabled:p}),o.push(l+"")}function F(e,t){if(typeof O.onBeforeRender=="function"){O.onBeforeRender(O,e,t,function(){I(e,t)});return}I(e,t)}function I(e,n){var r=O.startDay,i=new Date(k,e,1),s=new Date(k,e,1-(i.getDay()-r+7)%7),o=O.showOtherMonths,u=h(t.value),a=O.minDate,f=O.maxDate,l=a?(k-a.getFullYear())*12+e-a.getMonth()>0:!0,c=f?(f.getFullYear()-k)*12+f.getMonth()-e>0:!0,p=[],d=[],v=[],m=[],g=[],b=[],w,E,S;O.prevMonth=l,O.nextMonth=c;for(var x=0,T=O.numberOfMonths;x<T;x++){for(var N=0;N<6;N++){g=[],b=[];for(var C=0;C<7;C++)E=s.getMonth(),w=s.getFullYear(),S=s.getDate(),w===k&&E===e?j(s,O,u,E,w,g,b,S):o&&N===0&&(w<k||E<e)?j(s,O,u,E,w,g,b,S):(b.push(""),g.push({day:"",month:!1,weekend:!1,selected:!1,dateDisabled:!0})),s=new Date(s.setDate(S+1));p.push(g),d.push(b)}v.push({year:k,month:e,rows:p}),m.push({year:k,month:e,rows:d}),e+=1,i=new Date(k,e,1),k=i.getFullYear(),e=i.getMonth(),s=new Date(k,e,1-(i.getDay()-r+7)%7),p=[],d=[]}y=v,O.data=m}function q(t,n,r,i,s,o,u,a,f,l){var c=!1,h=r&&r.getMonth(),p=r&&r.getFullYear(),v=d(t),m=v&&v.cellText||o,g=t.getDay(),b=g%7==0||g%7==6,w=D(t,n),E=y[a].rows[f][l],S=n.data[a].rows[f];m+="",o===+u&&i===h&&s===p&&(c=!0),E._day!=m||E.selected==c&&E.dateDisabled==w?E._day==m?e.mix(E,{month:i,year:s}):(e.mix(E,{day:o+"",_day:m,month:i,year:s,weekend:b,selected:c,dateDisabled:w}),S.set(l,m)):(e.mix(E,{month:i,year:s,selected:c,dateDisabled:w}),S.set(l,"").set(l,m))}function R(e,t,n){if(typeof O.onBeforeRender=="function"){O.onBeforeRender(O,e,t,function(){U(e,t,n)});return}U(e,t,n)}function U(n,r,i){var s=O.startDay,o=new Date(r,n,1),u=new Date(r,n,1-(o.getDay()-s+7)%7),a=O.showOtherMonths,f=h(t.value),l=O.minDate,c=O.maxDate,p=l?(r-l.getFullYear())*12+n-l.getMonth()>0:!0,d=c?(c.getFullYear()-r)*12+c.getMonth()-n>0:!0,v,m,g;O.prevMonth=p,O.nextMonth=d;for(var b=0,w=O.numberOfMonths;b<w;b++){O.data[b].year=r,O.data[b].month=n,y[b].year=r,y[b].month=n;for(var E=0;E<6;E++)for(var S=0;S<7;S++)m=u.getMonth(),v=u.getFullYear(),g=u.getDate(),v===r&&m===n?q(u,O,f,m,v,g,i,b,E,S):a&&E===0&&(v<r||m<n)?q(u,O,f,m,v,g,i,b,E,S):(O.data[b].rows[E].set(S,""),e.mix(y[b].rows[E][S],{day:"",_day:"",month:!1,weekend:!1,selected:!1,dateDisabled:!0})),E===5&&S===0&&(O._uc=!O._uc),u=new Date(u.setDate(g+1));n+=1,o=new Date(r,n,1),r=o.getFullYear(),n=o.getMonth(),u=new Date(r,n,1-(o.getDay()-s+7)%7)}}function z(e){return typeof e=="string"?h(e):e}function W(e){if(typeof e=="string"){var t=h(e),n=/\s[0-2]?[0-9]:[0-5]?[0-9]/,r=e.match(n);if(t&&r&&r.length){var i=r[0].split(":"),s=+i[0],o=+i[1];t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),s,o)}return t}return e}var o=n.datepickerOptions,u=t.msData["ms-duplex"],l=u&&e.getModel(u,s),h=o.parseDate,p=o.formatDate,v=o.minDate,m=o.maxDate,g=!1,y=[],b="",w=null,E=[],S,x,T,N,C,k;i=o.template=o.getTemplate(i,o),e.scan(t,s),o.disabled=t.disabled||o.disabled,p=p.bind(o),h=h.bind(o),v=v!==null&&z(v),m=m!==null&&z(m),o.minDate&&!v&&(S=e.getModel(o.minDate,s),S&&(v=z(S[1][S[0]]))),v=o.minDate=v&&c(v),o.maxDate&&!m&&(x=e.getModel(o.maxDate,s),x&&(m=z(x[1][x[0]]))),m=o.maxDate=m&&c(m),v?a=v.getFullYear():0,m?f=m.getFullYear():0;if(e.type(o.years)==="array")E=o.years;else for(var L=a;L<=f;L++)E.push(L);o.mobileMonthAndYear&&(o.mobileYear=0),o.changeMonthAndYear&&(o.mobileMonthAndYear=!1),M();var A=e.noop,O=e.define(n.datepickerId,function(n){e.mix(n,o,{$regional:r}),n.$skipArray=["container","showDatepickerAlways","timer","sliderMinuteOpts","sliderHourOpts","template","widgetElement","rootElement","dayNames","allowBlank","months","years","numberOfMonths","showOtherMonths","watermark","weekNames","stepMonths","changeMonthAndYear","startDay","mobileMonthAndYear","formatErrorTip"],n._uc=!1,n._height=150,n.dateError=n.dateError||"",n.weekNames=[],n.tip=n.tip||"",n.widgetElement=t,n.rootElement={},n.data=[],n.prevMonth=-1,n.nextMonth=-1,n.month=N,n._month=N+1,n.year=k,n.day=C,n.years=E,n.months=[1,2,3,4,5,6,7,8,9,10,11,12],n._position="absolute",n._datepickerToggle=!0,n._monthToggle=!1,n._yearToggle=!1,n._years=[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],n.elementYear=k,n.elementMonth=N,n._getPositionClass=function(e){var t=n._position;if(t==="absolute")switch(e){case"rb":return"oni-datepicker-wrapper-right";case"lt":return"oni-datepicker-wrapper-top";case"rt":return"oni-datepicker-wrapper-top-right";default:return e}},n._setWeekClass=function(e){var t=O.$regional.day;if(t)return t.indexOf(e)%7==0||t.indexOf(e)%7==6?"oni-datepicker-week-end":""},n._setDayClass=function(e,t,n,r){var i="",s={};return r===""?"":(s=y[n].rows[t][e],s.weekend&&(i+=" oni-datepicker-week-end"),s.month||(i+=" oni-datepicker-day-none"),s.selected&&(i+=" oni-datepicker-selected"),s.dateDisabled&&(i+=" oni-state-disabled"),i.trim())},n._setHoverClass=function(e,t,n,r){var i="",s={};return r===""?"":(s=y[n].rows[t][e],i="oni-datepicker-day-hover",i)},n._setMobileYearClass=function(e,t,n,r){var i="";return e===t&&n===r&&(i+=" oni-datepicker-selected"),O.mobileYearDisabled(e)&&(i+=" oni-state-disabled"),i},n._rowShow=function(e){var t=e.length,n=!1;for(var r=0;r<t;r++)if(e[r]!==""){n=!0;break}return n},n.sliderMinuteOpts={onInit:function(e,t,n){e.$watch("value",function(e){O.minute=e}),O.$watch("minute",function(t){e.value=t})}},n.sliderHourOpts={onInit:function(e,t,n){e.$watch("value",function(e){O.hour=e}),O.$watch("hour",function(t){e.value=t})}},n.$yearVmId=n.$id+"year",n.$monthVmId=n.$id+"month",n.$yearOpts={width:60,listWidth:60,height:160,position:!1,listClass:"oni-datepicker-dropdown",onSelect:function(e){e.stopPropagation()}},n.$monthOpts={width:45,height:160,listWidth:45,position:!1,listClass:"oni-datepicker-dropdown",onSelect:function(e){e.stopPropagation()}},n._selectDates=function(e){O.mobileMonthAndYear&&(O._monthToggle=!1,O._yearToggle=!1,O._datepickerToggle=!0,g=!0,O.year=O.mobileYear,O.month=e)},n._selectMonths=function(e,t){if(O.mobileMonthAndYear){if(t){if(!!O.mobileYearDisabled(t))return;O.mobileYear=t}else O.mobileYear=O.year;O._monthToggle=!0,O._yearToggle=!1,O._datepickerToggle=!1}},n._selectYears=function(){O.mobileMonthAndYear&&(O._monthToggle=!1,O._yearToggle=!0,O._datepickerToggle=!1)},n.getInitTime=function(e){var t=p(e),n=e.toTimeString(),r=n.substr(0,n.lastIndexOf(":"));return O.hour=e.getHours(),O.minute=e.getMinutes(),t+" "+r},n._dateCellRender=function(e,t,n,r){var i=O.dateCellRender,s=y[n],o=s.month,u=s.year;if(i&&typeof i=="function"){var a=y[n].rows[e][t];return o===O.month&&u===O.year?r===""?(a.html="",r):(r=i(r,O,a),a.html=r,r):a.html}return r},n._getNow=function(){var e=new Date,t=e.toTimeString(),n=t.substr(0,t.lastIndexOf(":"));return O.hour=e.getHours(),O.minute=e.getMinutes(),n},n._selectTime=function(n){var r=e.filters.timer,i=r(O.hour),s=r(O.minute),u=i+":"+s,a=p(h(t.value));n.stopPropagation(),t.value=a+" "+u,O.showDatepickerAlways||(O.toggle=!1),o.onSelectTime&&e.type(o.onSelectTime)==="function"&&o.onSelectTime.call(O,O)},n._selectYearMonth=function(e){e.stopPropagation()},n._prev=function(e,t){if(!e)return!1;H("prev"),t.stopPropagation()},n._next=function(e,t){if(!e)return!1;H("next"),t.stopPropagation()},n._prevYear=function(e){if(e===O.years[0])return;O.mobileYear=O.mobileYear-1},n._nextYear=function(e){if(e===O.years[O.years.length-1])return;O.mobileYear=O.mobileYear+1},n._prevYears=function(){if(O._years[0]<=O.years[0])return;_(O._years[0]-1)},n._nextYears=function(){var e=O._years,t=O.years;if(e[e.length-1]>=t[t.length-1])return;_(e[9]+1)},n.mobileYearDisabled=function(e){var t=O.years;return e<t[0]||e>t[t.length-1]?!0:!1},n.getRawValue=function(){return t.value},n.getDate=function(){var e=O.getRawValue();return h(e)},n._afterYearRendered=function(){this.setAttribute("ms-widget",["dropdown",n.$yearVmId,"$yearOpts"].join(",")),this.setAttribute("ms-duplex","year"),e.scan(this,O),e.vmodels[n.$yearVmId].source=O.years.map(function(e){return{label:String(e),value:e}})},n._afterMonthRendered=function(){this.setAttribute("ms-widget",["dropdown",n.$monthVmId,"$monthOpts"].join(",")),this.setAttribute("ms-duplex","_month"),e.scan(this,O),e.vmodels[n.$monthVmId].source=O.months.map(function(e){return{label:String(e),value:e}})},n._selectDate=function(n,r,i,s){var u=e.filters.timer,a=O.month,f=O.year,h=y[i].rows[r][n],v=h.year,m=h.month,b=+h.day,w=h.dateDisabled;s.stopPropagation(),s.preventDefault();if(m!==!1&&!w&&!O.showDatepickerAlways){var E=new Date(v,m,b),S=p(E),x=o.type==="range"?t["data-calenderwrapper"]:null;O.tip=d(c(E)).text,O.dateError="#cccccc",!x&&!O.timer?(t.value=S,O.toggle=!1):(O.timer&&(S=S+" "+u(O.hour)+":"+u(O.minute)),t.value=S),m===a&&v===f&&O.day==b?O.$fire("day",b):O.day=b,m!==a&&v!==f?(g=!0,O.year=v,O.month=m):m!==a?O.month=m:v!==f&&(O.year=v)}if(!O.showDatepickerAlways&&!l){if(typeof O.onSelect=="string"){e.log("onSelect 回调必须是个function！");return}O.onSelect.call(null,S,O,e(t).data())}},n.dataRendered=function(){w||(w=document.getElementById("oni-datepicker-days"),w&&(w.id=""))},n.$init=function(r){O.timer&&O.width<110&&(O.width=110);var u=t.parentNode,a=null;T=e.parseHTML(i).firstChild,u.insertBefore(T,t),u.insertBefore(t,T),e(t).attr("ms-css-width","width"),O.weekNames=B();if(t.tagName==="INPUT"&&O.type!=="range"){var f=document.createElement("div");f.className="oni-datepicker-input-wrapper",f.setAttribute("ms-class","oni-datepicker-active:toggle"),f.setAttribute("ms-css-border-color","dateError"),f.setAttribute("ms-hover","oni-state-hover"),u.insertBefore(f,t);var l=document.createElement("div");l.className="oni-datepicker-input-position",l.appendChild(t);if(O.showTip){var p=e.parseHTML("<div class='oni-datepicker-tip'>{{tip}}<i class='oni-icon oni-icon-calendar-o'>&#xf088;</i></div>");l.appendChild(p)}else t.style.paddingRight="0px";f.appendChild(l),f.appendChild(T)}if(O.timer){var v=W(b);b&&v&&(b=O.getInitTime(v))}t.value=b;if(a=h(b))O.tip=d(c(a)).text;t.disabled=O.disabled,O.showDatepickerAlways?(t.style.display="none",O.toggle=!0,O._position="relative",f.style.borderWidth=0):P(T,f),o.type==="range"?(f=t["data-calenderwrapper"],O._position="static"):e.scan(f,[O]),n.rootElement=f,e.scan(T,[O].concat(s)),setTimeout(function(){F(O.month,O.year)},10),typeof o.onInit=="function"&&o.onInit.call(t,O,o,s)},n._getTitle=function(e,t){return O.$regional.titleFormat.call(O.$regional,e,t)},n.$remove=function(){A();var e=t.parentNode,n=e.parentNode,r=T.parentNode;T.innerHTML=T.textContent="",r.removeChild(T),n.removeChild(e)}});return d=d.bind(O),O.$watch("toggle",function(n){var r=t.value,i=h(r),s=i&&i.getFullYear(),o=i&&i.getMonth();if(n)O.elementMonth=o||-1,O.elementYear=s||-1,w&&(O._height=e(w).height(),w=null);else{if(O.year!=s&&O.month!=o)if(!i){g=!0;var u=new Date,a=u.getFullYear(),f=u.getMonth();O.year==a&&O.month==f?R(O.month,O.year,O.day):O.year==a?O.month=f:O.month==f?O.year=a:(g=!0,O.year=a,O.month=f)}else g=!0,O.year=s,O.month=o;else O.year!=s?O.year=s:O.month!=o&&(O.month=o);e.vmodels[O.$yearVmId]&&(e.vmodels[O.$yearVmId].toggle=!1),e.vmodels[O.$monthVmId]&&(e.vmodels[O.$monthVmId].toggle=!1),O.onClose(new Date(O.year,O.month,O.day),O)}}),O.$watch("year",function(e){O.mobileMonthAndYear&&_(e),g?g=!1:R(O.month,e,O.day),O.onChangeMonthYear(e,O.month+1,O)}),O.changeMonthAndYear&&O.$watch("_month",function(e){O.month=e-1}),O.$watch("month",function(e){O._month=e+1,R(e,O.year,O.day),O.onChangeMonthYear(O.year,e,O)}),O.$watch("day",function(e,t){var n=y,r=O.month,i=O.year,s=!1,o,u,a;for(var f=0,l=n.length;f<l;f++){var c=n[f];if(c.year==i&&c.month==r){var h=c.rows;for(var p=0,d=h.length;p<d;p++){var v=h[p];for(var m=0,g=v.length;m<g;m++){var b=v[m],w=b.day;w==e&&b.month==r&&b.year==i?(b.selected=!0,O.data[f].rows[p].set(m,"").set(m,b._day)):b.selected&&(b.selected=!1,O.data[f].rows[p].set(m,"").set(m,b._day))}}}else for(var p=0,d=h.length;p<d;p++){var v=h[p];for(var m=0,g=v.length;m<g;m++){var E=v[m];if(b.selected){b.selected=!1,O.data[f].rows[p].set(m,"").set(m,b._day),s=!0;break}}if(s)break}if(s)break}}),O.$watch("disabled",function(e){t.disabled=e}),O.$watch("minDate",function(e){var t=z(e);t?O.minDate=c(t):O.minDate="",R(O.month,O.year,O.day)}),O.$watch("maxDate",function(e){var t=z(e);t?O.maxDate=c(t):O.maxDate="",R(O.month,O.year,O.day)}),l&&l[1].$watch(l[0],function(n){var r,i,s;if(s=h(n)){r=s.getFullYear(),i=s.getMonth(),O.day=s.getDate(),i!==O.month&&r!==O.year?(g=!0,O.year=r,O.month=i):r!==O.year?O.year=r:i!==O.month&&(O.month=i),O.dateError="#cccccc",O.tip=d(c(s)).text;if(typeof O.onSelect=="string"){e.log("onSelect 回调必须是个function！");return}O.onSelect.call(null,s,O,e(t).data())}else O.allowBlank?O.tip="":(O.tip=O.formatErrorTip,O.dateError="#ff8888")}),S&&S[1].$watch(S[0],function(e){O.minDate=e}),x&&x[1].$watch(x[0],function(e){O.maxDate=e}),O};return l.version=1,l.defaults={calendarWidth:196,startDay:1,minute:0,hour:0,width:70,showTip:!0,disabled:!1,changeMonthAndYear:!1,mobileMonthAndYear:!1,showOtherMonths:!1,numberOfMonths:1,allowBlank:!1,minDate:null,maxDate:null,stepMonths:1,toggle:!1,separator:"-",calendarLabel:r.calendarLabelText,onChangeMonthYear:e.noop,dateCellRender:!1,watermark:!1,zIndex:-1,showDatepickerAlways:!1,timer:!1,position:"",onBeforeRender:null,onSelect:e.noop,onClose:e.noop,onSelectTime:e.noop,parseDate:p,formatDate:function(t){if(e.type(t)!=="date")return e.log("the type of "+t+"must be Date"),"";var n=this.separator,r=t.getFullYear(),i=t.getMonth(),s=t.getDate();return r+n+this.formatNum(i+1,2)+n+this.formatNum(s,2)},formatNum:function(e,t){e=String(e);for(var n=0,r=t-e.length;n<r;n++)e="0"+e;return e},widgetElement:"",formatErrorTip:"格式错误",getTemplate:function(e,t){return e}},e.filters.timer=function(e){var t=+e;return t>=0&&t<=9&&(e="0"+e),e},e}),require(["avalon","domReady!","./tab/avalon.tab","./pager/avalon.pager","./datepicker/avalon.datepicker"],function(e){e.log("domReady完成!");var t=e.define({$id:"demo",tab:{onActivate:function(t){e.log("user define cc activate callback")},onClickActive:function(e,t){alert("u click a active tab")},autoSwitch:1200,active:1,tabs:[{title:"水果2",name:"fruit",removable:!1,href:"http://news.163.com/"},{title:"服装2",name:"cloth"},{title:"水果<i>非国产经典品牌</i>十分流弊",name:"tool"},{title:"电器2",name:"tool"},{title:"动物2",name:"animal",disabled:!0}],tabpanels:[{content:'line 1 - <a href="#" ms-click="add(peaple)">点击我添加一个tab!</a>'},{content:"avalon.tab.ajax.html",contentType:"ajax"},{content:'line 2 - <a href="#" ms-click="enable(4)">点击我激活动物tab!</a>'},{content:'line 3 -  <a href="#" ms-click="add(peaple2)">点击我添加一个不能删除的tab! </a>'},{content:"line 4"}]},peaple:{title:"人类",content:"我是来搞笑的"},peaple2:{title:"人类",removable:!1,content:"我是来搞笑的"},$skipArray:["tab"]});e.scan(document.body,t)}),define("main",function(){}),function(e){var t=document,n="appendChild",r="styleSheet",i=t.createElement("style");i.type="text/css",t.getElementsByTagName("head")[0][n](i),i[r]?i[r].cssText=e:i[n](t.createTextNode(e))}('@charset "UTF-8";\r\n/*\r\n这是每个都组件都应该引用的部分\r\n*/\r\ndiv.oni-tab {\r\n  border: none; }\r\n\r\n.oni-tab {\r\n  /*dir=v, small size*/\r\n  /*dir=v, normal size*/ }\r\n  .oni-tab-slider {\r\n    position: relative;\r\n    overflow: hidden; }\r\n    .oni-tab-slider-enable {\r\n      width: 10000px; }\r\n    .oni-tab-slider-button {\r\n      text-decoration: none;\r\n      position: absolute;\r\n      right: 0px;\r\n      top: 0px;\r\n      padding: 10px 4px;\r\n      width: 8px;\r\n      font-weight: bold;\r\n      background: #ccc;\r\n      z-index: 10;\r\n      cursor: pointer;\r\n      color: #000; }\r\n      .oni-tab-slider-button-left {\r\n        left: 0; }\r\n  .oni-tab .oni-tab-nav {\r\n    float: left; }\r\n  .oni-tab .oni-tab-nav .oni-state-default {\r\n    float: left;\r\n    display: inline;\r\n    list-style: none;\r\n    text-align: center;\r\n    font-size: 12px;\r\n    padding: 10px 20px;\r\n    position: relative;\r\n    background-color: #f8f8f8;\r\n    cursor: pointer;\r\n    border: 1px solid #d4d4d4;\r\n    border-right-width: 0;\r\n    color: black; }\r\n  .oni-tab .oni-tab-nav .oni-state-default a, .oni-tab .oni-tab-nav .oni-state-default:link, .oni-tab .oni-tab-nav .oni-state-default a:hover {\r\n    color: black;\r\n    text-decoration: none;\r\n    font-size: 12px; }\r\n  .oni-tab .oni-tab-nav .oni-state-hover {\r\n    color: black;\r\n    background: white; }\r\n    .oni-tab .oni-tab-nav .oni-state-hover a {\r\n      color: black; }\r\n    .oni-tab .oni-tab-nav .oni-state-hover a:link {\r\n      color: black; }\r\n    .oni-tab .oni-tab-nav .oni-state-hover .oni-tab-close {\r\n      border-color: white; }\r\n  .oni-tab .oni-tab-nav .oni-state-active {\r\n    border-bottom-color: white;\r\n    background: white;\r\n    color: black; }\r\n    .oni-tab .oni-tab-nav .oni-state-active a {\r\n      color: black; }\r\n    .oni-tab .oni-tab-nav .oni-state-active a:link {\r\n      color: black; }\r\n    .oni-tab .oni-tab-nav .oni-state-active .oni-tab-close {\r\n      border-color: white; }\r\n  .oni-tab .oni-tab-nav .oni-state-disabled {\r\n    color: #999999;\r\n    cursor: default; }\r\n    .oni-tab .oni-tab-nav .oni-state-disabled a {\r\n      color: #999999;\r\n      cursor: default; }\r\n    .oni-tab .oni-tab-nav .oni-state-disabled a:link {\r\n      color: #999999;\r\n      cursor: default; }\r\n  .oni-tab .oni-tab-nav .oni-tab-last {\r\n    border-right-width: 1px; }\r\n  .oni-tab-small .oni-tab-nav .oni-state-default {\r\n    border-right-width: 1px;\r\n    margin-right: -1px;\r\n    z-index: 1;\r\n    padding: 7px 10px; }\r\n  .oni-tab-small .oni-tab-nav .oni-state-active {\r\n    border-color: #3775c0;\r\n    z-index: 10; }\r\n  .oni-tab-vertical .oni-tab-nav .oni-state-default {\r\n    float: none;\r\n    display: block;\r\n    text-align: left;\r\n    border-right-width: 1px;\r\n    border-bottom-width: 0; }\r\n  .oni-tab-vertical .oni-tab-nav .oni-state-active {\r\n    border-right-color: white;\r\n    border-bottom-color: #d4d4d4; }\r\n  .oni-tab-vertical .oni-tab-nav .oni-tab-last {\r\n    border-bottom-width: 1px; }\r\n  .oni-tab-click .oni-state-default {\r\n    cursor: pointer; }\r\n  .oni-tab-removable {\r\n    padding-right: 30px; }\r\n  .oni-tab-nav .oni-tab-item .oni-tab-close {\r\n    position: absolute;\r\n    right: 0px;\r\n    top: 7px;\r\n    padding: 3px;\r\n    height: 12px;\r\n    width: 12px;\r\n    overflow: hidden;\r\n    border: 1px solid #f8f8f8;\r\n    border-right-width: 0;\r\n    color: #666666;\r\n    text-indent: 0;\r\n    line-height: 14px;\r\n    font-family: Helvetica, Arial, sans-serif; }\r\n  .oni-tab .oni-tab-nav .oni-state-active .oni-tab-close-hover {\r\n    background: white;\r\n    border-color: #d4d4d4;\r\n    cursor: pointer; }\r\n  .oni-tab .oni-tab-nav .oni-state-hover .oni-tab-close-hover {\r\n    background: white;\r\n    border-color: #d4d4d4;\r\n    cursor: pointer; }\r\n\n/*\nchameleon\nby 司徒正美 2014.6.28 拉萨开往西宁的火车上\n这里放置所有组件都共用的类名，它们根据compass构建\n\noinui的CSS规范\n\n不能出现大写,以连字符风格命名 \n表示状态的应该用ui-state-*命名 \n表示功能的应该用ui-helper-*命名\n表示布局的应用用ui-uiname-* 命名, 它的子元素应该全部包在 .oni-uiname这个根类下\n如 .oni-grid .oni-grid-tbody{ ... }\n如果某一个区域的背景要换肤,能用ui-widget-header或ui-widget-content就尽用\n其他细微之后的换肤,使用ui-state-*-?-color实现,或至少包在if(oniui-theme === xxx){}分支内\n\n\n样式规则的出现顺序\n1 display float position overflow表示布局的样式\n2 width height line-height 表示尺寸的样式\n3 margin border padding 表示盒子模型的样式\n4 cursor font-size vertical-align text-align user-select outline....装饰用的样式\n5 color background 表示换肤的样式(上面的bordrer-color outline-color也可以放到这里)\n\n\nCSSShrink 是一个压缩 CSS 的在线工具。压缩比真高！\n\nhttp://cssshrink.com/\n*/\n.oni-helper-hidden {\n  display: none; }\n\n.oni-helper-hidden-accessible {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px; }\n\n.oni-helper-reset {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  outline: 0;\n  line-height: 1.3;\n  text-decoration: none;\n  font-size: 100%;\n  list-style: none; }\n\n.oni-helper-noselect {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none; }\n  .oni-helper-noselect img, .oni-helper-noselect a {\n    -webkit-user-drag: none;\n    pointer-events: none; }\n\n.oni-helper-clearfix {\n  *zoom: 1; }\n  .oni-helper-clearfix:after {\n    content: "\\0020";\n    display: block;\n    height: 0;\n    clear: both;\n    overflow: hidden;\n    visibility: hidden; }\n\nhtml .oni-helper-max-index, body .oni-helper-max-index {\n  z-index: 1000; }\n\n@font-face {\n  font-family: fontawesome;\n  font-style: normal;\n  font-weight: normal;\n  src: url("http://source.qunarzz.com/fonts/oniui/0.0.3/oniui-webfont.eot?v=4.2.0");\n  src: url("http://source.qunarzz.com/fonts/oniui/0.0.3/oniui-webfont.eot?#iefix&v=4.2.0") format("embedded-opentype"), \n       url("http://source.qunarzz.com/fonts/oniui/0.0.3/oniui-webfont.woff?v=4.2.0") format("woff"), \n       url("http://source.qunarzz.com/fonts/oniui/0.0.3/oniui-webfont.ttf?v=4.2.0") format("truetype"), \n       url("http://source.qunarzz.com/fonts/oniui/0.0.3/oniui-webfont.svg?v=4.2.0#fontawesomeregular") format("svg");}\n.oni-icon {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  cursor: default;\n  font-family: fontawesome !important;\n  font-size: 14px;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 18px;\n  vertical-align: middle; }\n\na .oni-icon, .oni-btn .oni-icon {\n  cursor: pointer; }\n\n.oni-state-error {\n  border: 1px solid #ff8888; }\n\n.oni-pager {\n  font: normal 12px/1.5 tahoma, arial, \'Hiragino Sans GB\', \'\\5b8b\\4f53\', sans-serif; }\n\n/*\n这是每个都组件都应该引用的部分\n*/\n.oni-pager {\n  display: -moz-inline-stack;\n  display: inline-block;\n  vertical-align: middle;\n  *vertical-align: auto;\n  zoom: 1;\n  *display: inline;\n  vertical-align: middle;\n  white-space: nowrap;\n  /*!省略掉的页数*/\n  /*!页面跳转部分的样式*/\n  /*!输入域的容器*/\n  /*!输入域*/\n  /*!里面的按钮的样式*/\n  /*!里面的文本全部包在一个容器内，以便实现居中*/ }\n  .oni-pager .oni-pager-items {\n    display: -moz-inline-stack;\n    display: inline-block;\n    vertical-align: middle;\n    *vertical-align: auto;\n    zoom: 1;\n    *display: inline;\n    vertical-align: middle; }\n  .oni-pager .oni-pager-prev, .oni-pager .oni-pager-next, .oni-pager .oni-pager-item {\n    display: -moz-inline-stack;\n    display: inline-block;\n    vertical-align: middle;\n    *vertical-align: auto;\n    zoom: 1;\n    *display: inline;\n    background-color: white;\n    color: #333;\n    height: 24px;\n    line-height: 24px;\n    margin-right: 5px;\n    border: 1px solid #d4d4d4;\n    padding: 0 10px;\n    -webkit-border-radius: 2px;\n    -moz-border-radius: 2px;\n    -ms-border-radius: 2px;\n    -o-border-radius: 2px;\n    border-radius: 2px;\n    cursor: pointer;\n    font-size: 12px;\n    vertical-align: middle;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n    /*!当前页,没有边框*/\n    /*!掠过*/\n    /*!禁用*/ }\n    .oni-pager .oni-pager-prev.oni-state-active, .oni-pager .oni-pager-next.oni-state-active, .oni-pager .oni-pager-item.oni-state-active {\n      color: #ff8888;\n      border: 0 none;\n      padding: 1px 11px;\n      cursor: default;\n      background: transparent; }\n    .oni-pager .oni-pager-prev.oni-state-hover, .oni-pager .oni-pager-next.oni-state-hover, .oni-pager .oni-pager-item.oni-state-hover {\n      border-color: #ff8888; }\n    .oni-pager .oni-pager-prev.oni-state-disabled, .oni-pager .oni-pager-next.oni-state-disabled, .oni-pager .oni-pager-item.oni-state-disabled {\n      border-color: #d9d9d9;\n      background-color: whitesmoke;\n      color: #999999;\n      cursor: default; }\n  .oni-pager .oni-pager-omit {\n    display: -moz-inline-stack;\n    display: inline-block;\n    vertical-align: middle;\n    *vertical-align: auto;\n    zoom: 1;\n    *display: inline;\n    height: 24px;\n    line-height: 24px;\n    margin-right: 5px;\n    padding: 1px 0;\n    vertical-align: middle;\n    font-size: 12px;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n    cursor: default; }\n  .oni-pager .oni-pager-jump {\n    display: -moz-inline-stack;\n    display: inline-block;\n    vertical-align: middle;\n    *vertical-align: auto;\n    zoom: 1;\n    *display: inline;\n    vertical-align: middle;\n    padding-left: 5px;\n    padding-right: 5px;\n    vertical-align: middle; }\n  .oni-pager .oni-pager-textbox-wrapper {\n    display: -moz-inline-stack;\n    display: inline-block;\n    vertical-align: middle;\n    *vertical-align: auto;\n    zoom: 1;\n    *display: inline;\n    width: 26px;\n    margin-left: 5px;\n    margin-right: 5px;\n    padding: 3px 5px;\n    vertical-align: middle;\n    font-size: 0;\n    outline: none;\n    background-color: white;\n    border: 1px solid #d4d4d4; }\n  .oni-pager .oni-pager-textbox {\n    display: inline;\n    float: left;\n    position: relative;\n    width: 26px;\n    height: 18px;\n    line-height: 18px;\n    padding: 0;\n    border: 0 none;\n    font-size: 12px;\n    outline: medium none;\n    vertical-align: middle;\n    text-align: center;\n    color: #333333;\n    background: #fff; }\n  .oni-pager .oni-pager-button {\n    display: -moz-inline-stack;\n    display: inline-block;\n    vertical-align: middle;\n    *vertical-align: auto;\n    zoom: 1;\n    *display: inline;\n    overflow: visible;\n    _overflow-y: hidden;\n    height: 26px;\n    margin-left: 5px;\n    border-radius: 2px;\n    outline: none;\n    cursor: pointer;\n    font-size: 12px;\n    vertical-align: middle;\n    padding: 0 10px;\n    text-decoration: none;\n    border: 1px solid #ccc;\n    background-color: #f8f8f8;\n    color: #333; }\n    .oni-pager .oni-pager-button:hover {\n      border-color: #bbb; }\n  .oni-pager .oni-pager-text {\n    display: -moz-inline-stack;\n    display: inline-block;\n    vertical-align: middle;\n    *vertical-align: auto;\n    zoom: 1;\n    *display: inline;\n    font-size: 12px;\n    vertical-align: middle; }\n/*\n这是每个都组件都应该引用的部分\n*/\n.oni-scrollbar {\n  position: absolute;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  width: 10px;\n  height: 100%;\n  left: auto;\n  right: 0;\n  top: 0;\n  bottom: auto;\n  background: #f8f8f8;\n  z-index: 100;\n  -webkit-transition: opacity 0.5s;\n  -moz-transition: opacity 0.5s;\n  -ms-transition: opacity 0.5s;\n  -o-transition: opacity 0.5s;\n  transition: opacity 0.5s; }\n  .oni-scrollbar-arrow {\n    position: absolute;\n    background: #eee;\n    top: 0;\n    left: 0;\n    width: 10px;\n    height: 10px; }\n    .oni-scrollbar-state-hover {\n      background: #aaa; }\n    .oni-scrollbar-state-active {\n      background: #999; }\n    .oni-scrollbar-state-disabled {\n      background: #e9e9e9; }\n    .oni-scrollbar-arrow b {\n      width: 0;\n      height: 0;\n      line-height: 0;\n      font-size: 0;\n      border-top: 0 none;\n      border-right: 4px dashed transparent;\n      border-bottom: 4px solid #bcbcbc;\n      border-left: 4px dashed transparent;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-top: -2px;\n      margin-left: -4px;\n      font-size: 0;\n      line-height: 0; }\n    .oni-scrollbar-arrow-down {\n      top: auto;\n      bottom: 0; }\n      .oni-scrollbar-arrow-down b {\n        width: 0;\n        height: 0;\n        line-height: 0;\n        font-size: 0;\n        border-top: 4px solid #bcbcbc;\n        border-right: 4px dashed transparent;\n        border-bottom: 0;\n        border-left: 4px dashed transparent; }\n  .oni-scrollbar-left .oni-scrollbar-state-active .oni-scrollbar-trangle-up, .oni-scrollbar-right .oni-scrollbar-state-active .oni-scrollbar-trangle-up {\n    width: 0;\n    height: 0;\n    line-height: 0;\n    font-size: 0;\n    border-top: 0 none;\n    border-right: 4px dashed transparent;\n    border-bottom: 4px solid #fff;\n    border-left: 4px dashed transparent; }\n  .oni-scrollbar-left .oni-scrollbar-state-active .oni-scrollbar-trangle-down, .oni-scrollbar-right .oni-scrollbar-state-active .oni-scrollbar-trangle-down {\n    width: 0;\n    height: 0;\n    line-height: 0;\n    font-size: 0;\n    border-top: 4px solid #fff;\n    border-right: 4px dashed transparent;\n    border-bottom: 0;\n    border-left: 4px dashed transparent; }\n  .oni-scrollbar-top .oni-scrollbar-state-active .oni-scrollbar-trangle-up, .oni-scrollbar-bottom .oni-scrollbar-state-active .oni-scrollbar-trangle-up {\n    width: 0;\n    height: 0;\n    line-height: 0;\n    font-size: 0;\n    border-top: 4px dashed transparent;\n    border-right: 4px solid #fff;\n    border-bottom: 4px dashed transparent;\n    border-left: 0; }\n  .oni-scrollbar-top .oni-scrollbar-state-active .oni-scrollbar-trangle-down, .oni-scrollbar-bottom .oni-scrollbar-state-active .oni-scrollbar-trangle-down {\n    width: 0;\n    height: 0;\n    line-height: 0;\n    font-size: 0;\n    border-top: 4px dashed transparent;\n    border-right: 0;\n    border-bottom: 4px dashed transparent;\n    border-left: 4px solid #fff; }\n  .oni-scrollbar-scroller {\n    overflow: hidden; }\n  .oni-scrollbar-left {\n    left: 0;\n    right: auto; }\n  .oni-scrollbar-top {\n    width: 100%;\n    height: 10px;\n    left: 0;\n    top: 0;\n    bottom: auto; }\n  .oni-scrollbar-bottom {\n    width: 100%;\n    height: 10px;\n    left: 0;\n    top: auto;\n    bottom: 0; }\n  .oni-scrollbar-draggerpar {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%; }\n    .oni-scrollbar-draggerpar .oni-scrollbar-dragger {\n      position: absolute;\n      width: 100%;\n      left: 0;\n      background: #ccc; }\n    .oni-scrollbar-draggerpar .oni-scrollbar-state-hover {\n      background: #999; }\n    .oni-scrollbar-draggerpar .oni-scrollbar-state-active {\n      background: #888; }\n    .oni-scrollbar-draggerpar .oni-scrollbar-state-disabled {\n      background: #e9e9e9; }\n  .oni-scrollbar-top .oni-scrollbar-ragger, .oni-scrollbar-bottom .oni-scrollbar-ragger {\n    height: 100%;\n    width: auto;\n    top: 0; }\n  .oni-scrollbar-top .oni-scrollbar-arrow b, .oni-scrollbar-bottom .oni-scrollbar-arrow b {\n    width: 0;\n    height: 0;\n    line-height: 0;\n    font-size: 0;\n    border-top: 4px dashed transparent;\n    border-right: 4px solid #bcbcbc;\n    border-bottom: 4px dashed transparent;\n    border-left: 0;\n    margin-top: -4px;\n    margin-left: -2px; }\n  .oni-scrollbar-top .oni-scrollbar-arrow-down, .oni-scrollbar-bottom .oni-scrollbar-arrow-down {\n    right: 0;\n    left: auto; }\n    .oni-scrollbar-top .oni-scrollbar-arrow-down b, .oni-scrollbar-bottom .oni-scrollbar-arrow-down b {\n      width: 0;\n      height: 0;\n      line-height: 0;\n      font-size: 0;\n      border-top: 4px dashed transparent;\n      border-right: 0;\n      border-bottom: 4px dashed transparent;\n      border-left: 4px solid #bcbcbc; }\n\n.oni-scrollbar-large {\n  width: 14px; }\n  .oni-scrollbar-large .oni-scrollbar-arrow {\n    width: 14px;\n    height: 14px; }\n  .oni-scrollbar-large .oni-scrollbar-top, .oni-scrollbar-large .oni-scrollbar-bottom {\n    height: 14px; }\n\n.oni-scrollbar-bottom-large {\n  height: 14px; }\n\n.oni-scrollbar-small {\n  width: 8px; }\n  .oni-scrollbar-small .oni-scrollbar-arrow {\n    width: 8px;\n    height: 8px; }\n\n.oni-scrollbar-bottom-small {\n  height: 8px; }\n\n.ui-scrollbar-scroller {\n  overflow: hidden; }\n@charset "UTF-8";\n.oni-dropdown {\n  font: normal 12px/1.5 tahoma, arial, \'Hiragino Sans GB\', \'\\5b8b\\4f53\', sans-serif; }\n\n/*\n这是每个都组件都应该引用的部分\n*/\n.oni-dropdown {\n  display: inline-block;\n  vertical-align: middle;\n  *display: inline;\n  *zoom: 1;\n  outline: none; }\n  .oni-dropdown .oni-dropdown-source {\n    border: 1px solid #ccc;\n    background-color: #fff;\n    cursor: pointer; }\n    .oni-dropdown .oni-dropdown-source .oni-dropdown-input {\n      display: inline-block;\n      vertical-align: middle;\n      *display: inline;\n      *zoom: 1;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      height: 18px;\n      padding: 3px 21px 3px 6px;\n      word-break: normal;\n      word-wrap: normal; }\n  .oni-dropdown .oni-icon {\n    cursor: pointer;\n    font-size: 12px;\n    vertical-align: baseline; }\n  .oni-dropdown .oni-dropdown-icon {\n    display: none;\n    color: #b5b5b5;\n    cursor: pointer;\n    padding: 0 6px;\n    position: absolute;\n    right: 0;\n    text-align: center;\n    top: -21px; }\n  .oni-dropdown .oni-dropdown-icon-wrap {\n    display: block;\n    position: relative;\n    height: 0; }\n    .oni-dropdown .oni-dropdown-icon-wrap .oni-icon-angle-down, .oni-dropdown .oni-dropdown-icon-wrap .oni-icon-angle-up {\n      display: block; }\n  .oni-dropdown .oni-dropdown-menu-inner {\n    -webkit-box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.1);\n    -moz-box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.1);\n    -ms-box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.1);\n    -o-box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.1);\n    box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.1);\n    background-color: #fff;\n    border: 1px solid #d4d4d4;\n    overflow-y: scroll;\n    padding: 3px 0; }\n    .oni-dropdown .oni-dropdown-menu-inner .oni-dropdown-state-disabled {\n      border-color: #D9D9D9;\n      background-color: #F5F5F5;\n      color: #999; }\n    .oni-dropdown .oni-dropdown-menu-inner .oni-dropdown-state-hover {\n      border-color: #f8f8f8;\n      background-color: #f8f8f8;\n      color: #000; }\n    .oni-dropdown .oni-dropdown-menu-inner .oni-dropdown-state-active {\n      border-color: #3775c0;\n      background-color: #3775c0;\n      color: #fff; }\n      .oni-dropdown .oni-dropdown-menu-inner .oni-dropdown-state-active .oni-icon {\n        color: #fff; }\n  .oni-dropdown .oni-dropdown-item {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n    *zoom: 1;\n    width: 100%;\n    padding: 3px 0;\n    height: 24px;\n    line-height: 24px;\n    text-indent: 20px;\n    cursor: pointer;\n    word-break: normal;\n    word-wrap: normal; }\n    .oni-dropdown .oni-dropdown-item.oni-dropdown-group {\n      font-size: 14px;\n      font-weight: bold;\n      text-indent: 10px; }\n    .oni-dropdown .oni-dropdown-item.oni-dropdown-divider {\n      border-top: 1px solid #f2f2f2; }\n\n.oni-dropdown-menu {\n  display: none;\n  left: 0;\n  position: absolute;\n  top: -1px;\n  width: 100%;\n  _width: auto !important;\n  z-index: 1001; }\n\n.oni-dropdown-state-hover .oni-dropdown-source {\n  border-color: #999; }\n\n.oni-dropdown-state-focus .oni-dropdown-source {\n  border-color: #3775c0; }\n\n.oni-dropdown-state-disabled .oni-dropdown-source {\n  background-color: #F5F5F5;\n  border-color: #D9D9D9;\n  color: #ccc;\n  cursor: default; }\n.oni-dropdown-state-disabled .oni-dropdown-icon {\n  cursor: default; }\n\n.oni-state-small .oni-dropdown-source {\n  border-radius: 2px; }\n.oni-state-small .oni-dropdown-input {\n  padding-top: 1px;\n  padding-bottom: 1px; }\n.oni-state-small .oni-dropdown-icon {\n  top: -19px; }\n\n.oni-dropdown-state-error .oni-dropdown-source, .oni-dropdown-state-error:hover .oni-dropdown-source {\n  border-color: #ff8888; }\n@charset "UTF-8";\n/*\n这是每个都组件都应该引用的部分\n*/\nbutton.oni-button, input.oni-button {\n  height: 26px; }\n  button.oni-button .oni-icon, button.oni-button .oni-button-text, input.oni-button .oni-icon, input.oni-button .oni-button-text {\n    *margin-top: -2px; }\n\n.oni-button {\n  display: inline-block;\n  vertical-align: middle;\n  *display: inline;\n  *zoom: 1;\n  *vertical-align: auto;\n  overflow: hidden;\n  _display: inline;\n  padding: 0 10px;\n  margin: 0;\n  font-size: 12px;\n  border: 1px solid transparent;\n  text-align: center;\n  cursor: pointer;\n  color: #333;\n  text-decoration: none;\n  outline: 0;\n  height: 24px; }\n  .oni-button:link {\n    text-decoration: none; }\n  .oni-button.oni-state-default {\n    border-color: #ccc;\n    background-color: #f8f8f8; }\n  .oni-button:hover {\n    background-color: #f5f5f5;\n    border-color: #d9d9d9; }\n  .oni-button.oni-state-active, .oni-button:active {\n    background-color: #e6e6e6;\n    background-color: #d9d9d9 \\9;\n    background-image: none;\n    outline: 0;\n    -webkit-box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15);\n    -moz-box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15);\n    -ms-box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15);\n    -o-box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15);\n    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15); }\n  .oni-button.oni-state-disabled, .oni-button[disabled] {\n    background-color: #f8f8f8;\n    border-color: #d9d9d9;\n    color: #cccccc; }\n  .oni-button.oni-button-primary {\n    background-color: #3775c0;\n    border-color: #1d5eac;\n    color: #ffffff; }\n    .oni-button.oni-button-primary:hover {\n      background-color: #3d8be9;\n      border-color: #1a5092; }\n    .oni-button.oni-button-primary.oni-state-disabled {\n      background-color: #428bca;\n      color: #357ebd;\n      color: #ffffff;\n      opacity: 0.6;\n      filter: alpha(opacity=60); }\n  .oni-button.oni-button-warning {\n    background-color: #f0ad4e;\n    border-color: #eea236;\n    color: #ffffff; }\n    .oni-button.oni-button-warning:hover {\n      background-color: #ec971f;\n      border-color: #d58512; }\n    .oni-button.oni-button-warning.oni-state-disabled {\n      background-color: #f0ad4e;\n      border-color: #eea236;\n      color: #ffffff;\n      opacity: 0.6;\n      filter: alpha(opacity=60); }\n  .oni-button.oni-button-danger {\n    background-color: #d9534f;\n    border-color: #d43f3a;\n    color: #ffffff; }\n    .oni-button.oni-button-danger:hover {\n      background-color: #c9302c;\n      border-color: #ac2925; }\n    .oni-button.oni-button-danger.oni-state-disabled {\n      background-color: #d9534f;\n      border-color: #d43f3a;\n      color: #ffffff;\n      opacity: 0.6;\n      filter: alpha(opacity=60); }\n  .oni-button.oni-button-success {\n    background-color: #58b359;\n    border-color: #45a846;\n    color: #ffffff; }\n    .oni-button.oni-button-success:hover {\n      background-color: #68c969;\n      border-color: #3e973e; }\n    .oni-button.oni-button-success.oni-state-disabled {\n      background-color: #5cb85c;\n      border-color: #4cae4c;\n      color: #ffffff;\n      opacity: 0.6;\n      filter: alpha(opacity=60); }\n  .oni-button.oni-button-info {\n    background-color: #5bc0de;\n    border-color: #46b8da;\n    color: #ffffff; }\n    .oni-button.oni-button-info:hover {\n      background-color: #31b0d5;\n      border-color: #269abc; }\n    .oni-button.oni-button-info.oni-state-disabled {\n      background-color: #5bc0de;\n      border-color: #46b8da;\n      color: #ffffff;\n      opacity: 0.6;\n      filter: alpha(opacity=60); }\n  .oni-button.oni-button-inverse {\n    background-color: #333;\n    border-color: #222;\n    color: #ffffff; }\n    .oni-button.oni-button-inverse:hover {\n      background-color: #222;\n      border-color: #000; }\n    .oni-button.oni-button-inverse.oni-state-disabled {\n      background-color: #333;\n      border-color: #222;\n      opacity: 0.6;\n      filter: alpha(opacity=60); }\n  .oni-button.oni-corner-all {\n    -webkit-border-radius: 2px;\n    -moz-border-radius: 2px;\n    -ms-border-radius: 2px;\n    -o-border-radius: 2px;\n    border-radius: 2px; }\n  .oni-button.oni-corner-left {\n    -moz-border-radius-topleft: 2px;\n    -webkit-border-top-left-radius: 2px;\n    border-top-left-radius: 2px;\n    -moz-border-radius-bottomleft: 2px;\n    -webkit-border-bottom-left-radius: 2px;\n    border-bottom-left-radius: 2px; }\n  .oni-button.oni-corner-right {\n    -moz-border-radius-topright: 2px;\n    -webkit-border-top-right-radius: 2px;\n    border-top-right-radius: 2px;\n    -moz-border-radius-bottomright: 2px;\n    -webkit-border-bottom-right-radius: 2px;\n    border-bottom-right-radius: 2px; }\n  .oni-button.oni-corner-top {\n    -moz-border-radius-topleft: 2px;\n    -webkit-border-top-left-radius: 2px;\n    border-top-left-radius: 2px;\n    -moz-border-radius-topright: 2px;\n    -webkit-border-top-right-radius: 2px;\n    border-top-right-radius: 2px; }\n  .oni-button.oni-corner-bottom {\n    -moz-border-radius-bottomleft: 2px;\n    -webkit-border-bottom-left-radius: 2px;\n    border-bottom-left-radius: 2px;\n    -moz-border-radius-bottomright: 2px;\n    -webkit-border-bottom-right-radius: 2px;\n    border-bottom-right-radius: 2px; }\n  .oni-button .oni-icon {\n    font-size: 12px;\n    overflow: hidden;\n    line-height: 24px;\n    height: 24px;\n    display: inline-block;\n    vertical-align: middle;\n    *display: inline;\n    *zoom: 1;\n    *vertical-align: auto;\n    _display: inline;\n    font-style: normal; }\n  .oni-button .oni-button-text {\n    font-size: 12px;\n    line-height: 24px;\n    height: 24px;\n    word-break: keep-all;\n    white-space: nowrap;\n    display: inline-block;\n    vertical-align: middle;\n    *display: inline;\n    *zoom: 1;\n    *vertical-align: auto;\n    _display: inline; }\n    .oni-button .oni-button-text.oni-button-text-left {\n      padding-right: 5px; }\n    .oni-button .oni-button-text.oni-button-text-right {\n      padding-left: 5px; }\n    .oni-button .oni-button-text.oni-button-text-middle {\n      padding-left: 5px;\n      padding-right: 5px; }\n    .oni-button .oni-button-text.oni-button-text-hidden {\n      display: none;\n      padding: 0; }\n\nbutton.oni-button-small, input.oni-button-small {\n  height: 22px; }\n\n.oni-button-small {\n  padding: 0 5px;\n  height: 20px; }\n  .oni-button-small .oni-icon {\n    font-size: 12px;\n    line-height: 20px;\n    height: 20px; }\n  .oni-button-small .oni-button-text {\n    font-size: 12px;\n    line-height: 20px;\n    height: 20px; }\n\nbutton.oni-button-big, input.oni-button-big {\n  height: 32px; }\n\n.oni-button-big {\n  font-size: 14px;\n  padding: 0 15px;\n  height: 30px; }\n  .oni-button-big .oni-icon {\n    font-size: 14px;\n    line-height: 30px;\n    height: 30px; }\n  .oni-button-big .oni-button-text {\n    font-size: 14px;\n    line-height: 30px;\n    height: 30px; }\n\nbutton.oni-button-large, input.oni-button-large {\n  height: 40px; }\n\n.oni-button-large {\n  padding: 0 25px;\n  height: 38px; }\n  .oni-button-large .oni-icon {\n    font-size: 14px;\n    line-height: 38px;\n    height: 38px; }\n  .oni-button-large .oni-button-text {\n    font-size: 14px;\n    line-height: 38px;\n    height: 38px; }\n\n.oni-buttonset {\n  font-size: 0;\n  display: inline-block;\n  vertical-align: middle;\n  *display: inline;\n  *zoom: 1;\n  *vertical-align: auto;\n  _display: inline; }\n  .oni-buttonset .oni-button {\n    margin: 0;\n    float: left;\n    border-left-width: 0; }\n  .oni-buttonset .oni-button-first {\n    border-left-width: 1px; }\n  .oni-buttonset .oni-icon {\n    *margin-top: 0; }\n  .oni-buttonset .oni-button-text {\n    *margin-top: 0; }\n\n.oni-buttonset-vertical {\n  _width: 100px; }\n  .oni-buttonset-vertical .oni-button {\n    display: block;\n    float: none;\n    border-left-width: 1px;\n    border-top-width: 0; }\n  .oni-buttonset-vertical .oni-button-first {\n    border-top-width: 1px; }\n\n/*\n这是每个都组件都应该引用的部分\n*/\n.oni-slider { position: relative; text-align: left; display: -moz-inline-stack; display: inline-block; vertical-align: middle; *vertical-align: auto; zoom: 1; *display: inline; width: 100%; background: #e6e6e6; }\n.oni-slider .oni-helper-hidden-accessible { position: absolute; height: 1px; width: 1px; overflow: hidden; border: 0 none; margin: -1px; padding: 0; clip: rect(0px 0px 0px 0px); }\n.oni-slider .oni-corner-all { -webkit-border-radius: 5px; -moz-border-radius: 5px; -ms-border-radius: 5px; -o-border-radius: 5px; border-radius: 5px; }\n.oni-slider .oni-slider-handle { position: absolute; display: block; cursor: default; height: 14px; width: 14px; line-height: 0px; z-index: 2; -webkit-border-radius: 7px; -moz-border-radius: 7px; -ms-border-radius: 7px; -o-border-radius: 7px; border-radius: 7px; font-size: 0px; background: #3775c0; }\n.oni-slider .oni-slider-handle.oni-state-hover { background: #82aadb; }\n.oni-slider .oni-slider-handle.oni-state-active, .oni-slider .oni-slider-handle.oni-state-focus { background: #22dddd; }\n.oni-slider .oni-slider-range { position: absolute; display: block; z-index: 1; line-height: 0px; border: 0 none; font-size: 0px; background: #afd9fc; }\n.oni-slider.oni-slider-vertical { height: 100px; width: 8px; }\n.oni-slider.oni-slider-vertical .oni-slider-handle { left: -3px; margin-bottom: -7px; margin-left: 0; margin-top: -7px; }\n.oni-slider.oni-slider-vertical .oni-slider-range { left: 0; width: 100%; }\n.oni-slider.oni-slider-vertical .oni-slider-range.oni-slider-range-min { bottom: 0; }\n.oni-slider.oni-slider-vertical .oni-slider-range.oni-slider-range-max { top: 0; }\n.oni-slider.oni-slider-horizontal { height: 8px; }\n.oni-slider.oni-slider-horizontal .oni-slider-handle { margin-left: -7px; top: -3px; }\n.oni-slider.oni-slider-horizontal .oni-slider-range { height: 100%; top: 0; }\n.oni-slider.oni-slider-horizontal .oni-slider-range.oni-slider-range-min { left: 0; }\n.oni-slider.oni-slider-horizontal .oni-slider-range.oni-slider-range-max { right: 0; }\n.oni-slider.oni-state-disabled .oni-slider-handle, .oni-slider.oni-state-disabled .oni-slider-range { background: #ccc; }\n@charset "UTF-8";\n/*\n这是每个都组件都应该引用的部分\n*/\n.oni-datepicker {\n  position: relative;\n  display: block;\n  font-size: 0;\n  white-space: nowrap;\n  color: #333;\n  z-index: 10;\n  width: auto;\n  margin-left: -1px; }\n  .oni-datepicker .oni-icon-calendar-o {\n    padding: 0 6px;\n    vertical-align: top;\n    text-indent: 0;\n    display: inline; }\n  .oni-datepicker .oni-dropdown-source {\n    margin-top: -2px;\n    *margin-top: 0; }\n    .oni-datepicker .oni-dropdown-source .oni-dropdown-input {\n      padding: 0 21px 0 6px !important;\n      line-height: 20px;\n      height: 20px !important; }\n    .oni-datepicker .oni-dropdown-source .oni-dropdown-icon {\n      top: -20px;\n      line-height: 20px; }\n\n/*datepicker position start*/\n.oni-datepicker-wrapper {\n  padding: 9px 0 9px 10px;\n  border: 1px solid #ccc;\n  -webkit-box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.1);\n  -moz-box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.1);\n  -ms-box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.1);\n  -o-box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.1);\n  box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.1);\n  position: absolute;\n  background: #fff; }\n\n.oni-datepicker-wrapper-right {\n  right: -1px; }\n\n.oni-datepicker-wrapper-top {\n  bottom: 24px; }\n\n.oni-datepicker-wrapper-top-right {\n  bottom: 24px;\n  right: -1px; }\n\n/*datepicker position end*/\n.oni-datepicker-content {\n  border: 1px solid #e5e5e5;\n  font-size: 12px;\n  margin-right: 10px;\n  background: #fff; }\n\n.oni-datepicker-label {\n  background-color: #f8f8f8;\n  border-bottom: 1px solid #e5e5e5;\n  font-weight: 700;\n  padding: 7px 0;\n  text-align: center; }\n\n.oni-datepicker-timer {\n  border-top: 1px solid #efefef;\n  padding: 5px 0; }\n  .oni-datepicker-timer .oni-datepicker-time-title {\n    display: inline-block;\n    vertical-align: middle;\n    *display: inline;\n    *zoom: 1;\n    *vertical-align: auto;\n    width: 50px; }\n  .oni-datepicker-timer .oni-datepicker-slide-wrap, .oni-datepicker-timer label {\n    margin: 0; }\n  .oni-datepicker-timer .oni-button-success {\n    float: right; }\n\n.oni-datepicker-content-content {\n  padding: 0 10px;\n  position: relative;\n  display: inline-block;\n  vertical-align: middle;\n  *display: inline;\n  *zoom: 1;\n  *vertical-align: auto; }\n\n.oni-datepicker-watermark {\n  position: absolute;\n  top: 60px;\n  left: 10px;\n  background: transparent;\n  _background: #fff;\n  color: #000;\n  opacity: 0.05;\n  filter: alpha(opacity=5);\n  text-align: center; }\n\n.oni-datepicker-month-year span {\n  display: block;\n  width: 23%;\n  height: 42px;\n  line-height: 42px;\n  float: left;\n  margin: 1%;\n  cursor: pointer;\n  text-align: center;\n  _margin-left: -1px; }\n.oni-datepicker-month-year .oni-datepicker-prev, .oni-datepicker-month-year .oni-datepicker-next {\n  height: auto;\n  line-height: auto;\n  position: relative;\n  width: auto; }\n.oni-datepicker-month-year .oni-datepicker-day-hover {\n  background: #dbebff; }\n.oni-datepicker-month-year .oni-datepicker-selected {\n  background: #3775c0;\n  color: #fff; }\n.oni-datepicker-month-year .oni-datepicker-prev-year, .oni-datepicker-month-year .oni-datepicker-next-year {\n  color: #999; }\n.oni-datepicker-month-year .oni-state-disabled {\n  color: #ccc;\n  cursor: default;\n  background: transparent; }\n\n.oni-datepicker-header {\n  position: relative;\n  height: 30px;\n  line-height: 30px; }\n\n.oni-datepicker .oni-datepicker-prev, .oni-datepicker .oni-datepicker-next {\n  color: #3775c0;\n  cursor: pointer;\n  height: 30px;\n  line-height: 30px;\n  position: absolute;\n  text-align: center;\n  width: 20px;\n  z-index: 1; }\n\n.oni-datepicker .oni-datepicker-prev {\n  left: 0; }\n\n.oni-datepicker .oni-datepicker-next {\n  right: 0; }\n\n.oni-datepicker .oni-datepicker-prev-disabled, .oni-datepicker .oni-datepicker-next-disabled {\n  color: #ccc;\n  cursor: default; }\n\n.oni-datepicker-title {\n  color: #3775c0;\n  font-weight: 700;\n  text-align: center; }\n\n.oni-datepicker-calendar-week, .oni-datepicker-calendar-days {\n  table-layout: fixed;\n  border-collapse: collapse;\n  border-spacing: 0;\n  margin-bottom: 5px;\n  width: 100%; }\n\n.oni-datepicker-calendar-week th {\n  border-bottom: 1px solid #efefef;\n  border-top: 1px solid #efefef;\n  padding: 3px 0;\n  text-align: center;\n  line-height: 18px;\n  font-weight: 400;\n  font-size: 12px; }\n\n.oni-datepicker-calendar-days {\n  height: 150px;\n  position: relative;\n  z-index: 20; }\n  .oni-datepicker-calendar-days .oni-datepicker-default {\n    color: #333;\n    cursor: pointer;\n    text-align: center;\n    line-height: 18px;\n    padding: 3px 0; }\n  .oni-datepicker-calendar-days .oni-datepicker-day-hover {\n    background: #dbebff; }\n  .oni-datepicker-calendar-days .oni-datepicker-week-end {\n    color: #ff5555; }\n\n.oni-datepicker-today {\n  font-family: pmingliu, arial, sans-serif;\n  font-size: 11px; }\n\n.oni-datepicker-day-none {\n  cursor: auto; }\n\n.oni-datepicker-calendar-days .oni-datepicker-selected {\n  background: #3775c0;\n  color: #fff; }\n.oni-datepicker-calendar-days .oni-state-disabled {\n  color: #ccc;\n  cursor: default;\n  background: transparent; }\n\n.oni-datepicker-multiple .oni-datepicker-content {\n  border-right: 0; }\n.oni-datepicker-multiple .oni-datepicker-content-content {\n  border-right: 1px solid #e5e5e5; }\n\n.oni-datepicker-dropdown .oni-dropdown-item {\n  color: #333;\n  font-size: 12px;\n  padding: 0;\n  text-indent: 0 !important;\n  text-align: center; }\n.oni-datepicker-dropdown .oni-dropdown-item-hover {\n  background: #f5f5f5; }\n.oni-datepicker-dropdown .oni-dropdown-item-selected {\n  background: #3775c0; }\n.oni-datepicker-dropdown .oni-dropdown:hover .oni-dropdown-source {\n  border-color: #3775c0;\n  border-bottom-color: #ccc; }\n\n.oni-datepicker-input-wrapper {\n  background: #fff;\n  border: 1px solid #ccc;\n  cursor: pointer;\n  color: #333;\n  display: inline-block;\n  vertical-align: middle;\n  *display: inline;\n  *zoom: 1;\n  *vertical-align: auto; }\n  .oni-datepicker-input-wrapper .oni-datepicker-input-position {\n    position: relative;\n    font-size: 0;\n    line-height: 0; }\n    .oni-datepicker-input-wrapper .oni-datepicker-input-position input {\n      border: none;\n      cursor: pointer;\n      outline: none;\n      padding: 3px 95px 3px 6px;\n      width: 95px;\n      height: 18px;\n      line-height: 18px;\n      font-size: 12px; }\n    .oni-datepicker-input-wrapper .oni-datepicker-input-position .oni-datepicker-tip {\n      position: absolute;\n      top: 3px;\n      right: 10px;\n      line-height: 18px;\n      height: 18px;\n      color: #b5b5b5;\n      font-size: 12px; }\n    .oni-datepicker-input-wrapper .oni-datepicker-input-position .oni-icon-calendar-o {\n      vertical-align: top;\n      margin-left: 2px; }\n\n.oni-datepicker-active {\n  border-color: #3775c0 !important; }\n\n.oni-datepicker-default .special-cell {\n  color: #008000; }\n.oni-datepicker-selected .special-cell {\n  color: #fff; }\n');